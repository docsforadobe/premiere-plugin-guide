
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ppro-plugins.docsforadobe.dev/print_page/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.3">
    
    
      
        <title>Offline Docs - Premiere Pro C++ SDK Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.d7758b05.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site-enum-headings1.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings2.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings3.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings4.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings5.css">
    
      <link rel="stylesheet" href="../css/print-site-enum-headings6.css">
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../_static/extra.css">
    
      <link rel="stylesheet" href="../docs/_global/css/global.css">
    
      <link rel="stylesheet" href="../docs/_global/css/global-syntax-highlight.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
  Welcome to the new docsforadobe guide!

  This is a work in progress.

  Please provide all feedback via
  <a ref="me" href="https://github.com/orgs/docsforadobe/discussions">
    <span class="twemoji">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1M1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.75.75 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25m13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"/></svg>
    </span>
    <strong>the org's discussion forum</strong>
  </a>.

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docsforadobe.dev" title="Premiere Pro C++ SDK Guide" class="md-header__button md-logo" aria-label="Premiere Pro C++ SDK Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Premiere Pro C++ SDK Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Offline Docs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/docsforadobe/premiere-plugin-guide/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    premiere-plugin-guide
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docsforadobe.dev" title="Premiere Pro C++ SDK Guide" class="md-nav__button md-logo" aria-label="Premiere Pro C++ SDK Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Premiere Pro C++ SDK Guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/docsforadobe/premiere-plugin-guide/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    premiere-plugin-guide
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    History
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            History
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Version History
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/what-premiere-plugins-do/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What Premiere Plug-Ins Do
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/sdk-audience/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SDK Audience
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whats New
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/where-do-i-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Where Do I Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/document-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Document Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/getting-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Support and Providing Feedback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/premiere-pro-plugin-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Premiere Pro Plug-In Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/sample-projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample Projects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/debugging-plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging Plug-Ins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/load-em-up/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load Em Up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/plugin-installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plug In Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/localization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Localization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro/best-practices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Best Practices
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/pipl-resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plug-In Property Lists (PiPL) Resource
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/impt-resource/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMPT Resource
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Universals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Universals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/universals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Universals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Time
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/video-frames/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Frames
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/pixel-formats-and-color-spaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pixel Formats And Color Spaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/pixel-aspect-ratio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pixel Aspect Ratio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fields
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/memory-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/basic-types-structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Types Structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/sweetpea-suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SweetPea Suites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../universals/legacy-callback-suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Legacy Callback Suites
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Hardware Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Hardware Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/hardware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/hardware-integration-components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hardware Integration Components
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/classid-filetype-subtype/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClassID, Filetype and Subtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware/classdata-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClassData Functions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Importers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Importers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/importers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Importers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/selector-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/selector-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/return-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Return Codes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/structure-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../importers/suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suites
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Export Controllers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Export Controllers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../export-controllers/export-controllers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Export Controllers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exporters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Exporters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/exporters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whats New
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/selector-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/selector-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/return-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Return Codes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/structure-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exporters/additional-details/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Details
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Transmitters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Transmitters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transmitters/transmitters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transmitters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transmitters/transmitter-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transmitter Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transmitters/tmModule-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tmModule Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transmitters/tmModule-structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tmModule Structures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transmitters/suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suites
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Video Filters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Video Filters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/video-filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Filters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/whats-new/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whats New
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/selector-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/selector-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selector Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/return-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Return Codes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/VideoRecord/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VideoRecord
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../video-filters/additional-details/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional Details
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    GPU Effects & Transitions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            GPU Effects & Transitions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/gpu-effects-transitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPU Effects & Transitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/cuda-opencl-metal-opengl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CUDA, OpenCL, Metal, or OpenGL?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/whats-new-in-ppro-12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New in Premiere Pro 12.0?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/whats-new-in-ppro-cc2015/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New in Premiere Pro CC 2015.4?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/whats-new-in-ppro-cc2014/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's New in Premiere Pro CC 2014?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/PrGPUFilter-function-table/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PrGPUFilter Function Table
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/function-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Function Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/return-codes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Return Codes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/structure-descriptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structure Descriptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/PrGPU-SDK-macros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PrGPU SDK Macros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpu-effects-transitions/suites/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Suites
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    AE Transition Extensions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            AE Transition Extensions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ae-transition-extensions/getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ae-transition-extensions/ae-transition-extensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AE Transition Extensions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ae-transition-extensions/PF_TransitionSuite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PF_TransitionSuite
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Control Surfaces
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            Control Surfaces
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../control-surfaces/control-surfaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control Surfaces
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page Contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page Contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
	<a href="#" class="md-nav__link">
		<span class="md-ellipsis">
			1. Home
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-history" class="md-nav__link">
		<span class="md-ellipsis">
			I. History
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="I. History">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#history" class="md-nav__link">
		<span class="md-ellipsis">
			2. Version History
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-introduction" class="md-nav__link">
		<span class="md-ellipsis">
			II. Introduction
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="II. Introduction">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#intro-what-premiere-plugins-do" class="md-nav__link">
		<span class="md-ellipsis">
			3. What Premiere Plug-Ins Do
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-sdk-audience" class="md-nav__link">
		<span class="md-ellipsis">
			4. SDK Audience
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-whats-new" class="md-nav__link">
		<span class="md-ellipsis">
			5. Whats New
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-where-do-i-start" class="md-nav__link">
		<span class="md-ellipsis">
			6. Where Do I Start
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-document-overview" class="md-nav__link">
		<span class="md-ellipsis">
			7. Document Overview
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-getting-support" class="md-nav__link">
		<span class="md-ellipsis">
			8. Getting Support and Providing Feedback
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-premiere-pro-plugin-types" class="md-nav__link">
		<span class="md-ellipsis">
			9. Premiere Pro Plug-In Types
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-sample-projects" class="md-nav__link">
		<span class="md-ellipsis">
			10. Sample Projects
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-debugging-plugins" class="md-nav__link">
		<span class="md-ellipsis">
			11. Debugging Plug-Ins
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-load-em-up" class="md-nav__link">
		<span class="md-ellipsis">
			12. Load Em Up
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-plugin-installation" class="md-nav__link">
		<span class="md-ellipsis">
			13. Plug In Installation
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-localization" class="md-nav__link">
		<span class="md-ellipsis">
			14. Localization
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#intro-best-practices" class="md-nav__link">
		<span class="md-ellipsis">
			15. Best Practices
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-resources" class="md-nav__link">
		<span class="md-ellipsis">
			III. Resources
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="III. Resources">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#resources-resources" class="md-nav__link">
		<span class="md-ellipsis">
			16. Resources
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#resources-pipl-resource" class="md-nav__link">
		<span class="md-ellipsis">
			17. Plug-In Property Lists (PiPL) Resource
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#resources-impt-resource" class="md-nav__link">
		<span class="md-ellipsis">
			18. IMPT Resource
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-universals" class="md-nav__link">
		<span class="md-ellipsis">
			IV. Universals
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="IV. Universals">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#universals-universals" class="md-nav__link">
		<span class="md-ellipsis">
			19. Universals
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-time" class="md-nav__link">
		<span class="md-ellipsis">
			20. Time
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-video-frames" class="md-nav__link">
		<span class="md-ellipsis">
			21. Video Frames
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-pixel-formats-and-color-spaces" class="md-nav__link">
		<span class="md-ellipsis">
			22. Pixel Formats And Color Spaces
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-pixel-aspect-ratio" class="md-nav__link">
		<span class="md-ellipsis">
			23. Pixel Aspect Ratio
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-fields" class="md-nav__link">
		<span class="md-ellipsis">
			24. Fields
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-audio" class="md-nav__link">
		<span class="md-ellipsis">
			25. Audio
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-memory-management" class="md-nav__link">
		<span class="md-ellipsis">
			26. Memory Management
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-basic-types-structures" class="md-nav__link">
		<span class="md-ellipsis">
			27. Basic Types Structures
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-suites" class="md-nav__link">
		<span class="md-ellipsis">
			28. Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-sweetpea-suites" class="md-nav__link">
		<span class="md-ellipsis">
			29. SweetPea Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#universals-legacy-callback-suites" class="md-nav__link">
		<span class="md-ellipsis">
			30. Legacy Callback Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-hardware-integration" class="md-nav__link">
		<span class="md-ellipsis">
			V. Hardware Integration
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="V. Hardware Integration">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#hardware-hardware" class="md-nav__link">
		<span class="md-ellipsis">
			31. Hardware
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#hardware-hardware-integration-components" class="md-nav__link">
		<span class="md-ellipsis">
			32. Hardware Integration Components
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#hardware-classid-filetype-subtype" class="md-nav__link">
		<span class="md-ellipsis">
			33. ClassID, Filetype and Subtype
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#hardware-classdata-functions" class="md-nav__link">
		<span class="md-ellipsis">
			34. ClassData Functions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-importers" class="md-nav__link">
		<span class="md-ellipsis">
			VI. Importers
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="VI. Importers">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#importers-importers" class="md-nav__link">
		<span class="md-ellipsis">
			35. Importers
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-whats-new" class="md-nav__link">
		<span class="md-ellipsis">
			36. What's New
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-getting-started" class="md-nav__link">
		<span class="md-ellipsis">
			37. Getting Started
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-selector-table" class="md-nav__link">
		<span class="md-ellipsis">
			38. Selector Table
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-selector-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			39. Selector Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-return-codes" class="md-nav__link">
		<span class="md-ellipsis">
			40. Return Codes
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-structures" class="md-nav__link">
		<span class="md-ellipsis">
			41. Structures
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-structure-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			42. Structure Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#importers-suites" class="md-nav__link">
		<span class="md-ellipsis">
			43. Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-export-controllers" class="md-nav__link">
		<span class="md-ellipsis">
			VII. Export Controllers
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="VII. Export Controllers">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#export-controllers-export-controllers" class="md-nav__link">
		<span class="md-ellipsis">
			44. Export Controllers
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-exporters" class="md-nav__link">
		<span class="md-ellipsis">
			VIII. Exporters
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="VIII. Exporters">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#exporters-exporters" class="md-nav__link">
		<span class="md-ellipsis">
			45. Exporters
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-whats-new" class="md-nav__link">
		<span class="md-ellipsis">
			46. Whats New
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-getting-started" class="md-nav__link">
		<span class="md-ellipsis">
			47. Getting Started
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-selector-table" class="md-nav__link">
		<span class="md-ellipsis">
			48. Selector Table
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-selector-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			49. Selector Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-return-codes" class="md-nav__link">
		<span class="md-ellipsis">
			50. Return Codes
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-structures" class="md-nav__link">
		<span class="md-ellipsis">
			51. Structures
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-structure-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			52. Structure Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-suites" class="md-nav__link">
		<span class="md-ellipsis">
			53. Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#exporters-additional-details" class="md-nav__link">
		<span class="md-ellipsis">
			54. Additional Details
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-transmitters" class="md-nav__link">
		<span class="md-ellipsis">
			IX. Transmitters
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="IX. Transmitters">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#transmitters-transmitters" class="md-nav__link">
		<span class="md-ellipsis">
			55. Transmitters
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#transmitters-transmitter-basics" class="md-nav__link">
		<span class="md-ellipsis">
			56. Transmitter Basics
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#transmitters-tmmodule-functions" class="md-nav__link">
		<span class="md-ellipsis">
			57. tmModule Functions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#transmitters-tmmodule-structures" class="md-nav__link">
		<span class="md-ellipsis">
			58. tmModule Structures
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#transmitters-suites" class="md-nav__link">
		<span class="md-ellipsis">
			59. Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-video-filters" class="md-nav__link">
		<span class="md-ellipsis">
			X. Video Filters
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="X. Video Filters">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#video-filters-video-filters" class="md-nav__link">
		<span class="md-ellipsis">
			60. Video Filters
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-whats-new" class="md-nav__link">
		<span class="md-ellipsis">
			61. Whats New
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-getting-started" class="md-nav__link">
		<span class="md-ellipsis">
			62. Getting Started
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-selector-table" class="md-nav__link">
		<span class="md-ellipsis">
			63. Selector Table
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-selector-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			64. Selector Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-return-codes" class="md-nav__link">
		<span class="md-ellipsis">
			65. Return Codes
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-videorecord" class="md-nav__link">
		<span class="md-ellipsis">
			66. VideoRecord
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#video-filters-additional-details" class="md-nav__link">
		<span class="md-ellipsis">
			67. Additional Details
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-gpu-effects-transitions" class="md-nav__link">
		<span class="md-ellipsis">
			XI. GPU Effects & Transitions
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="XI. GPU Effects & Transitions">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-gpu-effects-transitions" class="md-nav__link">
		<span class="md-ellipsis">
			68. GPU Effects & Transitions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-getting-started" class="md-nav__link">
		<span class="md-ellipsis">
			69. Getting Started
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-cuda-opencl-metal-opengl" class="md-nav__link">
		<span class="md-ellipsis">
			70. CUDA, OpenCL, Metal, or OpenGL?
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-whats-new-in-ppro-12" class="md-nav__link">
		<span class="md-ellipsis">
			71. What's New in Premiere Pro 12.0?
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-whats-new-in-ppro-cc2015" class="md-nav__link">
		<span class="md-ellipsis">
			72. What's New in Premiere Pro CC 2015.4?
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-whats-new-in-ppro-cc2014" class="md-nav__link">
		<span class="md-ellipsis">
			73. What's New in Premiere Pro CC 2014?
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-prgpufilter-function-table" class="md-nav__link">
		<span class="md-ellipsis">
			74. PrGPUFilter Function Table
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-function-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			75. Function Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-return-codes" class="md-nav__link">
		<span class="md-ellipsis">
			76. Return Codes
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-structure-descriptions" class="md-nav__link">
		<span class="md-ellipsis">
			77. Structure Descriptions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-prgpu-sdk-macros" class="md-nav__link">
		<span class="md-ellipsis">
			78. PrGPU SDK Macros
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#gpu-effects-transitions-suites" class="md-nav__link">
		<span class="md-ellipsis">
			79. Suites
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-ae-transition-extensions" class="md-nav__link">
		<span class="md-ellipsis">
			XII. AE Transition Extensions
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="XII. AE Transition Extensions">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#ae-transition-extensions-getting-started" class="md-nav__link">
		<span class="md-ellipsis">
			80. Getting Started
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#ae-transition-extensions-ae-transition-extensions" class="md-nav__link">
		<span class="md-ellipsis">
			81. AE Transition Extensions
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
				
					<li class="md-nav__item">
	<a href="#ae-transition-extensions-pf_transitionsuite" class="md-nav__link">
		<span class="md-ellipsis">
			82. PF_TransitionSuite
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
        <li class="md-nav__item">
	<a href="#section-control-surfaces" class="md-nav__link">
		<span class="md-ellipsis">
			XIII. Control Surfaces
		</span>
	</a>

	<!-- Table of contents list -->
	
		<nav class="md-nav" aria-label="XIII. Control Surfaces">
			<ul class="md-nav__list">
				
				
					<li class="md-nav__item">
	<a href="#control-surfaces-control-surfaces" class="md-nav__link">
		<span class="md-ellipsis">
			83. Control Surfaces
		</span>
	</a>

	<!-- Table of contents list -->
	
</li>
				
				
			</ul>
		</nav>
	
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section id="print-site-cover-page">
            <div>

    
        <h1>Premiere Pro C++ SDK Guide</h1>
    

    
        by <h3><a href="https://docsforadobe.dev">https://docsforadobe.dev</a></h3>
    

</div>


<table>

    

    
    <tr>
        <td>Hosted at</td>
        <td>https://ppro-plugins.docsforadobe.dev/</td>
    </tr>
    

    
    <tr>
        <td>Repository</td>
        <td><a href="https://github.com/docsforadobe/premiere-plugin-guide/">https://github.com/docsforadobe/premiere-plugin-guide/</a></td>
    </tr>
    

    
    <tr>
        <td>Copyright</td>
        <td>All content is copyright Adobe Systems Incorporated.</td>
    </tr>
    

</table>
        </section>
        
        <div id="print-site-banner">
            <style>
    #print-site-banner {
        border: 0px;
    }
</style>

<div class="admonition info">

    <p class="admonition-title">Note  This box will disappear during export!</p>

    <p>This page has combined all site pages into one, and can be exported using native browser features.</p>

    <p>You can export to PDF using <b>File > Print > Save as PDF</b>, or save as a single-page HTML file via <b>File > Save As</b>.</p>

    <div class="admonition warning">
        <p class="admonition-title">Warning</p>

        <p>Note that users may have issues <a href="https://github.com/timvink/mkdocs-print-site-plugin/issues/56">printing to PDF on Firefox</a>.</p>
    </div>

</div>
        </div>
        
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index"><h1 id="index-introduction">Introduction<a class="headerlink" href="#index-introduction" title="Permanent link">&para;</a></h1>
<p>Welcome to the Adobe Premiere Pro Software Development Kit!</p>
<p>This is a living document, and is constantly being updated and edited. The latest release of the SDK is available at: <a href="http://www.adobe.io/apis/creativecloud/premierepro.html">https://www.adobe.io/apis/creativecloud/premierepro.html</a>.</p>
<p>If you have questions about the APIs described in this document, or about integration with Premiere Pro, your question may already be answered on the Premiere Pro SDK forum at: <a href="https://community.adobe.com/t5/forums/filteredbylabelpage/board-id/premiere-pro/label-name/sdk">https://community.adobe.com/t5/forums/filteredbylabelpage/board-id/premiere-pro/label-name/sdk</a>.</p></section>
                        <h1 class='nav-section-title' id='section-history'>
                            History <a class='headerlink' href='#section-history' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="history"><h1 id="history-version-history">Version History<a class="headerlink" href="#history-version-history" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Date</th>
<th>Maintainer</th>
<th>Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>23 Oct 2023</td>
<td>Bruce Bullis</td>
<td>Version 24.0</td>
</tr>
<tr>
<td>6 Oct 2021</td>
<td>Sanaz Golbabaei</td>
<td>Version 22.0</td>
</tr>
<tr>
<td>8 May 2020</td>
<td>Bruce Bullis</td>
<td>Version 14.2</td>
</tr>
<tr>
<td>1 May 2019</td>
<td>Bruce Bullis</td>
<td>Version 13.1</td>
</tr>
<tr>
<td>1 November 2018</td>
<td>Bruce Bullis</td>
<td>Version CC 13.0</td>
</tr>
<tr>
<td>16 July 2018</td>
<td>Zac Lam</td>
<td>Version CC 13.0 pre-release</td>
</tr>
<tr>
<td>13 November 2017</td>
<td>Zac Lam</td>
<td>Version CC 12.0</td>
</tr>
<tr>
<td>6 April 2017</td>
<td>Zac Lam</td>
<td>Version CC 2017.1</td>
</tr>
<tr>
<td>4 November 2016</td>
<td>Zac Lam</td>
<td>Version CC 2017</td>
</tr>
<tr>
<td>4 August 2015</td>
<td>Zac Lam</td>
<td>Version CC 2015</td>
</tr>
<tr>
<td>16 June 2014</td>
<td>Zac Lam</td>
<td>Version CC 2014</td>
</tr>
<tr>
<td>21 October 2013</td>
<td>Zac Lam</td>
<td>Version CC October release</td>
</tr>
<tr>
<td>16 July 2013</td>
<td>Zac Lam</td>
<td>Version CC</td>
</tr>
<tr>
<td>19 June 2012</td>
<td>Zac Lam</td>
<td>Version CS6 release 2</td>
</tr>
<tr>
<td>30 April 2012</td>
<td>Zac Lam</td>
<td>Version CS6 release 1</td>
</tr>
<tr>
<td>2 May 2011</td>
<td>Zac Lam</td>
<td>Version CS5.5</td>
</tr>
<tr>
<td>28 April 2010</td>
<td>Zac Lam</td>
<td>Version CS5</td>
</tr>
<tr>
<td>21 September 2009</td>
<td>Zac Lam</td>
<td>Version CS4</td>
</tr>
<tr>
<td>5 October 2007</td>
<td>Zac Lam</td>
<td>Version CS3</td>
</tr>
<tr>
<td>13 July 2006</td>
<td>Zac Lam</td>
<td>Version 2.0 release 2</td>
</tr>
<tr>
<td>17 January 2006</td>
<td>Zac Lam</td>
<td>Version 2.0 release 1</td>
</tr>
<tr>
<td>25 May 2004</td>
<td>Zac Lam</td>
<td>Version 1.5</td>
</tr>
<tr>
<td>21 August 2003</td>
<td>Zac Lam</td>
<td>Version 1.0 (Premiere Pro)</td>
</tr>
<tr>
<td>19 July 2002</td>
<td>Zac Lam &amp; Bruce Bullis</td>
<td>Version 6.5</td>
</tr>
<tr>
<td>10 May 2001</td>
<td>Bruce Bullis</td>
<td>Version 6 release 2</td>
</tr>
<tr>
<td>10 December 2000</td>
<td>Bruce Bullis &amp; Eric Sanders</td>
<td>Version 6 release 1</td>
</tr>
<tr>
<td>20 April 1998</td>
<td>Brian Andrews</td>
<td>Version 5</td>
</tr>
<tr>
<td>9 February 1996</td>
<td>Brian Andrews</td>
<td>Version 4.2</td>
</tr>
<tr>
<td>13 February 1995</td>
<td>Matt Foster, Nick Schlott</td>
<td>Version 4.0 - first Windows release</td>
</tr>
</tbody>
</table></section><h1 class='nav-section-title-end'>Ended: History</h1>
                        <h1 class='nav-section-title' id='section-introduction'>
                            Introduction <a class='headerlink' href='#section-introduction' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="intro-what-premiere-plugins-do"><h1 id="intro-what-premiere-plugins-do-what-premiere-plug-ins-do">What Premiere Plug-Ins Do<a class="headerlink" href="#intro-what-premiere-plugins-do-what-premiere-plug-ins-do" title="Permanent link">&para;</a></h1>
<p>Premiere APIs provide access to many points of the video editing pipeline.</p>
<p>Recording from an external device, device control, media import and export, video effects and transitions, playback to external hardware, and integration with control surfaces can all be performed by plugins.</p></section><section class="print-page" id="intro-sdk-audience"><h1 id="intro-sdk-audience-sdk-audience">SDK Audience<a class="headerlink" href="#intro-sdk-audience-sdk-audience" title="Permanent link">&para;</a></h1>
<p>The Premiere Pro Software Development Kit enables developers to create plugins for Premiere Pro, After Effects, Audition, Media Encoder, Character Animator, and Premiere Elements.</p>
<p>The required development environment for the Premiere Pro SDK for Windows is Microsoft Visual Studio 2015 Update 3 on Windows 7 or Windows 10 64-bit. When setting up Visual Studio you may need to adjust some installation settings to install the components for compiling 64-bit plugins. On macOS, the minimum environment is Xcode 7.3 on macOS 10.12 or later.</p>
<p>The SDK includes sample projects for these development environments. On Windows, projects can often be updated to more current versions of Microsoft Visual Studio by simply opening the project and approving the automatic conversion. The sample code is written in C++. Other compilers and programming languages are not supported. We cannot assist with platform API programming issues not central to Premiere Pro plugin programming.</p>
<p>If this is your first time developing a Premiere plugin, you can skip <a href="#intro-whats-new">Whats New</a>.</p>
<p>If you are developing on macOS, see a quickstart video on building a plugin using a similar SDK (on macOS) <a href="https://assets.adobe.com/public/08c43fb7-4633-4007-5201-b3b77405d770?scid=social_20180227_75678337">here</a>, and then go directly to <a href="#intro-where-do-i-start">Where Do I Start</a>.</p></section><section class="print-page" id="intro-whats-new"><h1 id="intro-whats-new-whats-new">Whats New<a class="headerlink" href="#intro-whats-new-whats-new" title="Permanent link">&para;</a></h1>
<h2 id="intro-whats-new-whats-new-in-240">What's New in 24.0<a class="headerlink" href="#intro-whats-new-whats-new-in-240" title="Permanent link">&para;</a></h2>
<p>With the removal of Capture functionality from Premiere Pro, support for Record modules and Device Control plug-ins have been removed from the SDK.</p>
<h2 id="intro-whats-new-whats-new-in-154">What's New in 15.4<a class="headerlink" href="#intro-whats-new-whats-new-in-154" title="Permanent link">&para;</a></h2>
<p>We've updated the <code>PrSetEnv.h</code> header, to allow building ARM-native plugins.</p>
<h2 id="intro-whats-new-whats-new-in-142">What's New in 14.2<a class="headerlink" href="#intro-whats-new-whats-new-in-142" title="Permanent link">&para;</a></h2>
<p>Cleared the dust and debris off of the SDK source files. ;) The primary motivation for this new SDK release is to provided updated headers. Example code utilizing those new headers, as well as documentation of their new contents, will (regrettably) need to wait for another day.</p>
<h2 id="intro-whats-new-whats-new-in-131">What's New in 13.1<a class="headerlink" href="#intro-whats-new-whats-new-in-131" title="Permanent link">&para;</a></h2>
<p>Removed "CC" from the product name.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-130">What's New in 13.0<a class="headerlink" href="#intro-whats-new-whats-new-in-130" title="Permanent link">&para;</a></h2>
<p>The only significant change to Premiere Pro's C++ APIs for 13.0 is the addition of color-space specifiers to the Importer API. The ColorProfileRec structure is deprecated; instead, Importers will describe supported colorspaces (in response to imGetIndColorSpace ) using a ColorSpaceRec.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-120">What's New in 12.0<a class="headerlink" href="#intro-whats-new-whats-new-in-120" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-effects-and-transitions">Effects and Transitions<a class="headerlink" href="#intro-whats-new-effects-and-transitions" title="Permanent link">&para;</a></h3>
<p><a href="#gpu-effects-transitions-gpu-effects-transitions">GPU Effects &amp; Transitions</a> built using this SDK are now compatible with After Effects 15.0 and later. The sample GPU effect projects have been updated so that they load in both Premiere Pro and After Effects.</p>
<p>The newly provided <a href="#gpu-effects-transitions-prgpu-sdk-macros">PrGPU SDK Macros</a> and device functions allow you to write kernels that will compile on CUDA, and Metal.</p>
<p>Multiple effects and transitions can now be implemented in a single plugin binary, by defining multiple entry points in software at runtime. The new method for registering entry points will be a replacement for the PiPL resource, and is currently only supported in Premiere Pro. The sample effects and transitions demonstrate this new method, while <a href="#resources-pipl-resource">Plug-In Property Lists (PiPL) Resource</a> remains, for backwards-compatibility in PPro, and compatibility with AE.</p>
<p><a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a> is now at version 5, adding the new call GetImmersiveVideoVRConfiguration(), which returns the VR video settings of the specified sequence.</p>
<p>New selector available for <a href="#exporters-suites-export-info-suite">Export Info Suite</a>: kExportInfo_SourceBitrate. This returns the source's bitrate in kbps, and is not available for all source types. exParamType can now be of type exParamType_thumbnail. A new flag exParamFlag_verticalAlignment can now be set so that property name and value controls are displayed vertically rather than side-by-side.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-20171">What's New in CC 2017.1<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-20171" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-importers">Importers<a class="headerlink" href="#intro-whats-new-importers" title="Permanent link">&para;</a></h3>
<p>Importers that support captions can make use of the mayHaveCaptions flag in <code>imFileInfoRec8</code>, for better performance. Also, a <code>imImageInfoRec</code> is now added to <code>imInitiateAsyncClosedCaptionScanRec</code>, just for the width and height parameters.</p>
<h3 id="intro-whats-new-exporters">Exporters<a class="headerlink" href="#intro-whats-new-exporters" title="Permanent link">&para;</a></h3>
<p>Exporters can advertise whether they support color profile embedding. There are also APIs to set color profile in the exporter, and a flag that controls whether profile is to be embedded. The color profile is passed to an exporter via exDoExportRec, for it to embed in the output media according to format standards. This is currently used for exports from After Effects through Media Encoder.</p>
<h3 id="intro-whats-new-transmit">Transmit<a class="headerlink" href="#intro-whats-new-transmit" title="Permanent link">&para;</a></h3>
<p>New 10-bit and 12-bit RGB HLG formats have been added for expanded HDR support.</p>
<p>In <a href="#universals-sweetpea-suites-app-info-suite">App Info Suite</a>, a new identifier has been added for Character Animator, which now supports transmit plugins.</p>
<h3 id="intro-whats-new-vr-video-support">VR Video Support<a class="headerlink" href="#intro-whats-new-vr-video-support" title="Permanent link">&para;</a></h3>
<p>The Playmod Immersive Video Suite can be used to query whether or not ambisonics monitoring is on or not, in the VR Video Settings.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2017">What's New in CC 2017<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2017" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-vr-video-support-added">VR Video Support added<a class="headerlink" href="#intro-whats-new-vr-video-support-added" title="Permanent link">&para;</a></h3>
<p>Transmit plugins can have the VR perspective in the desktop Monitor driven by the Head-Mounted Display, so when the person with the Head-Mounted Display looks in a different direction, the desktop Monitor shows that same perspective. To do this, the transmit plugin can use the new Playmod Immersive Video Suite to indicate that it supports tracking.</p>
<p>Once Premiere sees the transmitter supports tracking, when the user activates the VR viewer, the new menu item, "Track Head-Mounted Display" will become active, and can be toggled to begin tracking. The transmitter should call NotifyDirection() as frequently it wants with updated info. Premiere will pick up the new position on the next frame draw.</p>
<p>For importers, imFileInfoRec8 has now been expanded so that if an importer detects that a clip contains VR video, it can inform Premiere.</p>
<h3 id="intro-whats-new-new-sample-projects">New Sample Projects<a class="headerlink" href="#intro-whats-new-new-sample-projects" title="Permanent link">&para;</a></h3>
<p>This SDK includes a new render path for the ProcAmp sample for Metal. This sample requires macOS 10.11.4 and later.</p>
<p>We've also added a sample GPU effect called Vignette, donated by Bart Walczak. This effect has OpenCL, CUDA, and software render paths. Software rendering in Premiere Pro includes</p>
<p>8-bit/32-bit RGB/YUV software render paths. Software rendering in After Effects includes 8-bit and 32-bit smart rendering.</p>
<p>And lastly, the Control Surface sample is now cross-platform.</p>
<h3 id="intro-whats-new-new-panelscripting-capabilities">New Panel/Scripting Capabilities<a class="headerlink" href="#intro-whats-new-new-panelscripting-capabilities" title="Permanent link">&para;</a></h3>
<p>Scripting, the processing underlying HTML5 panels, is consistently being improved upon. In this release, we've added scripting functions to add/modify effect keyframes. See the sample panel code on GitHub:</p>
<p><a href="https://github.com/Adobe-CEP/Samples/tree/master/PProPanel">https://github.com/Adobe-CEP/Samples/tree/master/PProPanel</a></p>
<p>In particular, see the function onPlayWithKeyframes() in jsx/Premiere.jsx</p>
<h3 id="intro-whats-new-miscellaneous">Miscellaneous<a class="headerlink" href="#intro-whats-new-miscellaneous" title="Permanent link">&para;</a></h3>
<p>In <a href="#universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite</a>, new versions of various calls have been added with an additional boolean value that allows renders to skip rendering of non-intrinsic effects.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-20240">What's New in CC 2024.0<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-20240" title="Permanent link">&para;</a></h2>
<p>The Transmit API has been expanded to enable multiple audio outputs, and plug-ins which stream video and audio information.</p>
<h2 id="intro-whats-new-whats-new-in-cc-20154">What's New in CC 2015.4<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-20154" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-metal-rendering-for-effects-and-transitions">Metal rendering for Effects and Transitions<a class="headerlink" href="#intro-whats-new-metal-rendering-for-effects-and-transitions" title="Permanent link">&para;</a></h3>
<p>GPU-accelerated rendering using Metal is now supported for third-party effects and transitions. PrGPUDeviceFramework_Metal has been added as one of the enum values in PrGPUDeviceFramework.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-20153">What's New in CC 2015.3?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-20153" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-control-surfaces">Control Surfaces<a class="headerlink" href="#intro-whats-new-control-surfaces" title="Permanent link">&para;</a></h3>
<p>New suites have been added for Control Surfaces to support the Lumetri Color panel. Most controls are supported, including the color wheels, but not including the Curves controls.</p>
<p>There is now a shared location for Control Surface plugins. On Mac:</p>
<p>/Library/Application Support/Adobe/Common/Plugins/ControlSurface, and</p>
<p>~/Library/Application Support/Adobe/Common/Plugins/ControlSurface</p>
<p>On Win:</p>
<p>C:Program FilesAdobeCommonPluginsControlSurface</p>
<h3 id="intro-whats-new-importers_1">Importers<a class="headerlink" href="#intro-whats-new-importers_1" title="Permanent link">&para;</a></h3>
<p>Video duration can now be reported as a 64-bit integer, using the new imFileInfoRec8. vidDurationInFrames, to support longer file lengths. There is also a new suite function, SetImporterInstanceStreamFileCount(), for importers to specify how many files they open.</p>
<h3 id="intro-whats-new-exporters_1">Exporters<a class="headerlink" href="#intro-whats-new-exporters_1" title="Permanent link">&para;</a></h3>
<p>New flags can be set in exExporterInfoRec.flags, to restrict an exporter from being used in a way that doesn't make sense. Now, an exporter can specify that video-only export is not supported. Also, an exporter can turn off the Publish tab if it chooses to.</p>
<h3 id="intro-whats-new-effects">Effects<a class="headerlink" href="#intro-whats-new-effects" title="Permanent link">&para;</a></h3>
<p>Source settings effects should use the updated Source Settings suite with new</p>
<p>SetIsSourceSettingsEffect() function. They should make this call during <em>PF_Cmd</em></p>
<p><em>GLOBAL_SETUP</em>. This function was added to handle the case when the effect is applied to proxy video.</p>
<h3 id="intro-whats-new-misc">Misc<a class="headerlink" href="#intro-whats-new-misc" title="Permanent link">&para;</a></h3>
<p>Using the <a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a>, a new call has been added, GetProxyFlag(), for a plugin to know whether the proxy mode is on or off.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-20151">What's New in CC 2015.1?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-20151" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-transmit_1">Transmit<a class="headerlink" href="#intro-whats-new-transmit_1" title="Permanent link">&para;</a></h3>
<p>Native support for 12-bit Dolby PQ pixel formats, with Rec. 709, P3, and Rec. 2020 primaries, have been added.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2015">What's New in CC 2015?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2015" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-after-effects-style-transitions">After Effects-Style Transitions<a class="headerlink" href="#intro-whats-new-after-effects-style-transitions" title="Permanent link">&para;</a></h3>
<p>AE-style Transitions can now get and set transition start and end percentages. The user can change the start and end parameters in the Effect Controls panel. To allow a plugin to be informed of changes to these values, there are two new functions in the PF TransitionSuite: RegisterTransitionStartParam() and RegisterTransitionEndParam(), which register these parameters with the plugin as float parameters. Once registered, the plugin will receive <em>PF_Cmd_USER_CHANGED_PARAM</em> when these params change, as well as when the transition is first applied, so the plugin can initialize them to the desired value.</p>
<p>AE-style Transitions can now retrieve GPU frames from arbitrary locations in the underlying clips. There is a new PrGPUDependency_TransitionInputFrame, and PrGPUFilterFrameDependency has a new member to specify whether frames from the incoming or outgoing clips are needed.</p>
<h3 id="intro-whats-new-source-settings-effect-importer">Source Settings = Effect + Importer<a class="headerlink" href="#intro-whats-new-source-settings-effect-importer" title="Permanent link">&para;</a></h3>
<p>Source Settings for clips can now be implemented using effects that are tied to importers. This has the advantage of providing settings in the Effect Controls panel, rather than in a modal dialog. Editors can adjust Source Settings for multiple clips this way. These effects are used for the DPX source settings, CinemaDNG, etc.</p>
<p>To implement this, an importer should set <code>imImportInfoRec.hasSourceSettingsEffect</code> to true. Then in imFileInfoRec8, it should set sourceSettingsMatchName to the match name of the effect to be used for the Source Settings.</p>
<p>On the effects side, a new PF Source Settings Suite has been added to PrSDKAESupport.h, for effects using the After Effects API. This is how an effect registers a function to handle the Source Settings command.</p>
<p>A source settings effect is used primarily for the parameter UI and management. A source settings effect doesn't provide the actual frames. In fact, the effect isn't even called with <em>PF_Cmd_RENDER</em>. The frames come directly from the importer, which provides frames based on the settings as passed to the importer via prefs data.</p>
<p>When a clip is first imported, the effect is called with <em>PF_Cmd_SEQUENCE_SETUP</em>. It should call PerformSourceSettingsCommand() in the Source Settings Suite, to initialize the prefs. This causes the importer to get called with <em>imPerformSourceSettingsCommand</em>, where it can read the file and set the default prefs. param1 of that function is imFileAccessRec8*, and param2 is imSourceSettingsCommandRec*.</p>
<p>When the source settings effect parameters are changed, the effect gets called with <em>PF_Cmd_TRANSLATE_PARAMS_TO_PREFS</em>. The function signature is:</p>
<div class="highlight"><pre><span></span><code><span class="n">PF_Err</span><span class="w"> </span><span class="n">TranslateParamsToPrefs</span><span class="p">(</span>
<span class="w">  </span><span class="n">PF_InData</span><span class="o">*</span><span class="w">                      </span><span class="n">in_data</span><span class="p">,</span>
<span class="w">  </span><span class="n">PF_OutData</span><span class="o">*</span><span class="w">                     </span><span class="n">out_data</span><span class="p">,</span>
<span class="w">  </span><span class="n">PF_ParamDef</span><span class="o">*</span><span class="w">                    </span><span class="n">params</span><span class="p">[],</span>
<span class="w">  </span><span class="n">PF_TranslateParamsToPrefsExtra</span><span class="w">  </span><span class="o">*</span><span class="n">extra</span><span class="p">)</span>
</code></pre></div>
<p>With the new prefs, the importer will be sent <em>imOpenFile8, imGetInfo8, imGetIndPixelFormat, imGetPreferredFrameSize, imGetSourceVideo</em>, etc.</p>
<p>imSourceSettingsCommandRec and PF Source Settings Suite allow the effect to communicate directly with the importer, so that it can initialize its parameters properly, based on the source media. In the DPX source settings effect, for example, in <em>PF_Cmd_SEQUENCE_SETUP</em>, it calls PF_SourceSettingsSuite-&gt;PerformSourceSettingsCommand(), which calls through to the importer with the selector <em>imPerformSourceSettingsCommand</em>. Here, the importer opens the media, looks at the header and initializes the prefs based on the media. For</p>
<p>DPX, the initial parameters and default prefs are based on the bit depth of the video. These default prefs are passed back to the effect, which sets the initial param values and stashes a copy of them in sequence_data to use again for future calls to <em>PF_Cmd_SEQUENCE_RESETUP</em>.</p>
<h3 id="intro-whats-new-importers_2">Importers<a class="headerlink" href="#intro-whats-new-importers_2" title="Permanent link">&para;</a></h3>
<p>For any importers that are using imClipFrameDescriptorRec, note that the structure definition has changed. Any importers that use this in both CC 2014 and CC 2015 or later will need to do a runtime check before accessing the members of this structure.</p>
<h3 id="intro-whats-new-exporters_2">Exporters<a class="headerlink" href="#intro-whats-new-exporters_2" title="Permanent link">&para;</a></h3>
<p>Exporters can now use standard parameters for audio channel configuration, as used with the built-in QuickTime exporter. The new exporter parameters ADBEAudioChannelConfigurationGroup and ADBEAudioChannelConfiguration supercede ADBEAudioNumChannels. The new Export Audio Param Suite can be used to query/change the audio channel configuration.</p>
<p>The <a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a> is now at version 2, revising <code>MakeAudioRenderer()</code> to take <code>PrAudioChannelLabel*</code> as a parameter.</p>
<h3 id="intro-whats-new-transmitters">Transmitters<a class="headerlink" href="#intro-whats-new-transmitters" title="Permanent link">&para;</a></h3>
<p>Transmitters can get a few new bits of information to aid with A/V sync. In the <a href="#transmitters-suites-playmod-audio-suite">Playmod Audio Suite</a>, the new function GetNextAudioBuffer2() returns the actual time the rendered buffer is from.</p>
<p>Also, in <code>tmPlaybackClock</code>, the new members <code>inAudioOffset</code> and <code>inVideoOffset</code> have been added to specify the offset chosen by the user in the preferences.</p>
<p>The host accounts for these offsets automatically by sending frames early, but if a transmitter is manually trying to line up audio and video times, it can use this to know how far apart from each other they are supposed to be.</p>
<h3 id="intro-whats-new-miscellaneous_1">Miscellaneous<a class="headerlink" href="#intro-whats-new-miscellaneous_1" title="Permanent link">&para;</a></h3>
<p>Legacy callbacks bottlenecks-&gt;ConvolvePtr() and IndexMapPtr() have had their parameter types updated to fix a bug. Any plugins that use these in both previous versions and CC 2015 will need to do a runtime check before calling this function.</p>
<p>Starting in CC 2015, we now provide installer hints for Mac. You'll find a new plist file "com. Adobe.Premiere Pro.paths.plist" at "/Library/Preferences". This contains hints for your Mac installer to know where to install plugins, and is similar to the registry entries we have been providing on Win.</p>
<h3 id="intro-whats-new-new-sample-projects_1">New Sample Projects<a class="headerlink" href="#intro-whats-new-new-sample-projects_1" title="Permanent link">&para;</a></h3>
<p>This SDK includes updated GPU effect and transition samples that demonstrate GPU rendering. Thanks to Rama Hoetzlein from nVidia for the CUDA render path provided for the SDK_CrossDissolve sample!</p>
<p>A barebones Control Surface sample is now provided, too.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2014-82">What's New in CC 2014 (8.2)?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2014-82" title="Permanent link">&para;</a></h2>
<p>Importers now have more visibility into the player's intent on a given async request, since the render context info is now passed in imSourceVideoRec.inRenderContext. Async importers can implement <em>aiSelectEfficientRenderTime</em> to specify if a frame request would be more efficient at another frame time, for example at I-frame boundaries. The <a href="#universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite</a> has been updated to version 4, adding new calls that include imRenderContext as a parameter.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2014-81">What's New in CC 2014 (8.1)?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2014-81" title="Permanent link">&para;</a></h2>
<p>Importers that support growing files now get a hint if the host knows the file has stopped growing:</p>
<p>imFileInfoRec8.ignoreGrowing.</p>
<p>Exporters can now get the list of source pixel formats used by the clips in a sequence that is being smart rendered. GetExportSourceInfo(, kExportInfo_SourcePixelFormat, ) provides this information.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2014-801">What's New in CC 2014 (8.0.1)?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2014-801" title="Permanent link">&para;</a></h2>
<p>Importers can fill in imImageInfoRec.codecDescription to provide a string that will be displayed for clips in the Video Codec column of the Project panel.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-2014">What's New in CC 2014?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-2014" title="Permanent link">&para;</a></h2>
<p>Importers can now choose the format they are rendering in, which allows importers to change pixel formats and quality based on criteria like enabled hardware and other source settings, such as HDR. To handle the negotiation, implement <em>imSelectClipFrameDescriptor</em>.</p>
<p>imSourceVideoRec now includes a quality attribute. <a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a> is now at version 6, adding AddFrameToCacheWithColorProfile2() and</p>
<p>GetFrameFromCacheWithColorProfile2(), which are the same as the ones added in version 5 with the addition of a PrRenderQuality parameter.</p>
<p>imFileInfoRec8.highMemUsage is no longer supported.</p>
<p>A new recorder return code was added, rmRequiresRoyaltyContent. Return this from</p>
<p>recmod_Startup8 or recmod_StartRecord, if the codec used is unlicensed.</p>
<p>OpenCL rendering now also uses the half-precision 16-bit floating point pixel format for rendering. GPU effects and transitions that support OpenCL should implement both 16f and 32f rendering.</p>
<p>A new plugin API has been introduced for hardware Control Surfaces. This is the API that allows support for EUCON and Mackie devices to control audio mixing and basic transport controls. The API supports two-way communication with Premiere Pro, so that hardware faders, VU meters, etc are in sync with the application.</p>
<p>Premiere Pro is now localized in Russian and Brazilian Portugese.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-october-2013">What's New in CC October 2013?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-october-2013" title="Permanent link">&para;</a></h2>
<p>We've extended the After Effects API to support native transitions in Premiere Pro.</p>
<p>For device controllers, the new command <em>cmdSetDeviceHandler</em> was added. This command tells the device controller which panel is using the device controller - either the Capture panel, or Export to Tape panel.</p>
<p>For importers, imInitiateAsyncClosedCaptionScanRec now provides extra fields for the importer to fill in the estimated duration of all the captions. This is useful for certain cases where the embedded captions contain many frames of empty data.</p>
<p>We added version 2 of the <a href="#exporters-suites-export-file-suite">Export File Suite</a> to resolve a mismatch in seek modes.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc-july-2013">What's New in CC July 2013?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc-july-2013" title="Permanent link">&para;</a></h2>
<p>The only significant additions made in the July 2013 update to version CC are in the device controller API.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cc">What's New in CC?<a class="headerlink" href="#intro-whats-new-whats-new-in-cc" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-new-edit-to-tape-panel">New Edit to Tape Panel<a class="headerlink" href="#intro-whats-new-new-edit-to-tape-panel" title="Permanent link">&para;</a></h3>
<p>You can think of this as the Export to Tape equivalent of the Capture panel for capturing, which provides a video preview and various settings in the PPro UI. Among the benefits are more seamless integration, a more familiar UI for users, integrated device presets, and some new capabilities like adding Bars and Tone / Black Video / Universal Counting Leader to the start of your layoff to tape. To use this new feature, read more about what's new in the device controller API.</p>
<h3 id="intro-whats-new-new-gpu-extensions-for-effects-and-transitions">New GPU Extensions for Effects and Transitions<a class="headerlink" href="#intro-whats-new-new-gpu-extensions-for-effects-and-transitions" title="Permanent link">&para;</a></h3>
<p>New GPU Extensions to existing APIs allow effects and transitions to access video frames in GPU memory, when using the Mercury Playback Engine in a GPU-accelerated mode. See <a href="#gpu-effects-transitions-gpu-effects-transitions">GPU Effects &amp; Transitions</a> for more information.</p>
<h3 id="intro-whats-new-closed-captioning-support-in-importer-and-exporter-apis">Closed Captioning Support in Importer and Exporter APIs<a class="headerlink" href="#intro-whats-new-closed-captioning-support-in-importer-and-exporter-apis" title="Permanent link">&para;</a></h3>
<p>The importer and exporter APIs have been extended to support closed captioning embedded in media.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Premiere Pro can also import and export captions in a sidecar file (e.g. .mcc, .scc, or .xml) alongside any media file, regardless of the media file format.</p>
</div>
<h3 id="intro-whats-new-miscellaneous-improvements">Miscellaneous Improvements<a class="headerlink" href="#intro-whats-new-miscellaneous-improvements" title="Permanent link">&para;</a></h3>
<ul>
<li>A new pixel format for native 10-bit RGB support - PrPixelFormat_RGB_444_10u, as well as <code>PrPixelFormat_UYVY_422_32f_*</code> formats</li>
<li>VST 3 support allows many more audio plugins to run in Premiere Pro</li>
<li>Windows installer improvements, by adding new registry values for preset and settings locations.</li>
<li>Get the current build number via the <a href="#universals-sweetpea-suites-app-info-suite">App Info Suite</a></li>
<li>Importers can now support audio beyond basic mono, stereo, and 5.1, without implementing multiple streams, and importers can return varying pixel formats depending on the clip settings. Read more about what's new for importers.</li>
<li>Exporters can get the number of audio channels in the source, and check if the user has checked "Use Previews" in the Export Settings dialog. They can also move an existing settings parameter to a different location. Read more about what's new for exporters.</li>
<li>The <a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a> can retrieve the field type, zero point, and whether or not the timecode is drop-frame</li>
<li>New flags to the transition API as a hint to optimize rendering when a transition only has an input on one side</li>
<li>The <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a> provides access to a new property: Effect_ClipName</li>
</ul>
<p>Premiere Pro is now localized in Chinese.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cs60x">What's New in CS6.0.x?<a class="headerlink" href="#intro-whats-new-whats-new-in-cs60x" title="Permanent link">&para;</a></h2>
<p>CS6.0.2 adds more support for growing files in importers. A transmitter can now label its audio channels for the Audio Output Mapping preferences.</p>
<p>CS6.0.1 gives device controllers a way to get the number of frames dropped during an insert edit, to abort an Export to Tape if desired. This method is already superceded by the new Edit to Tape panel functionality in CC.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cs6">What's New in CS6?<a class="headerlink" href="#intro-whats-new-whats-new-in-cs6" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-transmit-api">Transmit API<a class="headerlink" href="#intro-whats-new-transmit-api" title="Permanent link">&para;</a></h3>
<p>We are introducing the Transmit API as the preferred means for external hardware monitoring. This new API provides vastly simplified support for monitoring on external hardware. Transmit plugins offer more flexible usage, since they are not tied to the sequence Editing Mode, which cannot be changed once a sequence has been edited. Transmitters can be specified by the user in Preferences &gt; Playback. Other plugins such as importers and effects with settings preview dialogs can send video out to the active transmitter, opening up new possibilities for hardware monitoring. See <a href="#transmitters-transmitters">Transmitters</a> for more details.</p>
<h3 id="intro-whats-new-exporter-enhancements">Exporter Enhancements<a class="headerlink" href="#intro-whats-new-exporter-enhancements" title="Permanent link">&para;</a></h3>
<p>Exporters can now use "push" model compression. This can simplify export code and improve performance. The "pull" model is still supported, and required for legacy versions and Encore.</p>
<p>We've added the <a href="#exporters-suites-export-standard-param-suite">Export Standard Param Suite</a>, which provides the standard parameters used in many built-in exporters. This can greatly reduce the amount of code needed to manage standard parameters for a typical exporter, and guarantee consistency with built-in exporters.</p>
<p>Exporters can now set tooltip strings for parameters. Multiple exporters are now supported in a single plugin. And the Maximum Render Precision flag is now queried from the exporter, rather than being handled without the exporter's knowledge.</p>
<p>Exporters can now set events (error, warning, or info) for a specific encode in progress in the Adobe Media Encoder render queue, using the new <a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a>. These events are displayed in the application UI, and are also added to the AME encoding log.</p>
<p>Make sure your presets go in the right location in the new AME Preset Browser. Read additional details of what's new in <a href="#exporters-exporters">Exporters</a>.</p>
<h3 id="intro-whats-new-stereoscopic-video-pipeline">Stereoscopic Video Pipeline<a class="headerlink" href="#intro-whats-new-stereoscopic-video-pipeline" title="Permanent link">&para;</a></h3>
<p>We are also adding API support for stereoscopic video throughout the render pipeline. This affects importers, effects built using the After Effects API, and exporters.</p>
<h3 id="intro-whats-new-other-changes">Other Changes<a class="headerlink" href="#intro-whats-new-other-changes" title="Permanent link">&para;</a></h3>
<h4 id="intro-whats-new-importers_3">Importers<a class="headerlink" href="#intro-whats-new-importers_3" title="Permanent link">&para;</a></h4>
<p>Importers can now support growing files in Premiere Pro. We have also added a way for importers to specify all their source files to be copied by Collect Files in After Effects. There is also a new function in the Media Accelerator Suite to validate the content state of a media accelerator. See additional details of what's new in <a href="#importers-importers">Importers</a>.</p>
<h4 id="intro-whats-new-recorders">Recorders<a class="headerlink" href="#intro-whats-new-recorders" title="Permanent link">&para;</a></h4>
<p>For Recorders, the parent window handle is now properly passed in during <em>recmod_ShowOptions</em></p>
<p>when a recorder should display its modal setup dialog.</p>
<h4 id="intro-whats-new-players">Players<a class="headerlink" href="#intro-whats-new-players" title="Permanent link">&para;</a></h4>
<p>For Players, pmPlayerSettings has a new member, mPrimaryDisplayFullScreen, which indicates whether or not the player should display fullscreen.</p>
<h4 id="intro-whats-new-device-controllers">Device controllers<a class="headerlink" href="#intro-whats-new-device-controllers" title="Permanent link">&para;</a></h4>
<p>Device controllers have a new callback, DroppedFrameProc, to provide the feature to abort and Export to Tape if frames are dropped.</p>
<p>New video segment properties were added:</p>
<ul>
<li><code>kVideoSegmentProperty_MediaClipScaleToFramePolicy</code>,</li>
<li><code>kVideoSegmentProperty_AdjustmentAdjustmentMediaIsOpaque</code>,</li>
<li><code>kVideoSegmentProperty_AdjustmentOperatorsHash</code>,</li>
<li><code>kVideoSegmentProperty_Media_InPointMediaTimeAsTicks</code>,</li>
<li><code>kVideoSegmentProperty_Media_OutPointMediaTimeAsTicks</code>,</li>
<li><code>kVideoSegmentProperty_Clip_TrackItemStartAsTicks</code>,</li>
<li><code>kVideoSegmentProperty_Clip_TrackItemEndAsTicks</code>,</li>
<li><code>kVideoSegmentProperty_Clip_EffectiveTrackItemStartAsTicks</code>,</li>
<li><code>kVideoSegmentProperty_Clip_EffectiveTrackItemEndAsTicks</code></li>
</ul>
<p>The <a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a> is now at version 4. AdjustReservedMemorySize provides a way to adjust the reserved memory size relative to the current size. This may be easier for the plugin, rather than maintaining the absolute memory usage and updating it using the older ReserveMemory call.</p>
<p>MPEG-4 pixel formats and full-range Rec. 709 MPEG-2 and MPEG-4 formats have now been added for native support in the render pipeline.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cs55">What's New in CS5.5?<a class="headerlink" href="#intro-whats-new-whats-new-in-cs55" title="Permanent link">&para;</a></h2>
<h4 id="intro-whats-new-importers_4">Importers<a class="headerlink" href="#intro-whats-new-importers_4" title="Permanent link">&para;</a></h4>
<p>Importers can now support color management, when running in After Effects. Now, even nonsynthetic importers can explicitly provide peak audio data. And a new return value allows an importer to specify that it is dependent on a library that needs to be activated. See additional details of what's new in <a href="#importers-importers">Importers</a>.</p>
<h4 id="intro-whats-new-players_1">Players<a class="headerlink" href="#intro-whats-new-players_1" title="Permanent link">&para;</a></h4>
<p>Players can now support closed captioning. See additional details of what's new in the players chapter.</p>
<h4 id="intro-whats-new-exporters_3">Exporters<a class="headerlink" href="#intro-whats-new-exporters_3" title="Permanent link">&para;</a></h4>
<p>Exporters now have a call to request a rendered frame and then conform it to a specific pixel format. See additional details of what's new in <a href="#exporters-exporters">Exporters</a>.</p>
<h4 id="intro-whats-new-export-controller">Export Controller<a class="headerlink" href="#intro-whats-new-export-controller" title="Permanent link">&para;</a></h4>
<p>We have opened up a new Export Controller API that can drive any exporter to output a file in any format and perform custom post-processing operations. Developers wanting to integrate Premiere Pro with an asset management system will want to use this API instead of the exporter API. See <a href="#export-controllers-export-controllers">Export Controllers</a> for more details.</p>
<p>A new pair of pixel formats was added to natively support full-range Rec. 601 4:2:0 YUV planar video, both progressive and interlaced: PrPixelFormat_YUV_420_MPEG2_FRAME_PICTURE_PLANAR_8u_601_FullRange and PrPixelFormat_YUV_420_MPEG2_FIELD_PICTURE_PLANAR_8u_601_FullRange.</p>
<p>The <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a> now provides a new call to retrieve a segment node for a requested time. There are also a few new properties for media nodes:</p>
<ul>
<li><code>StreamIsContinuousTime</code>,</li>
<li><code>ColorProfileName</code>,</li>
<li><code>ColorProfileData</code>, and</li>
<li><code>ScanlineOffsetToImproveVerticalCentering</code></li>
</ul>
<p>The <a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a> now provides a call to get the sequence frame rate, which may be useful for effects.</p>
<p>The <a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a> has a new call to set the aspect ratio flag of a DV frame.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cs5">What's New in CS5?<a class="headerlink" href="#intro-whats-new-whats-new-in-cs5" title="Permanent link">&para;</a></h2>
<h4 id="intro-whats-new-importers_5">Importers<a class="headerlink" href="#intro-whats-new-importers_5" title="Permanent link">&para;</a></h4>
<p>Importers now have access to the resolution, pixel aspect ratio, timebase, and audio sample rate of the source clip from a setup dialog. Custom importers can use a new call to update a clip after it has modified by the user in the setup dialog. Please refer to <a href="#importers-importers">Importers</a> for more info on what's new.</p>
<h4 id="intro-whats-new-recorders_1">Recorders<a class="headerlink" href="#intro-whats-new-recorders_1" title="Permanent link">&para;</a></h4>
<p>Recorders can now provide audio metering during preview and capture.</p>
<h4 id="intro-whats-new-exporters-and-players">Exporters and players<a class="headerlink" href="#intro-whats-new-exporters-and-players" title="Permanent link">&para;</a></h4>
<p>Exporters and players can automatically take advantage of GPU acceleration, if available on the end-user's system. Each project now has a setting for the renderer that the user can choose in the project settings dialog. When renders occur through the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> or the Playmod Render Suite, they now go through the renderer chosen for the current project. This allows third-party exporters and players to use the built-in GPU acceleration available in the new Mercury Playback Engine.</p>
<p>Exporters and players can now handle any pixel format, with the new <a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a>. Exporters and players that parse segments and perform their own rendering can now call the host for subtree rendering. See the <a href="#universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite</a> for details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you provide an installer for an exporter, custom presets created in Premiere Pro are now visible in AME and vice-versa.</p>
</div>
<h3 id="intro-whats-new-mac-64-bit-and-cocoa">Mac 64-Bit and Cocoa<a class="headerlink" href="#intro-whats-new-mac-64-bit-and-cocoa" title="Permanent link">&para;</a></h3>
<p>It is invalid to unload any bundle that uses Cocoa because of restrictions in the Objective-C runtime which do not support unregistering classes. If a plugin uses Cocoa, it must call CFRetain on its own bundle, otherwise it will cause a crash when the application is closing and tries to unload the plugins.</p>
<hr />
<h2 id="intro-whats-new-whats-new-in-cs4">What's New in CS4?<a class="headerlink" href="#intro-whats-new-whats-new-in-cs4" title="Permanent link">&para;</a></h2>
<h3 id="intro-whats-new-new-renderer-api-and-custom-pixel-formats">New Renderer API and Custom Pixel Formats<a class="headerlink" href="#intro-whats-new-new-renderer-api-and-custom-pixel-formats" title="Permanent link">&para;</a></h3>
<p>The new renderer API provides a way to take over and accelerate rendering of segments. Just as a player can choose which segments to accelerate, so a renderer can choose which segments to accelerate. Renderers may accelerate any segment, in any sequence, in any project.</p>
<p>Renderers also provide a way to add completely custom pixel formats to the render pipeline. Supporting a custom pixel format in an importer, a renderer, and an exporter is the new way to implement smart rendering, by passing custom compressed data from input to output.</p>
<h3 id="intro-whats-new-sequence-preview-formats">Sequence Preview Formats<a class="headerlink" href="#intro-whats-new-sequence-preview-formats" title="Permanent link">&para;</a></h3>
<p>Sequence preview file formats are now defined by Sequence encoder preset files. Without any presets installed, you will not be able to create a new sequence using your custom editing mode.</p>
<h3 id="intro-whats-new-separate-processes-during-export">Separate Processes During Export<a class="headerlink" href="#intro-whats-new-separate-processes-during-export" title="Permanent link">&para;</a></h3>
<p>When choosing export settings, the settings UI is displayed by Premiere Pro. When the user confirms the settings, the clip or sequence is passed to Media Encoder. From Media Encoder, frames from the clip or sequence can be retrieved and rendered without further participation from Premiere Pro. For a clip export, Media Encoder uses any installed importers to get source frames. For sequence export, Media Encoder uses a process called PProHeadless, to import and render frames to be exported.</p>
<p>Since there are so many processes involved during export, it is important that plugins be accessible to all processes, by being installed in the common plugins folder. PProHeadless Plugin Loading.log provides information on the PProHeadless process. PProHeadless is also used when the user creates a dynamic link to a .prproj that is not opened in Premiere Pro.</p>
<h3 id="intro-whats-new-xmp-metadata">XMP metadata<a class="headerlink" href="#intro-whats-new-xmp-metadata" title="Permanent link">&para;</a></h3>
<p>There are built-in XMP metadata handlers for known filetypes. These handlers write and read metadata to and from the file, without going through the importer. <em>imSetTimeInfo8</em> is no longer called, since this is set by the XMP handler for that filetype.</p>
<h3 id="intro-whats-new-more-pixel-format-flexibility">More Pixel Format Flexibility<a class="headerlink" href="#intro-whats-new-more-pixel-format-flexibility" title="Permanent link">&para;</a></h3>
<p>Effects, transitions, and exporters no longer need to support 8-bit RGB at a minimum. So, for example, an effect can be written to process floating point YUV only. If necessary, Premiere will make an intermediate conversion so that the effect will receive the pixel format it supports.</p>
<hr />
<h2 id="intro-whats-new-legacy-api">Legacy API<a class="headerlink" href="#intro-whats-new-legacy-api" title="Permanent link">&para;</a></h2>
<p>Legacy API features, such as selectors and callbacks that are superceded by new ones, are deprecated, but are supported, unless indicated.</p></section><section class="print-page" id="intro-where-do-i-start"><h1 id="intro-where-do-i-start-where-do-i-start">Where Do I Start<a class="headerlink" href="#intro-where-do-i-start-where-do-i-start" title="Permanent link">&para;</a></h1>
<p>Read about the sample projects. Decide which one is closest to the functionality you want to provide. Build the plugin into the shared plugins folder.</p>
<p>Launch Premiere Pro with the debugger attached, and set breakpoints at the plugin's entry point to see all communication between Premiere Pro and the plugin.</p>
<p>The documentation is intended as a reference with detailed explanation where appropriate, but studying the interaction between Premiere Pro and plugins is the best way to understand it.</p>
<p>Write plugins by modifying sample plugin source code. This will greatly simplify your efforts, and make it easier for us to help you. Feel free to explore and experiment with the API on your own once you're familiar with it, but please, resist the temptation to start from scratch; you'll only force yourself to repeat other developers' mistakes, including our own.</p>
<p>If you run into behavior that seems wrong, see if you can reproduce the behavior using one of the unmodified sample projects. This can save you a lot of time, if you can determine whether the bug behavior was introduced by your modifications, or was already there to begin with.</p></section><section class="print-page" id="intro-document-overview"><h1 id="intro-document-overview-document-overview">Document Overview<a class="headerlink" href="#intro-document-overview-document-overview" title="Permanent link">&para;</a></h1>
<p>This introduction information is common to all the plugin types.</p>
<p>All developers should read this chapter, and browse through chapters two and three before diving too deep into plugin development.</p>
<p><a href="#resources-resources">Resources</a> is a short chapter that describes the Premiere Pro-specific resources used by plugins, including the Plug-in Property List (PiPL).</p>
<p><a href="#universals-universals">Universals</a> documents concepts, data types, and structures used throughout the APIs. It also describes suites and functions used by more than one type of plugin.</p>
<p><a href="#hardware-hardware">Hardware</a> introduces Media Abstraction, used by hardware integrators and software developers to integrate with Premiere and accelerate specific workflows.</p>
<p>This document is designed to be read non-linearly. You can browse through the topics from the bookmarks that appear in the left-hand panel in Acrobat, or the right-hand panel in the Preview application on macOS. A simple search for a well-chosen keyword will also turn up much information on any given topic.</p>
<hr />
<h2 id="intro-document-overview-documentation-conventions">Documentation Conventions<a class="headerlink" href="#intro-document-overview-documentation-conventions" title="Permanent link">&para;</a></h2>
<p>Functions, structure names and general C/C++ code are in Courier; <code>MyStruct.member</code> and <code>MyFunction()</code></p>
<p>Underlined text in light blue is hyperlinked. Premiere selectors are italicized; <em>imGetPrefs</em>.</p></section><section class="print-page" id="intro-getting-support"><h1 id="intro-getting-support-getting-support-and-providing-feedback">Getting Support and Providing Feedback<a class="headerlink" href="#intro-getting-support-getting-support-and-providing-feedback" title="Permanent link">&para;</a></h1>
<p>Please read relevant sections of this document and view the included sample code before requesting assistance. Please direct questions regarding installation, configuration, or use of Adobe products to Adobe Technical Support.</p>
<p>Having a solid understanding of digital video concepts is vital to developing plugins. This documentation assumes you understand basic video topics such as resolution, frame rates, field interlacing, pixel aspect ratio, bit depth, timecode, compression, color spaces, etc. You must also understand how your plugin will fit into a user's workflow in Premiere Pro. If you aren't yet familiar with Premiere Pro or video editing concepts, we recommend the Adobe Premiere Pro Classroom in a Book.</p>
<p>Use the <a href="https://community.adobe.com/t5/forums/filteredbylabelpage/board-id/premiere-pro/label-name/sdk">Premiere Pro SDK forum</a> to ask questions on the API and general integration.</p></section><section class="print-page" id="intro-premiere-pro-plugin-types"><h1 id="intro-premiere-pro-plugin-types-premiere-pro-plug-in-types">Premiere Pro Plug-In Types<a class="headerlink" href="#intro-premiere-pro-plugin-types-premiere-pro-plug-in-types" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-importers">Importers</a></td>
<td>Import video and audio media into Premiere.<br/><br/>Synthetic importers, a subset, dynamically synthesize media without creating an actual file on disk.<br/><br/>Custom importers, dynamically synthesize media to disk.</td>
</tr>
<tr>
<td><a href="#export-controllers-export-controllers">Export Controllers</a></td>
<td>Can drive any exporter to generate a file in any format and perform custom post-processing operations.<br/><br/>Developers wanting to integrate Premiere Pro with an asset management system will want to use this API instead of the exporter API.</td>
</tr>
<tr>
<td><a href="#exporters-exporters">Exporters</a></td>
<td>Allows the user to output media to disk.</td>
</tr>
<tr>
<td><a href="#transmitters-transmitters">Transmitters</a></td>
<td>Sends video, audio, and closed captioning to any external device during playback and editing.</td>
</tr>
<tr>
<td><a href="#video-filters-video-filters">Video Filters</a></td>
<td><strong>We strongly recommend using the After Effects SDK to develop effects plugins. Most of the effects included in Premiere Pro are After Effects plugins.</strong><br/><br/>Process a series of video frames with parameters that can be animated over time.</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-gpu-effects-transitions">GPU Effects &amp; Transitions</a></td>
<td>Process two video sources into a single destination over time.<br/><br/>This API is based on the After Effects API, with certain functions to enable transition functionality in Premiere Pro.</td>
</tr>
<tr>
<td><a href="#control-surfaces-control-surfaces">Control Surfaces</a></td>
<td>Interface with a hardware control surface to support audio mixing, basic transport controls, and the Lumetri Color panel.<br/><br/>The API supports two-way communication with Premiere Pro, so that motorized hardware faders, VU meters, etc can be in sync with the application.</td>
</tr>
</tbody>
</table>
<h2 id="intro-premiere-pro-plugin-types-other-supported-plug-in-standards">Other Supported Plug-In Standards<a class="headerlink" href="#intro-premiere-pro-plugin-types-other-supported-plug-in-standards" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Adobe After Effects API</td>
<td>Premiere Pro supports a portion of the AE API.<br/><br/>The After Effects SDK is not included in the Premiere Pro SDK.<br/>The last chapter in the After Effects SDK Guide.pdf, included in the After Effects SDK, contains information on known differences with how Premiere Pro supports the AE API.</td>
</tr>
<tr>
<td>VST</td>
<td>Starting in CC, Premiere supports version 3 of the VST specification for audio effects.<br/>In CS6.x and previous versions, support was limited to version 2.4.</td>
</tr>
<tr>
<td>ASIO</td>
<td>An ASIO driver is often provided in addition to a transmit plug-in, to provide audio output during editing, playback, and Export To Tape.<br/><br/>Prior to CS6, an ASIO driver was required to support audio input for voiceover recording in the audio mixer. On macOS, a Core Audio component may be provided rather than an ASIO driver.</td>
</tr>
<tr>
<td>Core Audio</td>
<td>macOS only. May be provided instead of an ASIO driver.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="intro-premiere-pro-plugin-types-plug-in-support-across-adobe-video-and-audio-applications">Plug-in Support Across Adobe Video and Audio Applications<a class="headerlink" href="#intro-premiere-pro-plugin-types-plug-in-support-across-adobe-video-and-audio-applications" title="Permanent link">&para;</a></h3>
<p>This chart shows which third-party plugins are supported by the various Video and Audio applications.</p>
<table>
<thead>
<tr>
<th></th>
<th>Premiere Pro</th>
<th>After Effects</th>
<th>Media Encoder</th>
<th>Audition</th>
<th>Character Animator</th>
<th>Prelude</th>
</tr>
</thead>
<tbody>
<tr>
<td>After Effects AEGPs</td>
<td></td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>After Effects effects</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>After Effects transitions</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>ASIO</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>Control Surfaces</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CoreAudio</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>Premiere device controllers</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Premiere export controllers</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Premiere exporters</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Premiere importers</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>Premiere recorders</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Premiere transmitters</td>
<td>X</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
<td>X</td>
</tr>
<tr>
<td>Premiere video filters</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>QuickTime codecs</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>Transitions</td>
<td>X</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>VfW codecs</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td>X</td>
<td></td>
<td>X</td>
</tr>
<tr>
<td>VST audio effects</td>
<td>X</td>
<td></td>
<td></td>
<td>X</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h3 id="intro-premiere-pro-plugin-types-premiere-elements-plug-in-support">Premiere Elements Plug-in Support<a class="headerlink" href="#intro-premiere-pro-plugin-types-premiere-elements-plug-in-support" title="Permanent link">&para;</a></h3>
<p>Premiere Elements uses the same core libraries for plug-in support that Premiere Pro does, although Premiere Elements is 32-bit, whereas Premiere Pro is 64-bit starting with CS5.</p>
<table>
<thead>
<tr>
<th>Premiere Elements version</th>
<th>Equivalent Premiere Pro API version</th>
</tr>
</thead>
<tbody>
<tr>
<td>12</td>
<td>CS6</td>
</tr>
<tr>
<td>11</td>
<td>CS5.5</td>
</tr>
<tr>
<td>10</td>
<td>CS5.5</td>
</tr>
<tr>
<td>9</td>
<td>CS5</td>
</tr>
<tr>
<td>8</td>
<td>CS4</td>
</tr>
</tbody>
</table>
<p>It's always important to test the plug-in fully in each application before advertising compatibility.</p>
<p>Check out <a href="#exporters-additional-details-guidelines-for-exporters-in-premiere-elements">Guidelines for Exporters in Premiere Elements</a> for instructions on how to set up your exporter to be used in Premiere Elements.</p>
<hr />
<h3 id="intro-premiere-pro-plugin-types-what-exactly-is-a-premiere-pro-plugin">What Exactly Is a Premiere Pro Plugin?<a class="headerlink" href="#intro-premiere-pro-plugin-types-what-exactly-is-a-premiere-pro-plugin" title="Permanent link">&para;</a></h3>
<p>Premiere plugins contain a single entry point of a type specific to each API.</p>
<p>Plugins are DLLs on Windows, and Carbon or Cocoa Bundles on macOS.</p>
<p>Plug-ins in the \Plug-ins[language] folder, and any of its subfolders, will be loaded at launch.</p>
<p>Plugins can have private resources.</p>
<p>Only one plug-in per file is parsed, unlike After Effects and Photoshop plugins, which can contain multiple entry points.</p></section><section class="print-page" id="intro-sample-projects"><h1 id="intro-sample-projects-sample-projects">Sample Projects<a class="headerlink" href="#intro-sample-projects-sample-projects" title="Permanent link">&para;</a></h1>
<h2 id="intro-sample-projects-descriptions">Descriptions<a class="headerlink" href="#intro-sample-projects-descriptions" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SDK File Importer</td>
<td>This importer supports .sdk media files.<br/><br/>To use the importer, choose File &gt; Import, and select an .sdk file.<br/>Such files may be created using the SDK Exporter.<br/><br/>It supports uncompressed 8-bit RGB with or without alpha, and packed 10-bit YUV (v410).<br/>It supports mono, stereo, and 5.1 audio at arbitrary sample rates and 32-bit float.<br/>It supports trimming using the Project Manager, Properties and Data Rate Analysis, Unicode filenames, the avoidAudioConform flag, and can read video frames asynchronously.<br/>It also features a test harness for multistream audio, which can be turned on by uncommenting the <code>MULTISTREAM_AUDIO_TESTING</code> define in the header.</td>
</tr>
<tr>
<td>Synth Import</td>
<td>This synthetic importer generates 8-bit YUV and RGB, video only.<br/><br/>To use it, choose File &gt; New &gt; SDK Synthetic Importer.<br/><br/>When the clip is created, it demonstrates a sample settings dialog, which can be displayed again by double-clicking the clip in the Project Panel or Timeline Panel.<br/><br/>Every time the settings dialog is displayed, it creates new footage in memory. It creates ten seconds of footage at 24 fps. The video consists of horizontal lines of random colors.<br/><br/>No file is created on disk for an example of that, see the Custom Importer.</td>
</tr>
<tr>
<td>SDK Custom Import</td>
<td>This custom importer creates a clip similar to the Synth Import sample, but generates it to disk, rather than memory.<br/><br/>To use it, choose File &gt; New &gt; SDK Custom Importer.<br/><br/>Or, import an existing .sdkc clip from the File &gt; Import dialog.<br/><br/>On Windows, newly generated files with .sdkc file extensions are created in C:WindowsTemp. On macOS, they are created on the Desktop.<br/><br/>After the sample settings dialog, it optionally displays a background frame from the timeline (useful for titlers).<br/><br/>The generated footage is between 2 and 30 frames at 24 fps, with a random resolution between 32 and 720 pixels wide and between 32 and 480 high, at DV NTSC pixel aspect ratio.</td>
</tr>
<tr>
<td>ExportController</td>
<td>Adds a new menu item to File &gt; Export &gt; SDK Export Controller.<br/><br/>When selected, it displays a simple message box on Windows, takes the DV NTSC widescreen preset, and exports a file to <code>C:\Windows\Temp</code> on Windows, or to the Desktop on macOS.</td>
</tr>
<tr>
<td>SDK Exporter</td>
<td>This exporter writes .sdk files.<br/><br/>To use it, choose File &gt; Export &gt; Media, and in the Export Settings choose File Type: SDK File.<br/><br/>It supports uncompressed 8-bit RGB with or without alpha, and packed 10-bit YUV (v410).<br/><br/>It supports mono, stereo, and 5.1 audio at arbitrary sample rates and 32-bit float.<br/><br/>It demonstrates custom parameters, including a custom settings button.<br/><br/>It also writes marker data to an .html file with the same filename.<br/><br/>To write files with v410 compression using 8-bit RGB sources, this sample uses routines to convert the 8-bit RGB data to 32-bit RGB, then to 32-bit YUV, and finally to v410.<br/><br/>These same routines may be adapted for transitions, filters, and other plugin types.</td>
</tr>
<tr>
<td>Transmitter</td>
<td>The sample transmit plugin does not output to any hardware, but can be used to step through interactions between the host and plugin in the debugger.<br/><br/>To use it, go the the Preferences &gt; Playback, and choose the SDK Transmitter as the Audio Device, and as a Video Device.<br/><br/>This transmit plugin provides the basic structure, separating concepts of plugin and instance. For video, it declares support for any pixel format and resolution.<br/><br/>For audio, it declares support for 2 channels. It also declares a small latency value for demonstrative purposes.<br/><br/>On Windows, there is some basic debug logging.<br/><br/>It does not actually provide it's own clock at this time, but on playback it simply pretends to step forward a frame with every frame received.<br/><br/>This may result in some bug behavior such as playing back at speeds faster or slower than normal, depending on how fast the host can push frames.</td>
</tr>
<tr>
<td>SDK_ProcAmp</td>
<td>This GPU-accelerated effect demonstrates a simple ProcAmp effect using the After Effects API with the Premiere Pro GPU extensions.<br/><br/>The effect is found in the SDK folder of the Video Effects in the Effects Control panel.<br/><br/>It supports Metal acceleration.<br/><br/><strong>This sample requires macOS 10.11.4 and later.</strong></td>
</tr>
<tr>
<td>Vignette</td>
<td>This effect creates a vignette on video using the After Effects API with the Premiere Pro GPU extensions.<br/><br/>Has CUDA and software render paths.<br/><br/>Software rendering in Premiere Pro includes 8-bit/32-bit RGB/ YUV software render paths.<br/><br/>Software rendering in After Effects includes 8-bit and 32-bit smart rendering.<br/><br/>Thanks to Bart Walczak for donating this sample.</td>
</tr>
<tr>
<td>SDK_CrossDissolve</td>
<td>This GPU-accelerated transition demonstrates a simple cross dissolve transition using the After Effects API with the transition extensions.<br/><br/>The transition is found in the SDK folder of the Video Transitions in the Effects Control panel.<br/><br/>It supports CUDA acceleration.</td>
</tr>
<tr>
<td>ControlSurface</td>
<td>You should see the plugin in the PPro UI in Preferences &gt; Control Surface, when you hit the Add button, as one of the options in the Device Class drop-down next to Mackie and EUCON (currently shows as "SDK Control Surface Sample").<br/><br/>Just a starting point for you to add your functionality.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="intro-sample-projects-how-to-build-the-sdk-sample-projects">How To Build the SDK Sample Projects<a class="headerlink" href="#intro-sample-projects-how-to-build-the-sdk-sample-projects" title="Permanent link">&para;</a></h2>
<p>The required development environment is described in <a href="#intro-sdk-audience">SDK Audience</a>.</p>
<p>See a quickstart video on building an effect using a similar SDK (on macOS) <a href="https://assets.adobe.com/public/08c43fb7-4633-4007-5201-b3b77405d770?scid=social_20180227_75678337">here</a>.</p>
<p>We've combined the sample projects into a single master project, stored in the Examples folder of the SDK.</p>
<p>For macOS it is BuildAll.xcodeproj; for Windows, it is _BuildAll.sln.</p>
<p>You'll need to specify some settings so that the plugins are built into a folder where they will be loaded by the application you are developing for.</p>
<p>We recommend plugins be built into the following folder for macOS: <code>/Library/Application Support/Adobe/Common/Plug-ins/[version]/MediaCore/</code></p>
<p>Version is locked at 7.0 for all CC versions, or CSx for earlier versions.</p>
<p>For example: <code>/Library/Application Support/Adobe/Common/Plug-ins/7.0/MediaCore/</code></p>
<p>or: <code>/Library/Application Support/Adobe/Common/Plug-ins/CS6/MediaCore/</code></p>
<p>and the following path for Windows:</p>
<p><code>[Program Files]\Adobe\Common\Plug-ins\[version]\MediaCore\\</code></p>
<p>for example: <code>C:\Program Files\Adobe\Common\Plug-ins\7.0\MediaCore\\</code></p>
<p>or: <code>C:\Program Files\Adobe\Common\Plug-ins\CS6\MediaCore\\</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This Windows path is only recommended for development purposes.</p>
</div>
<p>In Xcode, set the build location for the project in File &gt; Project Settings. Press the Advanced button. Under Build Location choose Custom, select Absolute, and set the Products path.</p>
<p>In Visual Studio, for convenience, we have set the Output File for all sample projects to use the base path set by the environment variable PREMSDKBUILDPATH. You'll need to set this as a user environment variable for your system, and shown in the screenshot below.</p>
<p><img alt="Setting Environment Variables" src="../_static/env-vars.png" title="Setting Environment Variables" />
<em>Setting Environment Variables</em></p>
<ol>
<li>On Windows, right-click <em>My Computer &gt; Properties</em>, and in the left sidebar choose <em>Advanced System Settings</em>.</li>
<li>In the dialog that appears, hit the <em>Environment Variables</em> button.</li>
<li>In the <em>User variables</em>, create a new variable named PREMSDKBUILDPATH, with the path as described above. (e.g. "C:Program FilesAdobeCommonPlug-ins[version]MediaCore").</li>
<li>Log out of Windows, and log back in so that the variable will be set.</li>
</ol>
<p>When compiling the plugins, if you see a link error such as:</p>
<p>"Cannot open file "[MediaCore plugins path]plugin.prm", make sure to launch Visual Studio in administrator mode. In your Visual Studio installation, right-click devenv.exe, Properties &gt; Compatibility &gt; Privilege Level, click "Run this program as an administrator".</p>
<p>It's not recommended to copy plugins into the plugin folder after you've built them, because that won't allow you to debug the plugins while the host application is running.</p></section><section class="print-page" id="intro-debugging-plugins"><h1 id="intro-debugging-plugins-debugging-plug-ins">Debugging Plug-Ins<a class="headerlink" href="#intro-debugging-plugins-debugging-plug-ins" title="Permanent link">&para;</a></h1>
<p>Once you've got the plugin building directly into the plugins folder as explained above, here's how to specify Premiere Pro as the application to run during debug sessions:</p>
<h2 id="intro-debugging-plugins-windows">Windows<a class="headerlink" href="#intro-debugging-plugins-windows" title="Permanent link">&para;</a></h2>
<ol>
<li>In the Visual Studio solution, in the Solution Explorer panel, choose the project you want to debug</li>
<li>Right-click it and choose Set as StartUp Project</li>
<li>Right-click it again and choose Properties</li>
<li>In Configuration Properties &gt; Debugging &gt; Command, provide the path to the executable file of the host application the plugins will be running in (this may be Premiere Pro or After Effects)</li>
<li>From there you can either hit the Play button, or you can launch the application and later at any point choose Debug &gt; Attach to Process</li>
</ol>
<h2 id="intro-debugging-plugins-macos">macOS<a class="headerlink" href="#intro-debugging-plugins-macos" title="Permanent link">&para;</a></h2>
<ol>
<li>In Xcode, in the Project Navigator, choose the xcodeproj you want to debug</li>
<li>Choose Product &gt; Scheme &gt; Edit Scheme</li>
<li>Under Run, in the Info tab, for Executable, choose the host application the plugins will be running in (this may be Premiere Pro or After Effects)</li>
<li>From there you can either hit the Play button to build and run the current scheme, or you can launch the application and later at any point choose Debug &gt; Attach to Process.</li>
</ol>
<p>Another way to do this in Visual Studio is by placing a line of code</p>
<div class="highlight"><pre><span></span><code><span class="n">_asm</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><span class="n">DebugBreak</span><span class="p">();</span>
</code></pre></div>
<p>You will then receive the Microsoft error reporting message, but if you hit the Debug button you will enable Just-In-Time Debugging and can attach to the process.</p></section><section class="print-page" id="intro-load-em-up"><h1 id="intro-load-em-up-load-em-up">Load Em Up<a class="headerlink" href="#intro-load-em-up-load-em-up" title="Permanent link">&para;</a></h1>
<h2 id="intro-load-em-up-plug-in-caching">Plug-in Caching<a class="headerlink" href="#intro-load-em-up-plug-in-caching" title="Permanent link">&para;</a></h2>
<p>On its first launch, Premiere Pro loads all the plugins, reads the <a href="#resources-pipl-resource">Plug-In Property Lists (PiPL) Resource</a>, and sends any startup selectors to determine the plugins' capabilities. To speed up future application launches, it saves some of these capabilities in what we call the plugin cache (the registry on Windows, a Property List file on macOS).</p>
<p>The next time the application is launched, the cached data is used wherever possible, rather than loading all the plugins on startup. Using this changed data will make the application launch faster, but for a small set of plugins that need to be initialized every time, it may be undesirable. These include plugins that need to get run-time information that might change in between app launches (i.e. installed codec lists), and plugins that check for hardware and need to be able to fail. So we give your plugin control final say over whether or not it is reloaded each time.</p>
<p>By default, importers, recorders, and exporters are not cached. Exporters can be cached by setting exExporterInfoRec.isCacheable to non-zero during <em>exSelStartup</em>. Importers and recorders can be cached by returning <code>*IsCacheable</code> instead of <code>*NoError</code> (e.g. for importers, imIsCacheable instead of imNoError) on the startup selector.</p>
<p>By default, legacy video filters and device controllers are cached by default. To specify that legacy video filters must be reloaded each time, rather than cached, Premiere filters should respond to <em>fsCacheOnLoad</em>.</p>
<hr />
<h2 id="intro-load-em-up-resolving-plug-in-loading-problems">Resolving Plug-in Loading Problems<a class="headerlink" href="#intro-load-em-up-resolving-plug-in-loading-problems" title="Permanent link">&para;</a></h2>
<p>There are various tools to help in the development process.</p>
<p>On Windows only, you can force Premiere to reload all the plugins by holding down shift on startup. The plugin cache on macOS may be deleted manually from the user folder, at <code>~/Library/Preferences/com.Adobe.Premiere Pro [version].plist.</code></p>
<p>For plugin loading issues, you may first check one of the plugin loading logs.</p>
<p>On Windows: <code>[user folder]\AppData\Roaming\Adobe\Premiere Pro\[version number]\Plugin Loading.log</code></p>
<p>On macOS, this is: <code>~/Library/Application Support/Adobe/Premiere Pro/[version number]/Plugin Loading.log</code></p>
<p>Your plugin will be listed by path and filename, and the log will contain details on what happened during the plugin loading process. Starting in CC 2017, it now logs any error codes returned from an effect on <em>PF_Cmd_GLOBAL_SETUP</em>.</p>
<p>If the log says a plugin has been marked as Ignore, the most common culprit is a library dependency that could not be loaded. If your plugin uses some image processing or proprietary code library, is it installed on the system, and in the right place? On Windows, a tool such as Dependency Walker (depends.exe) is helpful to check a plugin's dependencies.</p>
<hr />
<h2 id="intro-load-em-up-library-linkage">Library Linkage<a class="headerlink" href="#intro-load-em-up-library-linkage" title="Permanent link">&para;</a></h2>
<p>On Windows, we strongly recommend dynamically linking to libraries, rather than static linking. In Visual Studio, the runtime library linkage setting is in C/C++ &gt; Code Generation &gt; Runtime Library.</p>
<p>We ask developers to compile with the /MD flag (or /MDd for debug builds), and not with the /MT flag.</p>
<p>Failure to do so can contribute to the problem where the Premiere Pro process can run out of fiber-local storage slots, and subsequent plugins fail to load.</p>
<hr />
<h2 id="intro-load-em-up-no-shortcuts">No Shortcuts<a class="headerlink" href="#intro-load-em-up-no-shortcuts" title="Permanent link">&para;</a></h2>
<p>The Premiere Pro plugin loader does not follow Windows shortcuts. Although it does follow macOS symbolic links, we recommend against using symbolic links in the plugins folder, since the plugin loader checks the timestamp of the symbolic link rather than the timestamp of the plugin pointed to.</p>
<p>Explanation: If you use a symbolic link and the plugin fails to load once (for example, if the plugin pointed to isn't there) it will be marked to ignore when Premiere launches. Even if the plugin is restored to the proper location, the plugin loader will check the modification time of</p>
<p>the symbolic link, rather than the plugin pointed to, and continue to ignore the plugin until the modification date of the symbolic link is updated. So plugins should be placed directly in a plugins folder or subfolder.</p></section><section class="print-page" id="intro-plugin-installation"><h1 id="intro-plugin-installation-plug-in-installation">Plug In Installation<a class="headerlink" href="#intro-plugin-installation-plug-in-installation" title="Permanent link">&para;</a></h1>
<p>Plug-ins must have an installer. This simplifies installation by the user, provides more compact distribution, and ensures all the pieces are installed correctly.</p>
<p>Create a container folder for your plug-in(s) to minimize user confusion.</p>
<p>Don't unintentionally overwrite existing plugins, or replace newer versions.</p>
<p>The installer should find the default installation directories as described below.</p>
<p>It is also appreciated when an installer allows the user to specify an alternate directory.</p>
<p>Plugins should be installed in the common plugin location.</p>
<p>Supported Premiere and After Effects plugins installed here will be loaded by Premiere Pro, After Effects, Audition, and Media Encoder.</p>
<p>Other plugin types, such as QuickTime and VfW codecs should be installed at the operating system level.</p>
<hr />
<h2 id="intro-plugin-installation-windows">Windows<a class="headerlink" href="#intro-plugin-installation-windows" title="Permanent link">&para;</a></h2>
<p>As of Premiere Pro version 22.0, the <code>\Plug-ins</code> directories have been renamed <code>\Plugins</code>, to better coincide with Apple's Human Interface Guidelines. Premiere Pro will continue to attempt to load plugins from <code>\Plug-Ins</code> directories as well, for the foreseeable future. We will continue to specify</p>
<p>Starting in CC, each version of Premiere Pro will create a unique registry key that provide locations of folders of interest for third-party installations for that version.</p>
<p>For example, here are the registry values <strong>for CC 2015.3:</strong></p>
<p>Key: <code>HKEY_LOCAL_MACHINE/Software/Adobe/Premiere Pro/10.0/</code></p>
<p>Value name: <code>CommonPluginInstallPath</code></p>
<p>Value data: <code>C:\Program Files\Adobe\Common\Plugins\7.0\MediaCore\\</code> (or whatever the proper MediaCore plugins folder is; note that this is the same as what the After Effects installer provides for a corresponding registry key)</p>
<p>Starting in CC 2015.3, <strong>control surface plugins</strong> should be installed here:</p>
<p><code>/Library/Application Support/Adobe/Common/Plug-ins/ControlSurface/</code></p>
<p><strong>For sequence presets:</strong></p>
<p>Value name: <code>SequencePresetsPath</code></p>
<p>Value data: <code>[Adobe Premiere Pro installation path]\Settings\SequencePresets\</code></p>
<p><strong>For sequence preview presets:</strong></p>
<p>Value name: <code>SequencePreviewPresetsPath</code></p>
<p>Value data: <code>[Adobe Premiere Pro installation path]\Settings\EncoderPresets\SequencePreview\</code></p>
<p><strong>For exporter presets:</strong></p>
<p>Value name: <code>CommonExporterPresetsPath</code></p>
<p>Value data: <strong>[User folder]AppDataRoamingAdobeCommonAME7.0Presets\</strong></p>
<p><strong>Effects presets:</strong></p>
<p>Value name: <code>PluginInstallPath</code></p>
<p>Value data: <code>[Adobe Premiere Pro installation path]\Adobe Premiere Pro\Plugins\Common</code></p>
<p>Third-party installers can start from this path, and then modify the string to build the path to the language-specific effect presets.</p>
<p><strong>Prior to CC</strong>, the only path given in the registry was the common plug-in path for the most recently installed version of Premiere Pro:</p>
<p>HKEY_LOCAL_MACHINE/Software/Adobe/Premiere Pro/CurrentVersion</p>
<p>Value name: <code>Plug-InsDir</code></p>
<p>Value data: <code>REG_SZ</code> containing the full path of the plugin folder.</p>
<p>As an example: <code>C:\Program Files\Adobe\Common\Plugins\7.0\MediaCore\</code></p>
<p>The best way to locate other preset folders was to start from the root path for Premiere Pro in the registry at</p>
<p><code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\App Paths\\ Adobe Premiere Pro.exe</code>.</p>
<p>Then, just add the proper subdirectories as described in the macOS section.</p>
<hr />
<h2 id="intro-plugin-installation-macos">macOS<a class="headerlink" href="#intro-plugin-installation-macos" title="Permanent link">&para;</a></h2>
<p>Starting in Premiere Pro version 22.0, The <strong>common plugin location</strong> is:</p>
<p><code>/Library/Application Support/Adobe/Common/Plugins/[version]/MediaCore/</code></p>
<p>Starting in CC 2015.3, <strong>control surface plugins</strong> should be installed here:</p>
<p><code>/Library/Application Support/Adobe/Common/Plugins/ControlSurface/</code></p>
<p>Previously, starting in CC 2015, Premiere Pro provided installer hints for Mac. You'll find <code>com.Adobe.Premiere Pro.paths.plist</code> at <code>/Library/Preferences</code>, which contains hints for your Mac installer to know where to install plugins, and is similar to the registry entries we have been providing on Win.</p>
<p>The <strong>common plugin location</strong> was at:</p>
<p><code>/Library/Application Support/Adobe/Common/Plug-ins/[version]/MediaCore/</code></p>
<p>Starting in CC 2015.3, <strong>control surface plugins</strong> should be installed here:</p>
<p><code>/Library/Application Support/Adobe/Common/Plug-ins/ControlSurface/</code></p>
<p>Following OS X Code Signing guidelines, plugins should be installed in this separate shared location rather than in the application bundle.</p>
<p><strong>For sequence presets:</strong></p>
<p><code>/Settings/SequencePresets/[Your specific folder]/</code></p>
<p><strong>Sequence preview presets:</strong></p>
<p><code>/Settings/EncoderPresets/SequencePreview/[Your editing mode GUID]/</code></p>
<p><strong>Encoder presets:</strong></p>
<p><code>/MediaIO/systempresets/[Your exporter folder]/</code></p>
<p><strong>Effects presets:</strong></p>
<p><code>/Plugins/[language subdirectory]/Effect Presets/</code> (see <a href="#intro-localization">Localization</a> for the list of language codes)</p>
<p><strong>Editing modes:</strong></p>
<p><code>/Settings/Editing Modes/</code></p>
<hr />
<h2 id="intro-plugin-installation-plugin-naming-conventions">Plugin Naming Conventions<a class="headerlink" href="#intro-plugin-installation-plugin-naming-conventions" title="Permanent link">&para;</a></h2>
<p>On Windows, Premiere Pro plugins must have the file extension ".prm". On macOS, they have the file extension ".bundle". Other supported plug-in standards use their conventional file extensions: ".aex" for After Effects plugins, ".dll" for VST plugins.</p>
<p>While it is not required for your plugin to load, naming your plugins using the plugin type as a prefix (e.g. ImporterSDK, FilterSDK, etc.) will help reduce user confusion.</p>
<hr />
<h2 id="intro-plugin-installation-plugin-blocklisting-formerly-blacklisting">Plugin Blocklisting (formerly Blacklisting)<a class="headerlink" href="#intro-plugin-installation-plugin-blocklisting-formerly-blacklisting" title="Permanent link">&para;</a></h2>
<p>Specific plugins can be blocked from being loaded by MediaCore in specific applications, using blocklists.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This does not work for After Effects plugins loaded by AE, although it does work for AE plugins loaded in Premiere Pro.</p>
</div>
<p>In the plugins folder, look for the appropriate blacklist file, and append the the filename of the plugin to the file (e.g. BadPlugin, not BadPlugin.prm). If the file doesn't exist, create it first. "Blocklist.txt" contains names of plugins blacklisted from all apps. Plugins can be blocked from loading in specific apps by including them in "Blocklist Adobe Premiere Pro.txt", or "Blocklist After Effects.txt", etc.</p>
<hr />
<h2 id="intro-plugin-installation-creating-sequence-presets">Creating Sequence Presets<a class="headerlink" href="#intro-plugin-installation-creating-sequence-presets" title="Permanent link">&para;</a></h2>
<p>Not to be confused with encoder presets or sequence preview encoder presets, sequence presets are the successor to project presets. They contain the video, audio, timecode, and track layout information used when creating a new sequence.</p>
<p>If you wish to add Sequence Presets for the New Sequence dialog, save the settings with a descriptive name and comment. Emulate our settings files. Install the presets as described in this section.</p>
<hr />
<h2 id="intro-plugin-installation-application-level-preferences">Application-level Preferences<a class="headerlink" href="#intro-plugin-installation-application-level-preferences" title="Permanent link">&para;</a></h2>
<p>For Windows 7 restricted user accounts, the only place that code has guaranteed write access to a folder is inside the user documents folder and its subfolders.</p>
<p>..Users[user name]AppDataRoamingAdobePremiere Pro[version]\</p>
<p>This means that you cannot save data or documents in the application folder. There is currently no plugin API for storing preferences in the application prefs folder. Plugins can create their own preferences file in the user's Premiere prefs directory like so:</p>
<div class="highlight"><pre><span></span><code><span class="n">HRESULT</span><span class="w"> </span><span class="n">herr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SHGetKnownFolderPath</span><span class="p">(</span><span class="n">FOLDERID_RoamingAppData</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">preferencesPath</span><span class="p">);</span>
<span class="n">strcat</span><span class="p">(</span><span class="n">preferencesPath</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\\</span><span class="s">Adobe</span><span class="se">\\</span><span class="s">Premiere Pro</span><span class="se">\\</span><span class="s">[version]</span><span class="se">\\</span><span class="s">MyPlugin.preferences&quot;</span><span class="p">);</span>
</code></pre></div>
<p>On MacOS: <code>NSSearchPathForDirectoriesInDomains(NSApplicationSupportDirector y,NSLocalDomainMask,)</code></p>
<p>This should get you started getting the Application Support folder which you can add onto to create something like:</p>
<p><code>/Library/Application Support/Adobe/Premiere Pro/[version]/ MyPlugin.preferences</code></p>
<hr />
<h2 id="intro-plugin-installation-dog-ears">Dog Ears<a class="headerlink" href="#intro-plugin-installation-dog-ears" title="Permanent link">&para;</a></h2>
<p>Premiere Pro's built-in player has a mode to display statistics, historically known as "dog ears", which can be useful in debugging and tuning performance of importers, effects, transitions, and transmitters. The statistics include frames per second, frames dropped during playback, pixel format rendered, render size, and field type being rendered.</p>
<p>You can bring up the debug console in Premiere Pro. You can do this via Ctrl/Cmd-F12. To enable the dog ears, type this:</p>
<div class="highlight"><pre><span></span><code><span class="n">debug</span><span class="p">.</span><span class="n">set</span><span class="w"> </span><span class="n">EnableDogEars</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<p>to disable, use this:</p>
<div class="highlight"><pre><span></span><code><span class="n">debug</span><span class="p">.</span><span class="n">set</span><span class="w"> </span><span class="n">EnableDogEars</span><span class="o">=</span><span class="nb">false</span>
</code></pre></div>
<p>If the enter keystroke seems to go to the wrong panel, this is an intermittent panel focus problem. Click the Tools or Info panel before typing in the Console panel, and the enter key will be processed properly.</p>
<p>Once enabled, the player displays the statistics as black text on a partially transparent background. This allows you to still see the underlying video (to some extent) and yet also read the text. When you turn off dog ears, the setting may not take effect until you switch or reopen your current sequence.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are developing a transmitter, displaying dog ears will result in duplicate calls to PushVideo for the same frame. This happens because the player routinely updates the dog ears on a timer even when the frame hasn't changed for updated stats. As of CS6, this triggers a PushVideo to active transmitters as a side effect.</p>
</div></section><section class="print-page" id="intro-localization"><h1 id="intro-localization-localization">Localization<a class="headerlink" href="#intro-localization-localization" title="Permanent link">&para;</a></h1>
<p>The language used by Premiere Pro is decided by the user during installation.</p>
<p>Plug-ins can determine this setting from the following locations:</p>
<p>On Windows, in the registry at <code>HKEY_CURRENT_USER\Software\Adobe\Premiere Pro\[version]</code>, in a key named <code>"Language"</code>.</p>
<p>On macOS, at <code>~/Library/Preferences/com.Adobe.Premiere Pro.[version].plist</code>, at <code>Root &gt; Language</code>.</p>
<p>The string will be set to one of the values below by Premiere Pro at startup.</p>
<table>
<thead>
<tr>
<th>Language</th>
<th>String</th>
</tr>
</thead>
<tbody>
<tr>
<td>English</td>
<td><code>en_US</code></td>
</tr>
<tr>
<td>French</td>
<td><code>fr_FR</code></td>
</tr>
<tr>
<td>German</td>
<td><code>de_DE</code></td>
</tr>
<tr>
<td>Italian</td>
<td><code>it_IT</code></td>
</tr>
<tr>
<td>Japanese</td>
<td><code>ja_JP</code></td>
</tr>
<tr>
<td>Spanish</td>
<td><code>es_ES</code></td>
</tr>
<tr>
<td>Korean</td>
<td><code>ko_KR</code></td>
</tr>
<tr>
<td>Chinese (new in CC)</td>
<td><code>zh_CN</code></td>
</tr>
<tr>
<td>Russian (new in CC 2014)</td>
<td><code>ru_RU</code></td>
</tr>
<tr>
<td>Brazilian Portugese (new in CC 2014)</td>
<td><code>pt_BR</code></td>
</tr>
</tbody>
</table>
<p>Changing the string will not change the language Premiere Pro runs in, unless you override the application language by placing a file in the following location:</p>
<p>Windows: <code>[App installation folder]\lang-override.txt</code></p>
<p>macOS: <code>[App Installation folder]/[Premiere Pro application package]/Contents/lang-override.txt</code></p></section><section class="print-page" id="intro-best-practices"><h1 id="intro-best-practices-best-practices">Best Practices<a class="headerlink" href="#intro-best-practices-best-practices" title="Permanent link">&para;</a></h1>
<p>When a plugin receives a selector it doesn't recognize, it should always return the code specific to the plugin type that means the selector is not supported (i.e. imUnsupported, rmUnsupported, etc).</p>
<p>In this way, new selectors can be added to the API and legacy plugins will automatically answer whether or not they support it.</p>
<hr />
<h2 id="intro-best-practices-structure-alignment">Structure Alignment<a class="headerlink" href="#intro-best-practices-structure-alignment" title="Permanent link">&para;</a></h2>
<p>All the sample projects include <code>PrSDKTypes.h</code>.</p>
<p>This header sets the proper (single-byte) structure alignment and specifies the necessary (C-style) external linkage.</p></section><h1 class='nav-section-title-end'>Ended: Introduction</h1>
                        <h1 class='nav-section-title' id='section-resources'>
                            Resources <a class='headerlink' href='#section-resources' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="resources-resources"><h1 id="resources-resources-resources">Resources<a class="headerlink" href="#resources-resources-resources" title="Permanent link">&para;</a></h1>
<p>There are two types of special resources that are specific to Premiere plugins: the PiPL and the IMPT.</p>
<p>This chapter describes these resources, and how certain plugin types use them.</p></section><section class="print-page" id="resources-pipl-resource"><h1 id="resources-pipl-resource-plug-in-property-lists-pipl-resource">Plug-In Property Lists (PiPL) Resource<a class="headerlink" href="#resources-pipl-resource-plug-in-property-lists-pipl-resource" title="Permanent link">&para;</a></h1>
<p>For many plugin types, Premiere loads a PiPL (Plug-in Property List) resource. The PiPL is described in a file with a ".r" extension.</p>
<p>The complete PiPL syntax is described in PiPL.r.</p>
<p>You'll notice that PiPLs are really old. A vestige of 68k macOS programming, they spread to Windows.</p>
<p>However, if you develop from the sample projects, you shouldn't have to do anything to get them to build properly for Latin languages.</p>
<hr />
<h2 id="resources-pipl-resource-which-types-of-plugins-need-pipls">Which Types of Plugins Need PiPLs?<a class="headerlink" href="#resources-pipl-resource-which-types-of-plugins-need-pipls" title="Permanent link">&para;</a></h2>
<p>Exporters, players, and recorders do not need PiPLs.</p>
<p>Standard importers do not need PiPLs. Synthetic and custom importers use a basic PiPL to specify their name, and the match name that Premiere uses to identify them. The name appears in the File &gt; New menu.</p>
<p>Device controllers use a basic PiPL to specify their name and the match name that Premiere uses to identify them.</p>
<p>Video filters use an extended PiPL to specify their name, the match name that Premiere uses to identify them, the bin they go in, how they handle pixel aspect ratio, whether or not they have randomness, and their parameters.</p>
<p>For more information on the <code>ANIM_FilterInfo</code> and <code>ANIM_ParamAtom</code>, see the resources section in <a href="#video-filters-video-filters">Video Filters</a>.</p>
<hr />
<h2 id="resources-pipl-resource-a-basic-pipl-example">A Basic PiPL Example<a class="headerlink" href="#resources-pipl-resource-a-basic-pipl-example" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="cp">#define plugInName &quot;SDK Custom Import&quot;</span>
<span class="cp">#define plugInMatchName &quot;SDK Custom Import&quot;</span>

<span class="n">resource</span><span class="w"> </span><span class="err">&#39;</span><span class="n">PiPL</span><span class="err">&#39;</span><span class="w"> </span><span class="p">(</span><span class="mi">16000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">{</span>

<span class="w">  </span><span class="c1">// The plugin type</span>
<span class="w">  </span><span class="n">Kind</span><span class="w"> </span><span class="p">{</span><span class="n">PrImporter</span><span class="p">},</span>

<span class="w">  </span><span class="c1">// The name as it will appear in a Premiere menu, this can be localized</span>
<span class="w">  </span><span class="n">Name</span><span class="w"> </span><span class="p">{</span><span class="n">plugInName</span><span class="p">},</span>

<span class="w">  </span><span class="c1">// The internal name of this plugin - do not localize this. This is used for both Premiere and After Effects plugins.</span>
<span class="w">  </span><span class="n">AE_Effect_Match_Name</span><span class="w"> </span><span class="p">{</span><span class="n">plugInMatchName</span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Transitions and video filters define more PiPL attributes here</span>
<span class="p">}</span>

<span class="p">};</span>
</code></pre></div>
<hr />
<h2 id="resources-pipl-resource-how-pipls-are-processed-by-resource-compilers">How PiPLs Are Processed By Resource Compilers<a class="headerlink" href="#resources-pipl-resource-how-pipls-are-processed-by-resource-compilers" title="Permanent link">&para;</a></h2>
<p>On macOS, .r files are processed natively by Xcode, as a Build Phase of type Build Carbon Resources. This step is already set for the sample projects.</p>
<p>On Windows, .r files are processed with CnvtPiPL.exe, which creates an .rcp file based upon custom build steps in the project. The .rcp file is then included in the .rc file along with any other resources the plugin uses. These custom build steps are already in place in the sample projects.</p>
<p>To view them, open up the sample project in .NET. In the Solution Explorer, right-click the .r file and choose Properties. In the dialog, choose the Custom Build Step folder. The Command</p>
<p>Line contains the script for executing the CnvtPiPL.exe. Unless you are using a different compiler than the support compiler, or adding support for Asian languages, you should not need to modify the custom build steps. This script may also be found as a text file in the SDK at <code>\\Examples\\Resources\\Win\\Custom Build Steps.txt</code>. This text file also describes the additional switches used for Asian languages.</p></section><section class="print-page" id="resources-impt-resource"><h1 id="resources-impt-resource-impt-resource">IMPT Resource<a class="headerlink" href="#resources-impt-resource-impt-resource" title="Permanent link">&para;</a></h1>
<p>Premiere Pro looks for an IMPT resource to identify a plugin as an importer.</p>
<p>Before Premiere Pro 1.0, the IMPT resource was also used to declare the file extension supported by an importer.</p>
<p>Since file extensions are now declared during imGetIndFormat, the drawtype four character code in the IMPT resource is no longer used by Premiere Pro.</p>
<p>However, a unique drawtype fourcc is needed for the importer to function properly in After Effects on macOS.</p>
<p>Do not use 0x4D4F6F76. This is already reserved by After Effects.</p>
<div class="highlight"><pre><span></span><code><span class="mi">1000</span><span class="w"> </span><span class="n">IMPT</span><span class="w"> </span><span class="n">DISCARDABLE</span><span class="w"> </span><span class="n">BEGIN</span>
<span class="mh">0x12345678</span><span class="w"> </span><span class="c1">// Put your own unique hexadecimal code here</span>
<span class="n">END</span>
</code></pre></div></section><h1 class='nav-section-title-end'>Ended: Resources</h1>
                        <h1 class='nav-section-title' id='section-universals'>
                            Universals <a class='headerlink' href='#section-universals' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="universals-universals"><h1 id="universals-universals-universals">Universals<a class="headerlink" href="#universals-universals-universals" title="Permanent link">&para;</a></h1>
<p>This chapter covers topics that are common to more than one type of Premiere plugin. We start by discussing fundamental concepts and common data structures. The rest of the chapter discusses the various function suites that are available to plugins.</p></section><section class="print-page" id="universals-time"><h1 id="universals-time-time">Time<a class="headerlink" href="#universals-time-time" title="Permanent link">&para;</a></h1>
<p>There are two different representations of time: <code>scale over sampleSize</code>, and <code>ticks</code>.</p>
<hr />
<h2 id="universals-time-scale-over-samplesize">scale over sampleSize<a class="headerlink" href="#universals-time-scale-over-samplesize" title="Permanent link">&para;</a></h2>
<p>The first representation of time uses value/scale/<code>sampleSize</code> components, either separated, or combined in a TDB_TimeRecord structure. scale over <code>sampleSize</code> defines the timebase. For example, to represent the NTSC standard of 29.97 frames per second, <code>scale</code> / <code>sampleSize = 30000</code> / 1001. To represent the PAL standard of 25 frames per second, 25 / 1.</p>
<p>To represent the 24p standard of 23.976, 23976 / 1000, or 24000 / 1001. To represent most other timebases, use <code>sampleSize = 1</code>, and scale is the frame rate (e.g. 15, 24, 30 fps, etc). Another way of thinking about scale and <code>sampleSize</code> is that <code>sampleSize</code> is the duration of a frame of video, and scale is that duration of a second of video.</p>
<p><code>value</code> is the time in the timebase given by <code>scale</code> over <code>sampleSize</code>. So, for example, 30 frames with a sampleSize of 1001 have a value of 30030.</p>
<p>To convert <code>value</code> to seconds, divide by scale. To convert <code>value</code> to frames, divide by <code>sampleSize</code>.</p>
<p>Sometimes, as when handling audio-only media, <code>sampleSize</code> refers to a sample of audio, and <code>sampleSize = 1</code>. In this case, scale is the audio sampling rate (22050, 32000, 44100, 48000 Hz, etc).</p>
<hr />
<h2 id="universals-time-prtime">PrTime<a class="headerlink" href="#universals-time-prtime" title="Permanent link">&para;</a></h2>
<p>Most newer areas of the API use a tick-based time value that is stored in a signed 64-bit integer. Variables that use this new format are of type PrTime. When a frame rate is represented as a PrTime, the frame rate is the number of ticks in a frame duration.</p>
<p>The current number of ticks per second must be retrieved using the callback in the <a href="#universals-sweetpea-suites-time-suite">Time Suite</a>. This rate is guaranteed to be constant for the duration of the application's run-time.</p></section><section class="print-page" id="universals-video-frames"><h1 id="universals-video-frames-video-frames">Video Frames<a class="headerlink" href="#universals-video-frames-video-frames" title="Permanent link">&para;</a></h1>
<p>Premiere stores each video frame in a PPix structure. A PPixHand is a handle to a PPix. This structure should not be accessed directly, but manipulated using various suites such as the <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>, <a href="#universals-sweetpea-suites-ppix-2-suite">PPix 2 Suite</a>, <a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a>, and <a href="#universals-sweetpea-suites-ppix-creator-2-suite">PPix Creator 2 Suite</a>.</p>
<p>Far from being just a boring buffer of RGB data, PPixes can contain a significant amount of information about a video frame, including: rectangle bounds (width, height), pixel aspect ratio, pixel format, field dominance, alpha interpretation, color space, gamma encoding, and more.</p>
<p>In the pixel buffer itself, there may be padding between neighboring horizontal rows of pixels. So when iterating through the pixels in the buffer, don't assume that the first pixel on the next line is stored immediately after the last pixel on the current line. Honor the rowbytes, which is a measure of the size in bytes of a row of pixels, including any extra padding.</p>
<p>Frames are guaranteed to be 16-byte aligned.</p></section><section class="print-page" id="universals-pixel-formats-and-color-spaces"><h1 id="universals-pixel-formats-and-color-spaces-pixel-formats-and-color-spaces">Pixel Formats And Color Spaces<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-pixel-formats-and-color-spaces" title="Permanent link">&para;</a></h1>
<p>As of CC, Premiere supports 69 different pixel formats, not including raw and custom formats.</p>
<p>Why so many? Each pixel format has it's unique advantages and disadvantages. 8-bit formats are compact, but lack quality. 32-bit ones are more accurate, but overkill in some situations.</p>
<p>Compressed formats are great for storing raw frames, but bad for effects processing. And so on In summary, choose wisely!</p>
<hr />
<h2 id="universals-pixel-formats-and-color-spaces-what-format-should-i-use">What Format Should I Use?<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-what-format-should-i-use" title="Permanent link">&para;</a></h2>
<p>Starting in CS4, plugins no longer need to support 8-bit BGRA at a minimum. If required, Premiere can make intermediate format conversions in the render pipeline, although these intermediate conversions will be avoided if possible.</p>
<p>Previously in CS3 and earlier, all plugins except importers needed to support 8-bit per channel BGRA, even if they supported other formats.</p>
<p>When choosing which pixel formats to support, there are different factors to consider, depending on the plugin type.</p>
<h3 id="universals-pixel-formats-and-color-spaces-importers">Importers<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-importers" title="Permanent link">&para;</a></h3>
<p>Importers typically should provide frames in a format closest to the source format.</p>
<p>If needed, Premiere can convert any compressed format to a 8-bit or 32-bit uncompressed format. Keeping the format compressed as long as possible as it passes through the render pipeline will save memory and bandwidth.</p>
<p>Starting in Premiere Pro CC 2014, importers can now choose the format they are rendering in. This allows importers to change pixel formats and quality based on criteria like enabled hardware and other source settings, such as HDR. To handle the negotiation, implement <em>imSelectClipFrameDescriptor</em>.</p>
<h3 id="universals-pixel-formats-and-color-spaces-effects">Effects<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-effects" title="Permanent link">&para;</a></h3>
<p>Effects should support the uncompressed format(s) that works best with the effect's pixel processing algorithm.</p>
<p>If the algorithm is based on RGB pixel calculations, provide a fast render path using 8-bit BGRA, and optionally a high-quality render path using 32-bit BGRA. If the algorithm is Y'UV-based, use the VUYA pixel formats.</p>
<h3 id="universals-pixel-formats-and-color-spaces-exporters-and-transmitters">Exporters and Transmitters<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-exporters-and-transmitters" title="Permanent link">&para;</a></h3>
<p>Exporters and transmitters should request frames in a format closest to the output format. New in CS5, PrPixelFormat_Any can be used in exporter render requests.</p>
<p>Any render function that takes a list of pixel formats can now be called with just two formats - the desired 4:4:4:4 pixel format, and PrPixelFormat_Any. This allows the host to avoid frame conversions and decompressions in many very common cases. The best part is that the plugin doesn't need to</p>
<p>understand all the possible pixel formats to make use of this. It can use the <a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a> to copy/convert from any a PPix of any format to a separate memory buffer, which is a copy that would likely need to be done anyway.</p>
<p>After the request is made, Premiere analyzes the preferred format of all importers and effects that are used to produce a single rendered frame, as well as the list of requested formats, and chooses the best format to use on a per-segment basis.</p>
<p>If the requestor supports more than one format, and the importers and effects used for various clips in the sequence support different formats, the render may use different formats for each segment.</p>
<p>Premiere Pro's built-in Rec. 601 to 709 color space conversion can be slow. So if the majority of the sources and effects use the Rec 601 color space, and if the exporter or transmitter can handle the 601 to 709 conversion quickly on its own, it may be faster to do the color space conversion in the exporter or transmitter.</p>
<h3 id="universals-pixel-formats-and-color-spaces-other-considerations">Other Considerations<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-other-considerations" title="Permanent link">&para;</a></h3>
<p>For high-bit depth support, the 32f formats are the recommended route, rather than the 16u formats. For example, an exporter that supports 10-bit Y'UV should ask for frames in 32f Y'UV format, and then convert the 32f to 10u.</p>
<p>The ARGB formats can be natively used in the After Effects render pipeline, and are used by After Effects effect plugins that do not specifically support any other pixel format. However, in Premiere Pro, these ARGB formats will require byte-swapping, and shouldn't be used.</p>
<hr />
<h2 id="universals-pixel-formats-and-color-spaces-byte-order">Byte Order<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-byte-order" title="Permanent link">&para;</a></h2>
<p>BGRA, ARGB, and VUYA are written in order of increasing memory address from left to right. Uncompressed formats have a lower-left origin, meaning the first pixel in the buffer describes the pixel in the lower-left corner of the image. Compressed formats have format-specific origins. Use calls in the <a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a> to get details on any format.</p>
<p>8-bit and 16-bit BGRA formats do not contain super whites or super blacks.</p>
<p>The 16-bit formats use channels that go from black at 0 to white at 32768, like After Effects and Photoshop 16-bit formats.</p>
<h3 id="universals-pixel-formats-and-color-spaces-unpacked-uncompressed">Unpacked, Uncompressed<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-unpacked-uncompressed" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>BGRA_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>VUYA_4444_8u</td>
<td>8</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYA_4444_8u_709</td>
<td>8</td>
<td>Y'UV</td>
<td>Rec. 709 color space. New in Premiere Pro 4.1.</td>
</tr>
<tr>
<td>BGRA_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRA_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>VUYA_4444_32f</td>
<td>32</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYA_4444_32f_709</td>
<td>32</td>
<td>Y'UV</td>
<td>Rec. 709 color space. New in Premiere Pro 4.1.</td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-unpacked-uncompressed-native-after-effects-support-only">Unpacked, Uncompressed, native After Effects support only<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-unpacked-uncompressed-native-after-effects-support-only" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>ARGB_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td>For native After Effects support. For native Premiere Pro support, use BGRA.</td>
</tr>
<tr>
<td>ARGB_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>ARGB_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-unpacked-uncompressed-with-implicit-alpha">Unpacked, Uncompressed, with implicit alpha<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-unpacked-uncompressed-with-implicit-alpha" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>BGRX_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td>Implicitly opaque alpha channel. The actual data may be left filled with garbage, which allows optimized processing by both the plugin and host, with the understanding the the alpha channel is opaque. New in Premiere Pro CS5.</td>
</tr>
<tr>
<td>VUYX_4444_8u</td>
<td>8</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYX_4444_8u_709</td>
<td>8</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>XRGB_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRX_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>XRGB_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRX_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>VUYX_4444_32f</td>
<td>32</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYX_4444_32f_709</td>
<td>32</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>XRGB_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRP_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td>Premultiplied alpha. New in Premiere Pro CS5.</td>
</tr>
<tr>
<td>VUYP_4444_8u</td>
<td>8</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYP_4444_8u_709</td>
<td>8</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>PRGB_4444_8u</td>
<td>8</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRP_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>PRGB_4444_16u</td>
<td>16</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRP_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>VUYP_4444_32f</td>
<td>32</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>VUYP_4444_32f_709</td>
<td>32</td>
<td>Y'UV</td>
<td></td>
</tr>
<tr>
<td>PRGB_4444_32f</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-linear-rgb">Linear RGB<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-linear-rgb" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>BGRA_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td>These RGB formats have a gamma of 1, rather than the standard 2.2. New in Premiere Pro CS5.</td>
</tr>
<tr>
<td>BGRP_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>BGRX_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>ARGB_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>PRGB_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
<tr>
<td>XRGB_4444_32f_Linear</td>
<td>32</td>
<td>RGB</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-packed-uncompressed-formats">Packed, Uncompressed formats<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-packed-uncompressed-formats" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>RGB_444_10u</td>
<td></td>
<td></td>
<td>New in Premiere Pro CC. Full range 10-bit 444 RGB little-endian</td>
</tr>
<tr>
<td>YUYV_422_8u_601</td>
<td>8</td>
<td>'YUY2'</td>
<td>New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>YUYV_422_8u_709</td>
<td>8</td>
<td>'YUY2'</td>
<td>Rec. 709 color space. New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>UYVY_422_8u_601</td>
<td>8</td>
<td>'UYVY'</td>
<td>New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>UYVY_422_8u_709</td>
<td>8</td>
<td>'UYVY'</td>
<td>Rec. 709 color space. New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>V210_422_10u_601</td>
<td>10</td>
<td>'v210'</td>
<td>New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>V210_422_10u_709</td>
<td>10</td>
<td>'v210'</td>
<td>Rec. 709 color space. New in Premiere Pro CS4.</td>
</tr>
<tr>
<td>UYVY_422_32f_601</td>
<td>32</td>
<td>'UYVY'</td>
<td>New in Premiere Pro CC.</td>
</tr>
<tr>
<td>UYVY_422_32f_709</td>
<td>32</td>
<td>'UYVY'</td>
<td>New in Premiere Pro CC.</td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-compressed-yuv">Compressed Y'UV<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-compressed-yuv" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>NTSCDV25</td>
<td>8</td>
<td>DV25 / 'dvsd'</td>
<td></td>
</tr>
<tr>
<td>PALDV25</td>
<td>8</td>
<td>DV25 / 'dvsd'</td>
<td></td>
</tr>
<tr>
<td>NTSCDV50</td>
<td>8</td>
<td>DV50 / 'dv50'</td>
<td></td>
</tr>
<tr>
<td>PALDV50</td>
<td>8</td>
<td>DV50 / 'dv50'</td>
<td></td>
</tr>
<tr>
<td>NTSCDV100_720p</td>
<td>8</td>
<td>DV100 720p / 'dvh1'</td>
<td></td>
</tr>
<tr>
<td>PALDV100_720p</td>
<td>8</td>
<td>DV100 720p / 'dvh1'</td>
<td></td>
</tr>
<tr>
<td>NTSCDV100_1080i</td>
<td>8</td>
<td>DV100 1080i / 'dvh1'</td>
<td></td>
</tr>
<tr>
<td>PALDV100_1080i</td>
<td>8</td>
<td>DV100 1080i / 'dvh1'</td>
<td></td>
</tr>
<tr>
<td>YUV_420_MPEG2_FRAME_PICTURE_PLANAR_8u_601</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>Progressive Rec. 601 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FIELD_PICTURE_PLANAR_8u_601</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>Interlaced Rec. 601 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FRAME_PICTURE_PLANAR_8u_601_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS5.5. Progressive Rec. 601 color space, full range Y'UV</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FIELD_PICTURE_PLANAR_8u_601_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS5.5. Interlaced Rec. 601 color space, full range Y'UV</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FRAME_PICTURE_PLANAR_8u_709</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>Progressive Rec. 709 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FIELD_PICTURE_PLANAR_8u_709</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>Interlaced Rec. 709 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FRAME_PICTURE_PLANAR_8u_709_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Progressive Rec. 709 color space, full range Y'UV. Matricies scaled from 709 by each component's excursion (Y is scaled by 219/255 and UV scaled by 224/256)</td>
</tr>
<tr>
<td>YUV_420_MPEG2_FIELD_PICTURE_PLANAR_8u_709_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Interlaced Rec. 709 color space, full range Y'UV</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FRAME_PICTURE_PLANAR_8u_601</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Progressive Rec. 601 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FIELD_PICTURE_PLANAR_8u_601</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Interlaced Rec. 601 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FRAME_PICTURE_PLANAR_8u_601_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Progressive Rec. 601 color space, full range Y'UV</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FIELD_PICTURE_PLANAR_8u_601_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Interlaced Rec. 601 color space, full range Y'UV</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FRAME_PICTURE_PLANAR_8u_709</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Progressive Rec. 709 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FIELD_PICTURE_PLANAR_8u_709</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Interlaced Rec. 709 color space</td>
</tr>
<tr>
<td>YUV_420_MPEG4_FRAME_PICTURE_PLANAR_8u_709_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Progressive Rec. 709 color space, full range Y'UV. Matricies scaled from 709 by each component's excursion (Y is scaled by 219/255 and UV scaled by 224/256)</td>
</tr>
<tr>
<td>PrPixelFormat_YUV_420_MPEG4_FIELD_PICTURE_PLANAR_8u_709_FullRange</td>
<td>8</td>
<td>Y'UV 4:2:0 / 'YV12'</td>
<td>New in Premiere Pro CS6. Interlaced Rec. 709 color space, full range Y'UV</td>
</tr>
</tbody>
</table>
<h3 id="universals-pixel-formats-and-color-spaces-miscellaneous">Miscellaneous<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-miscellaneous" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>PrPixelFormat</th>
<th>Bits / Channel</th>
<th>Format / FourCC</th>
<th>Additional Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>Raw</td>
<td>?</td>
<td>?</td>
<td>Raw, opaque data, with no rowbytes or height</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-pixel-formats-and-color-spaces-custom-pixel-formats">Custom Pixel Formats<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-custom-pixel-formats" title="Permanent link">&para;</a></h2>
<p>New in CS4, custom pixel formats are supported. Plugins can define a pixel format which can pass through various aspects of our pipeline, but remain completely opaque to the built-in renderers. Use the macro MAKE_THIRD_PARTY_CUSTOM_PIXEL_FORMAT_FOURCC in the <a href="#universals-sweetpea-suites-pixel-format-suite">Pixel Format Suite</a>. Please use a unique name to avoid collisions.</p>
<p>The format doesn't need to be registered in any sense. They can just be used in the same way the current pixel formats are used, though in many cases they will be ignored.</p>
<p>The first place the new pixel formats can appear in the render pipeline is at the importer level. Importers can advertise the availability of these pixel formats during <em>imGetIndPixelFormat</em>, just as they would for any other format.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Importers must also support a non-custom pixel format, for the case where the built-in renderer is used, which would not be prepared to handle an opaque pixel format added by a third-party.</p>
</div>
<p>In the importer, use the new CreateCustomPPix call in the <a href="#universals-sweetpea-suites-ppix-creator-2-suite">PPix Creator 2 Suite</a>, and specify a custom pixel format and a memory buffer size, and the call will pass back a PPix of the requested format. These PPixes can then be returned from an importer, like any other. The memory for the PPix will be allocated by MediaCore, and must be a flat data structure as they will need to be copied between processes.</p>
<p>However, because the data itself is completely opaque, it can easily be a reference to another pixel buffer, as long as the reference can be copied. For example, the buffer could be a constant 16 bytes, containing a GUID which can be used to access a memory buffer by name in another process.</p>
<p>To query for available custom pixel formats from the player, use the GetNumCustomPixelFormats and GetCustomPixelFormat calls in the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>. The custom pixel formats will not returned by the regular calls to get the supported frame formats, mostly to prevent them from being used.</p>
<p>The other <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a> functions will accept requests for custom pixel formats and will return these custom PPixes like any others.</p>
<p>With the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>, a third-party player can directly access these custom PPixes from a matched importer.</p>
<h3 id="universals-pixel-formats-and-color-spaces-smart-rendering">Smart Rendering<a class="headerlink" href="#universals-pixel-formats-and-color-spaces-smart-rendering" title="Permanent link">&para;</a></h3>
<p>Smart rendering involves passing compressed frames from the importer to the exporter, to bypass any unnecessary decompression and recompression, which reduces quality and performance.</p>
<p>The way to implement this is by passing custom PPixes between an importer, exporter, and usually a renderer.</p>
<p>In the rare case of exporting a single clip, using the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a> in the exporter to request custom PPixes from the importer is sufficient. But in the more common case of exporting a sequence, a renderer that supports the custom pixel format is required.</p>
<p>When an exporter running in Media Encoder parses the segments in the sequence, it only has a very high-level view. It sees the entire sequence as a single clip (which is actually a temporary project file that has been opened using a Dynamic Link to the PProHeadless process), and it sees any optional cropping or filters as applied effects.</p>
<p>So when the exporter parses that simple, high-level sequence, if there are no effects, it should use the MediaNode's ClipID with the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a> to get frames directly from the PProHeadless process. In the PProHeadless process, the renderer can step in and parse the real sequence in all its glory.</p>
<p>It can use the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a> to get the frames in the custom pixel format directly from the importer, and then set the custom PPix as the render result. This custom PPix then is available to the exporter, in a pristine, compressed PPix.</p></section><section class="print-page" id="universals-pixel-aspect-ratio"><h1 id="universals-pixel-aspect-ratio-pixel-aspect-ratio">Pixel Aspect Ratio<a class="headerlink" href="#universals-pixel-aspect-ratio-pixel-aspect-ratio" title="Permanent link">&para;</a></h1>
<p>Pixel Aspect Ratio (PAR) is usually represented as a rational number, with a numerator and a denominator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Several PAR values were changed in CS4 to match broadcast standards.</p>
</div>
<p>Here are some examples of pixel aspect ratios:</p>
<ul>
<li>NTSC DV 0.9091 PAR is (10, 11)</li>
<li>NTSC DV Widescreen 1.2121 PAR is (40, 33)</li>
<li>PAL DV 1.0940 PAR is (768, 702)</li>
<li>PAL DV 1.4587 PAR is (1024, 702)</li>
<li>Square 1.0 PAR is (1,1)</li>
</ul>
<p>In certain legacy structures, PAR is represented as a single 32-bit integer, such as in <code>recCapInfoRec.pixelAspectRatio</code>.</p>
<p>This uses a representation where the numerator is bit-shifted 16 to the left, and OR'd with the denominator. For example NTSC DV 0.9091 PAR is <code>(10 &lt;&lt; 16) \| 11</code>.</p></section><section class="print-page" id="universals-fields"><h1 id="universals-fields-fields">Fields<a class="headerlink" href="#universals-fields-fields" title="Permanent link">&para;</a></h1>
<p>There are different constants defined for fields. These constants are now largely interchangable in CS4, since the conflicting constants for the old compiler API have been removed.</p>
<table>
<thead>
<tr>
<th>Exporters, Players, Video Segment Suite, etc</th>
<th>Recorders</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prFieldsNone</code></td>
<td><code>kMALFieldsNone</code></td>
</tr>
<tr>
<td><code>prFieldsUpperFirst</code></td>
<td><code>kMALFieldsUpperFirst</code></td>
</tr>
<tr>
<td><code>prFieldsLowerFirst</code></td>
<td><code>kMALFieldsLowerFirst</code></td>
</tr>
<tr>
<td><code>prFieldsUnknown</code></td>
<td><code>kMALFieldsUnknown</code></td>
</tr>
<tr>
<td><code>prFieldsAny</code></td>
<td><code>kMALFieldsInvalid</code></td>
</tr>
<tr>
<td><code>prFieldsInvalid</code></td>
<td></td>
</tr>
</tbody>
</table></section><section class="print-page" id="universals-audio"><h1 id="universals-audio-audio">Audio<a class="headerlink" href="#universals-audio-audio" title="Permanent link">&para;</a></h1>
<h2 id="universals-audio-32-bit-float-uninterleaved-format">32-bit Float, Uninterleaved Format<a class="headerlink" href="#universals-audio-32-bit-float-uninterleaved-format" title="Permanent link">&para;</a></h2>
<p>All audio calls to and from Premiere use arrays of buffers of 32-bit floats to pass audio. Audio is not interleaved, rather separate channels are stored in separate buffers. So the structure for stereo audio looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">audio</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</code></pre></div>
<p>where <code>audio[0]</code> is the address of a buffer N samples long, and <code>audio[1]</code> is the address of a second buffer N samples long. <code>audio[0]</code> contains the left channel, and <code>audio[1]</code> contains the right channel. N is the number of sample frames in the buffer.</p>
<p>Since Premiere uses 32-bit floats for each audio sample, it can represent values above 0 dB. 0 dB corresponds to +/- 1.0 in floating point. A floating point sample can be converted to a 16-bit short integer by multiplying by 32767.0 and casting the result to a short.</p>
<p>E.g.:</p>
<div class="highlight"><pre><span></span><code><span class="n">sample16bit</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">short</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">sample32bit</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">32767.0</span><span class="p">)</span>
</code></pre></div>
<p>The plugin is responsible for converting to and from the 32-bit uninterleaved format when reading a file that uses a different format. There are calls to convert between formats in the <a href="#universals-sweetpea-suites-audio-suite">Audio Suite</a>. For symmetry in the int &lt;-&gt; float conversions, we recommend you use the utility functions provided.</p>
<hr />
<h2 id="universals-audio-audio-sample-types">Audio Sample Types<a class="headerlink" href="#universals-audio-audio-sample-types" title="Permanent link">&para;</a></h2>
<p>Since 32-bit floats are the only audio format ever passed, there is no option of sample type or bit depth. However, file formats do use a variety of sample types and bit depths, so <code>AudioSampleTypes</code> define a variety of possible formats.</p>
<p>These formats are used to set members in structures passed to Premiere to define the user interface, and do not affect the format of the audio passed to and from Premiere.</p>
<table>
<thead>
<tr>
<th>PrAudioSampleType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kPrAudioSampleType_8BitInt</code></td>
<td>8-bit integer</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_8BitTwosInt</code></td>
<td>8-bit integer, two's complement</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_16BitInt</code></td>
<td>16-bit integer</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_24BitInt</code></td>
<td>24-bit integer</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_32BitInt</code></td>
<td>32-bit integer</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_32BitFloat</code></td>
<td>32-bit floating point</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_64BitFloat</code></td>
<td>64-bit floating point</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_16BitIntBigEndian</code></td>
<td>16-bit integer, big endian</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_24BitIntBigEndian</code></td>
<td>24-bit integer, big endian</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_32BitIntBigEndian</code></td>
<td>32-bit integer, big endian</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_32BitFloatBigEndian</code></td>
<td>32-bit floating point, big endian</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_Compressed</code></td>
<td>Any non-PCM format</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_Packed</code></td>
<td>Any PCM format with mixed sample types</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_Other</code></td>
<td>A sample type not in this list</td>
</tr>
<tr>
<td><code>kPrAudioSampleType_Any</code></td>
<td>Any available sample type (used by exporters)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-audio-audio-sample-frames">Audio Sample Frames<a class="headerlink" href="#universals-audio-audio-sample-frames" title="Permanent link">&para;</a></h2>
<p>A sample frame is a unit of measurement for audio. One audio sample frame describes all channels of one sample of audio. Each sample is a 32-bit float. Thus, the storage requirement of an audio sample frame in bytes is equal to <code>4 * number of channels</code>.</p>
<hr />
<h2 id="universals-audio-audio-sample-rate">Audio Sample Rate<a class="headerlink" href="#universals-audio-audio-sample-rate" title="Permanent link">&para;</a></h2>
<p><code>PrAudioSample</code> is a <code>prInt64</code></p>
<hr />
<h2 id="universals-audio-audio-channel-types">Audio Channel Types<a class="headerlink" href="#universals-audio-audio-channel-types" title="Permanent link">&para;</a></h2>
<p>Premiere currently supports four different audio channel types: mono, stereo, 5.1, and max channel.</p>
<p>Greater than 5.1 channel support was originally added in Premiere Pro 4.0.1, with partial support for a 16 channel master audio track, only for importing OMFs and playing out to hardware.</p>
<p>In CS6, 16-channel audio export was added.</p>
<p>Starting in CC, the audio channel support is increased to 32 channels.</p>
<table>
<thead>
<tr>
<th>PrAudioChannelType</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kPrAudioChannelType_Mono</code></td>
<td>Mono</td>
</tr>
<tr>
<td><code>kPrAudioChannelType_Stereo</code></td>
<td>Stereo. The order of the stereo channels is:<ul><li><code>kPrAudioChannelLabel_FrontLeft</code></li><li><code>kPrAudioChannelLabel_FrontRight</code></li></ul></td>
</tr>
<tr>
<td><code>kPrAudioChannelType_51</code></td>
<td>5.1 audio.<br/><br/>The order of the 5.1 channels is:<ul><li><code>kPrAudioChannelLabel_FrontLeft</code></li><li><code>kPrAudioChannelLabel_FrontRight</code></li><li><code>kPrAudioChannelLabel_BackLeft</code></li><li><code>kPrAudioChannelLabel_BackRight</code></li><li><code>kPrAudioChannelLabel_FrontCenter</code></li><li><code>kPrAudioChannelLabel_LowFrequency</code></li><li><code>kPrAudioChannelLabel_BackLeft</code></li><li><code>kPrAudioChannelLabel_BackRight</code></li></ul></td>
</tr>
<tr>
<td><code>kPrAudioChannelType_MaxChannel</code></td>
<td>New in CC.<br/><br/><code>kMaxAudioChannelCount</code>, defined as 32 channels as of CC.<br/><br/>All channels use <code>kPrAudioChannelLabel_Discrete</code>.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="universals-memory-management"><h1 id="universals-memory-management-memory-management">Memory Management<a class="headerlink" href="#universals-memory-management-memory-management" title="Permanent link">&para;</a></h1>
<p>Premiere Pro has a media cache in which it stores imported frames, intermediate frames (intermediate stages of a render), fully rendered frames, and audio.</p>
<p>This is sized based on a specific percentage of physical memory, taking into account if multiple Adobe applications are also running.</p>
<p>Premiere Pro manages this cache itself, so as it adds new items to the cache, it flushes least recently used items.</p>
<hr />
<h2 id="universals-memory-management-what-really-is-a-memory-problem">What Really is a Memory Problem?<a class="headerlink" href="#universals-memory-management-what-really-is-a-memory-problem" title="Permanent link">&para;</a></h2>
<p>Often, users monitoring memory usage are alarmed when they see memory growing to a specific point during a render or playback. When the memory doesn't drop right back down after a render or playback, they might think they have found a memory leak. However, keeping in mind the function of the Premiere Pro media cache, this behavior is to be expected.</p>
<p>On the other hand, memory contention between plugins and the rest of Premiere Pro can lead to memory problems. If a plugin allocates a significant amount of memory and the Premiere Pro media cache has not accounted for it, this means there is less free memory available after the media cache grows to the predefined size. Even if Premiere Pro does not completely run out of memory, limited memory can cause memory thrashing as memory is moved around to make room for video frames, which in turn can cause poor performance.</p>
<hr />
<h2 id="universals-memory-management-solutions-for-memory-contention">Solutions for Memory Contention<a class="headerlink" href="#universals-memory-management-solutions-for-memory-contention" title="Permanent link">&para;</a></h2>
<p>The best approach to reduce memory contention is to reduce the memory requirements of each plugin. However, if the memory requirements of a plugin are significant, it should also use the <a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a> to report any memory usage that would not already be accounted for.</p>
<p>Frames allocated using the <a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a> are accounted for, but any memory allocated using the old PPix and Memory functions are not automatically accounted for.</p></section><section class="print-page" id="universals-basic-types-structures"><h1 id="universals-basic-types-structures-basic-types-structures">Basic Types Structures<a class="headerlink" href="#universals-basic-types-structures-basic-types-structures" title="Permanent link">&para;</a></h1>
<p>These types and structures are defined in PrSDKTypes.h and PrSDKStructs.h, and are used throughout the Premiere API.</p>
<p>Premiere defines cross-platform types for convenience when developing plugins for both Windows and Mac OS.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prColor</code></td>
<td>An unsigned 32-bit integer that stores an RGB color.<br/><br/>This type is useful for the 8-bpc colors retrieved by the color picker in a video effect or transition.<br/><br/>Color channels are stored as BGRA, in order of increasing memory address from left to right.</td>
</tr>
<tr>
<td><code>prWnd</code></td>
<td>A Windows <code>HWND</code> or Mac OS <code>NSView*</code></td>
</tr>
<tr>
<td><code>prParentWnd</code></td>
<td>A Windows <code>HWND</code> or Mac OS <code>NSWindow*</code></td>
</tr>
<tr>
<td><code>prOffscreen</code></td>
<td>A Windows <code>HDC</code></td>
</tr>
<tr>
<td><code>prRect</code></td>
<td>A Windows <code>RECT</code> or Mac OS <code>Rect</code>.<br/><br/>Use the utility function <code>prSetRect</code> to set the dimensions of a <code>prRect</code> struct.<br/><br/>This should be used because Mac OS <code>Rect</code> members have a different ordering than Windows <code>RECT</code> members.</td>
</tr>
<tr>
<td><code>prFloatRect</code></td>
<td><pre>typedef struct {<br/>  float left;<br/>  float top;<br/>  float right;<br/>  float bottom;<br/>} prFloatRect;</pre></td>
</tr>
<tr>
<td><code>prRgn</code></td>
<td>A Windows <code>HRGN</code></td>
</tr>
<tr>
<td><code>prPoint</code>, <code>LongPoint</code></td>
<td><pre>typedef struct {<br/>  csSDK_int32 x;<br/>  csSDK_int32 y;<br/>} prPoint, LongPoint;</pre><br/><br/><code>LongPoint</code> is deprecated, but still used for a couple of Bottleneck callbacks</td>
</tr>
<tr>
<td>prFPoint</td>
<td><pre>typedef struct {<br/>  double x;<br/>  double y;<br/>} prFPoint64;</pre></td>
</tr>
<tr>
<td><code>prPixel</code></td>
<td>(Deprecated)</td>
</tr>
<tr>
<td><code>prPixelAspectRatio</code></td>
<td>(Deprecated)</td>
</tr>
<tr>
<td><code>PPix</code>, <code>*PPixPtr</code>, <code>**PPixHand</code></td>
<td>Holds a video frame or field, and contains related attributes such as pixel aspect ratio and pixel format.<br/><br/>Manipulate PPixs using the <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>, never directly.</td>
</tr>
<tr>
<td><code>TDB_TimeRecord</code></td>
<td>A time database record representing a time value in the context of a video frame rate.<br/><pre>typedef struct {<br/>  TDB_Time       value;<br/>  TDB_TimeScale  scale;<br/>  TDB_SampSize   sampleSize;<br/>} TDB_TimeRecord;</pre></td>
</tr>
<tr>
<td><code>prBool</code></td>
<td>Can be either <code>kPrTrue</code> or <code>kPrFalse</code></td>
</tr>
<tr>
<td><code>PrMemoryPtr</code>, <code>*PrMemoryHandle</code></td>
<td>A <code>char*</code></td>
</tr>
<tr>
<td><code>PrTimelineID</code>, <code>PrClipID</code></td>
<td>A 32-bit signed integer.</td>
</tr>
<tr>
<td><code>prUTF8Char</code></td>
<td>An 8-bit unsigned integer.</td>
</tr>
<tr>
<td><code>PrSDKString</code></td>
<td>An opaque data type that should be accessed using the new <a href="#universals-sweetpea-suites-string-suite">String Suite</a>.</td>
</tr>
<tr>
<td><code>PrParam</code></td>
<td>Used for exporter parameters<br/><pre>struct PrParam<br/>{<br/>  PrParamType mType;<br/>  union<br/>  {<br/>    csSDK_int8   mInt8;<br/>    csSDK_int16  mInt16;<br/>    csSDK_int32  mInt32;<br/>    csSDK_int64  mInt64;<br/>    float        mFloat32;<br/>    double       mFloat64;<br/>    csSDK_uint8  mBool;<br/>    prFPoint64   mPoint;<br/>    prPluginID   mGuid;<br/>    PrMemoryPtr  mMemoryPtr;<br/>  };<br/>};<br/><br/>enum PrParamType<br/>{<br/>  kPrParamType_Int8 = 1,<br/>  kPrParamType_Int16,<br/>  kPrParamType_Int32,<br/>  kPrParamType_Int64,<br/>  kPrParamType_Float32,<br/>  kPrParamType_Float64,<br/>  kPrParamType_Bool,<br/>  kPrParamType_Point,<br/>  kPrParamType_Guid,<br/>  kPrParamType_PrMemoryPtr<br/>};</pre></td>
</tr>
<tr>
<td><code>prDateStamp</code></td>
<td>Used in by importers in <code>imFileAttributesRec.creationDateStamp</code>.<br/><pre>typedef struct<br/>{<br/>  csSDK_int32  day;<br/>  csSDK_int32  month;<br/>  csSDK_int32  year;<br/>  csSDK_int32  hours;<br/>  csSDK_int32  minutes;<br/>  double       seconds;<br/>} prDateStamp;</pre></td>
</tr>
</tbody>
</table></section><section class="print-page" id="universals-suites"><h1 id="universals-suites-suites">Suites<a class="headerlink" href="#universals-suites-suites" title="Permanent link">&para;</a></h1>
<p>There are different sets of function suites available to Premiere plugins. <a href="#universals-sweetpea-suites">SweetPea Suites</a> are the more modern suites that have been added for most new functionality. The <a href="#universals-legacy-callback-suites-pisuites">piSuites</a> are still needed for various functionality that has not all been superceded by <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<p>Whenever possible, use <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<p>There are also function suites more specific to certain plugin types. The <a href="#universals-legacy-callback-suites-bottleneck-functions">Bottleneck Functions</a> are useful for transitions and video filters. Other suites available to only one plugin type are documented in the appropriate chapter for that plugin type.</p></section><section class="print-page" id="universals-sweetpea-suites"><h1 id="universals-sweetpea-suites-sweetpea-suites">SweetPea Suites<a class="headerlink" href="#universals-sweetpea-suites-sweetpea-suites" title="Permanent link">&para;</a></h1>
<h2 id="universals-sweetpea-suites-overview">Overview<a class="headerlink" href="#universals-sweetpea-suites-overview" title="Permanent link">&para;</a></h2>
<p>Suites common to more than one plugin type are documented in this chapter below.</p>
<p>Suites that are only used by one plugin type are documented in the chapter on that plugin type.</p>
<p>Below is a table of all suites available in Premiere Pro:</p>
<table>
<thead>
<tr>
<th>Suite Name</th>
<th>Relevant to Plug-in Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>Accelerated Render Invocation Suite</td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-app-info-suite">App Info Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-application-settings-suite">Application Settings Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#importers-suites-async-file-reader-suite">Async File Reader Suite</a></td>
<td>Importers</td>
</tr>
<tr>
<td>Async Operation Suite</td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-audio-suite">Audio Suite</a></td>
<td>Importers, Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a></td>
<td>Device Controllers, Exporters, Transmitters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#importers-suites-deferred-processing-suite">Deferred Processing Suite</a></td>
<td>Importers</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-error-suite">Error Suite</a></td>
<td>All except Exporters starting in CS6</td>
</tr>
<tr>
<td><a href="#exporters-suites-export-file-suite">Export File Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#exporters-suites-export-info-suite">Export Info Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#exporters-suites-export-param-suite">Export Param Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#exporters-suites-export-progress-suite">Export Progress Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#exporters-suites-export-standard-param-suite">Export Standard Param Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-file-registration-suite">File Registration Suite</a></td>
<td>Importers, Transitions, Video Filters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-flash-cue-marker-data-suite">Flash Cue Marker Data Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-suites-gpu-device-suite">GPU Device Suite</a></td>
<td>GPU Effects and Transitions</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a></td>
<td>All</td>
</tr>
<tr>
<td>Importer File Manager Suite</td>
<td>Importers</td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites">Legacy Callback Suites</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-marker-suite">Marker Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td>Media Accelerator Suite</td>
<td>Importers</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#exporters-suites-palette-suite">Palette Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-pixel-format-suite">Pixel Format Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#transmitters-suites-playmod-audio-suite">Playmod Audio Suite</a></td>
<td>Transmitters</td>
</tr>
<tr>
<td>Playmod Device Control Suite</td>
<td>None (Deprecated)</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-playmod-overlay-suite">Playmod Overlay Suite</a></td>
<td>Transmitters</td>
</tr>
<tr>
<td>Playmod Render Suite</td>
<td>None (Deprecated)</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a></td>
<td>Importers</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-ppix-creator-2-suite">PPix Creator 2 Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-ppix-2-suite">PPix 2 Suite</a></td>
<td>All</td>
</tr>
<tr>
<td>Quality Suite</td>
<td>None (Deprecated)</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-rollcrawl-suite">RollCrawl Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td>Scope Render Suite</td>
<td>None (Deprecated)</td>
</tr>
<tr>
<td><a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a></td>
<td>Importers, Transitions, Video Filters</td>
</tr>
<tr>
<td><a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td>Stock Image Suite</td>
<td>None (Deprecated)</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-string-suite">String Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-threaded-work-suite">Threaded Work Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-time-suite">Time Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#transmitters-suites-transmit-invocation-suite">Transmit Invocation Suite</a></td>
<td>All</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a></td>
<td>Exporters</td>
</tr>
<tr>
<td><a href="#universals-sweetpea-suites-window-suite">Window Suite</a></td>
<td>All</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-sweetpea-suites-acquiring-and-releasing-the-suites">Acquiring and Releasing the Suites<a class="headerlink" href="#universals-sweetpea-suites-acquiring-and-releasing-the-suites" title="Permanent link">&para;</a></h2>
<p>All SweetPea suites are accessed through the Utilities Suite. Plugins can acquire the suites.</p>
<div class="highlight"><pre><span></span><code><span class="n">SPBasicSuite</span><span class="w"> </span><span class="n">SPBasic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="n">PrSDKPixelFormatSuite</span><span class="w"> </span><span class="o">*</span><span class="n">PixelFormatSuite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>

<span class="n">SPBasic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stdParmsP</span><span class="o">-&gt;</span><span class="n">piSuites</span><span class="o">-&gt;</span><span class="n">utilFuncs</span><span class="o">-&gt;</span><span class="n">getSPBasicSuite</span><span class="p">();</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SPBasic</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="n">SPBasic</span><span class="o">-&gt;</span><span class="n">AcquireSuite</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">kPrSDKPixelFormatSuite</span><span class="p">,</span><span class="w"> </span><span class="n">kPrSDKPixelFormatSuiteVersion</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">**</span><span class="p">)</span><span class="o">&amp;</span><span class="n">PixelFormatSuite</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<p>Don't forget to release the suites when finished!</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">SPBasic</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">PixelFormatSuite</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">SPBasic</span><span class="o">-&gt;</span><span class="n">ReleaseSuite</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">kPrSDKPixelFormatSuite</span><span class="p">,</span>
<span class="w">                          </span><span class="n">kPrSDKPixelFormatSuiteVersion</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="universals-sweetpea-suites-versioning">Versioning<a class="headerlink" href="#universals-sweetpea-suites-versioning" title="Permanent link">&para;</a></h3>
<p>Generally from version to version, the changes made to a suite are additive, so it is recommended to work with the most recent version of a suite if possible. However the latest version of a suite may not be supported by older versions of Premiere Pro or other host applications. Attempting to acquire suites that are unsupported by the host application will result in a NULL pointer being returned from AcquireSuite.</p>
<p>For a plugin to support multiple versions, it may choose to use a specific older version of the suite that is supported across those multiple versions. Alternatively, it may check the version of the host application (using the <a href="#universals-sweetpea-suites-app-info-suite">App Info Suite</a>), and use the new suites where available, or the older suites when running in an older version. To acquire a specific older version of a suite, rather than requesting kPrSDKPixelFormatSuiteVersion in the example above, use a specific version number instead.</p>
<hr />
<h2 id="universals-sweetpea-suites-app-info-suite">App Info Suite<a class="headerlink" href="#universals-sweetpea-suites-app-info-suite" title="Permanent link">&para;</a></h2>
<p>Useful for plug-i that are shared between different applications, such as After Effects plugins, Premiere exporters, transmitters, and importers, where it may be important to know which host, version, or language the plugin is currently running in.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This suite is not available to AE effects running in AE.</p>
</div>
<p>This suite provides the host application and version number. For a version such as 6.0.3, it will return major = 6, minor = 0, and patch = 3. See PrSDKAppInfoSuite.h.</p>
<p>Starting in version 2 of the suite, introduced in CC, the suite has a new selector to retrieve the build number. SpeedGrade CC supports this suite starting with the July 2013 update.</p>
<p>In version 3, starting in CC 2014, the suite has a new selector to retrieve the language as a NULL-terminated string identifying the locale used in the host application. For example: "en_US", "ja_JP", "zh_CN".</p>
<hr />
<h2 id="universals-sweetpea-suites-application-settings-suite">Application Settings Suite<a class="headerlink" href="#universals-sweetpea-suites-application-settings-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. This suite provides calls to get the scratch disk folder paths defined in the current project, where the captured files and preview files are created. It also provides a call to get the project file path. All paths are passed back as PrSDKStrings. Use the new <a href="#universals-sweetpea-suites-string-suite">String Suite</a> to extract the strings to UTF-8 or UTF-16. See PrSDKApplicationSettingsSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-audio-suite">Audio Suite<a class="headerlink" href="#universals-sweetpea-suites-audio-suite" title="Permanent link">&para;</a></h2>
<p>Calls to convert to and from the native audio format used by the Premiere API, at various bit depths. See PrSDKAudioSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-captioning-suite">Captioning Suite<a class="headerlink" href="#universals-sweetpea-suites-captioning-suite" title="Permanent link">&para;</a></h2>
<p>This suite enables a device controller, exporter, player, or transmitter to get the closed captioning data attached to a sequence. This suite provides the data in either Scenarist (CEA-608, *.scc) and MacCaption (CEA-708, *.mcc) formats. In the case of CEA-708, it includes not just the text to display, but it's also the position information, and background, font, etc. If the transmitter or player just wants to overlay the captioning data on a frame, it can use the <a href="#universals-sweetpea-suites-playmod-overlay-suite">Playmod Overlay Suite</a> instead.</p>
<hr />
<h2 id="universals-sweetpea-suites-clip-render-suite">Clip Render Suite<a class="headerlink" href="#universals-sweetpea-suites-clip-render-suite" title="Permanent link">&para;</a></h2>
<p>New in 2.0. Use this suite in the player or renderer, to request source frames directly from the importer. There are calls to find the supported frame sizes and pixel formats, so that the caller can make an informed decision about what format to request. Frames can be retrieved synchronously or asynchronously. Asynchronous requests can be cancelled, for example if the frames have passed their window of playback. See PrSDKClipRenderSuite.h.</p>
<p>Starting in CS4, this suite includes calls to find any custom pixel format supported by a clip, and to get frames in those custom pixel formats.</p>
<p>An exporter can use this suite to request frames from the renderer in a compressed pixel format.</p>
<hr />
<h2 id="universals-sweetpea-suites-error-suite">Error Suite<a class="headerlink" href="#universals-sweetpea-suites-error-suite" title="Permanent link">&para;</a></h2>
<p>Uses a single callback for errors, warnings, and info. This callback will activate a flashing icon in the lower left-hand corner of the main application window, which when clicked, will open up the new Events Window containing the error information. See PrSDKErrorSuite.h.</p>
<p>Starting in version 3 of the suite, introduced in CS4, the suite supports UTF-16 strings. Starting in CS6, exporters should use the <a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a> to report events.</p>
<hr />
<h2 id="universals-sweetpea-suites-file-registration-suite">File Registration Suite<a class="headerlink" href="#universals-sweetpea-suites-file-registration-suite" title="Permanent link">&para;</a></h2>
<p>Used for registering external files (such as textures, logos, etc) that are used by a plugin instance but do not appear as footage in the Project Window. Registered files will be taken into account when trimming or copying a project using the Project Manager. See PrSDKFileRegistrationSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-flash-cue-marker-data-suite">Flash Cue Marker Data Suite<a class="headerlink" href="#universals-sweetpea-suites-flash-cue-marker-data-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. Specific utilities to read Flash cue points. Use in conjunction with the <a href="#universals-sweetpea-suites-marker-suite">Marker Suite</a>. See PrSDKFlashCueMarkerDataSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-image-processing-suite">Image Processing Suite<a class="headerlink" href="#universals-sweetpea-suites-image-processing-suite" title="Permanent link">&para;</a></h2>
<p>New in CS5. Various calls to get information on pixel formats and process frames. The ScaleConvert() call is the way to copy-convert from a buffer of any supported pixel format to a separate memory buffer.</p>
<p>In version 2, new in CS5.5, we have added StampDVFrameAspect(), which allows a plugin to set the aspect ratio of a DV frame. This was added to supplement ScaleConvert(), which doesn't have an aspect ratio parameter.</p>
<hr />
<h2 id="universals-sweetpea-suites-marker-suite">Marker Suite<a class="headerlink" href="#universals-sweetpea-suites-marker-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. New way to read markers of all types. See PrSDKMarkerSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite<a class="headerlink" href="#universals-sweetpea-suites-memory-manager-suite" title="Permanent link">&para;</a></h2>
<p>New in Premiere Pro 2.0. Calls to allocate and deallocate memory, and to reserve an amount of memory so that it is not used by the host. See PrSDKMemoryManagerSuite.h.</p>
<p>In CS6, the suite is now at version 4. AdjustReservedMemorySize provides a way to adjust the reserved memory size relative to the current size. This may be easier for the plugin, rather than maintaining the absolute memory usage and updating it using the older ReserveMemory call.</p>
<h3 id="universals-sweetpea-suites-reservememory">ReserveMemory<a class="headerlink" href="#universals-sweetpea-suites-reservememory" title="Permanent link">&para;</a></h3>
<p>A plugin instance can call ReserveMemory as a request to reserve space so that Premiere's media cache does not use it. Each time ReserveMemory is called, it updates Premiere Pro on how many bytes the plugin instance is currently reserving. The amount specified is absolute, rather than cumulative. So to release any reserved memory to be made available to Premiere Pro's media cache, call it with a size of 0. However, it's not needed to reset this when exporters are destructed on <em>exSDK_EndInstance</em>, since the media manager will be deleting all the references anyways.</p>
<p>ReserveMemory changes the maximum size of Premiere's Media Cache. So if the cache size starts at 10 GB, and you reserve 1 GB, then the cache will not grow beyond 9 GB. ReserveMemory will reserve a different amount of memory, depending on the amount of available memory in the system, and what other plugin instances have already reserved. The media cache needs a minimum amount of memory to play audio, render, etc.</p>
<p>Starting in version 2 of the suite, introduced in CS4, there are calls to allocate/deallocate memory. This is necessary for exporters, which are not passed the legacy memFuncs.</p>
<hr />
<h2 id="universals-sweetpea-suites-pixel-format-suite">Pixel Format Suite<a class="headerlink" href="#universals-sweetpea-suites-pixel-format-suite" title="Permanent link">&para;</a></h2>
<p>See the table of supported pixel formats. GetBlackForPixelFormat returns the minimum (black) value for a given pixel format. GetWhiteForPixelFormat returns the maximum (white) value for a given pixel format. Pixel types like YUYV actually contain a group of two pixels to specify a color completely, so the data size returned in this case will be 4 bytes (rather than 2). This call does not support MPEG-2 planar formats.</p>
<p>ConvertColorToPixelFormattedData converts an BGRA/ARGB value into a value of a different pixel type. These functions are not meant to convert entire frames from one colorspace to another, but may be used to convert a single color value from a filter color picker or transition border. To convert frames between pixel formats, see the <a href="#universals-sweetpea-suites-image-processing-suite">Image Processing Suite</a>.</p>
<p>New in Premiere Pro 4.0.1, <code>MAKE_THIRD_PARTY_CUSTOM_PIXEL_FORMAT_FOURCC()</code> defines a custom pixel format.</p>
<hr />
<h2 id="universals-sweetpea-suites-playmod-overlay-suite">Playmod Overlay Suite<a class="headerlink" href="#universals-sweetpea-suites-playmod-overlay-suite" title="Permanent link">&para;</a></h2>
<p>New in CS5.5. A transmitter can ask Premiere Pro to render the overlay for a specific time. As of CS6, this is only used for closed captioning.</p>
<p>To render the closed captioning overlay, it is not necessary to know anything about the closed captioning data, whether it is CEA-608 or CEA-708. RenderImage will simply produce a PPixHand.</p>
<p>The reason why it's not called Closed Captioning Overlay Suite is because going forward we want to use it as a general suite that provides all kinds of overlays. That way, when we add more overlay types in the future, you don't need to worry about updating your player each time to mirror the implementation on your side. In the future, we will likely use this same suite to render static overlays, such as safe areas. To support those, even if VariesOverTime returns false, you can call HasVisibleRegions at time 0.</p>
<p>Version 2 in CC 2014 removes <code>CalculateVisibleRegions()</code>.</p>
<h3 id="universals-sweetpea-suites-renderimage">RenderImage<a class="headerlink" href="#universals-sweetpea-suites-renderimage" title="Permanent link">&para;</a></h3>
<p>Render the overlay into an optionally provided BGRA PPixHand. RenderImage does not composite the overlay onto an existing frame, it just renders the overlay into the visible regions. After rendering the overlay at the player's display size, you will then need to composite that result over the frame.</p>
<p>If the user has zoomed the video, it could be wasteful to render a full-sized overlay image and then scale it. For better performance, the overlay can be rendered at the actual display size. The inDisplayWidth, inDisplayHeight and inLogicalRegion parameters provide this extra information needed to optimize for scaling in the UI.</p>
<p>As an example, let's say the sequence is 720x480 at 0.9091 PAR, and the Sequence Monitor is set to show the full frame at square PAR. Set inLogicalRegion to (0, 0, 720, 480), and inDisplayWidth to 654 and inDisplayHeight to 480.</p>
<p>If the Monitor zoom level was set to 50%, then the inLogicalRegion should stay the same, but display width and height should be set to 327x240. If zoomed to 200%, display width and height should be set to 1308x960. To pan around (as opposed to showing the entire frame), the logical region should be adjusted to represent the part of the sequence frame currently being displayed.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderImage</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrPlayID</span><span class="w">       </span><span class="n">inPlayID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prRect</span><span class="o">*</span><span class="w">  </span><span class="n">inLogicalRegion</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayWidth</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayHeight</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">         </span><span class="n">inClearToTransparentBlack</span><span class="p">,</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="o">*</span><span class="w">      </span><span class="n">ioPPix</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inLogicalRegion</code></td>
<td>The non-scaled region of the source PPix to overlay</td>
</tr>
<tr>
<td><code>inDisplayWidth</code></td>
<td>Width and height of PPix, if provided in ioPPix, scaled to account for Monitor zoom and PAR</td>
</tr>
<tr>
<td><code>inDisplayHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>inClearToTransparentBlack</code></td>
<td>If <code>kPrTrue</code>, the frame will first be cleared to transparent black before render</td>
</tr>
<tr>
<td><code>ioPPix</code></td>
<td>The frame into which to draw the overlay. If NULL, the host will allocate the PPix.<br/><br/>If provided, the PPix must be BGRA, square pixel aspect ratio, and sized to inDisplayWidth &amp; inDisplayHeight.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getidentifier">GetIdentifier<a class="headerlink" href="#universals-sweetpea-suites-getidentifier" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetIdentifier</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrPlayID</span><span class="w">       </span><span class="n">inPlayID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prRect</span><span class="o">*</span><span class="w">  </span><span class="n">inLogicalRegion</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayWidth</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayHeight</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">         </span><span class="n">inClearToTransparentBlack</span><span class="p">,</span>
<span class="w">  </span><span class="n">prPluginID</span><span class="o">*</span><span class="w">    </span><span class="n">outIdentifier</span><span class="p">);</span>
</code></pre></div>
<h3 id="universals-sweetpea-suites-hasvisibleregions">HasVisibleRegions<a class="headerlink" href="#universals-sweetpea-suites-hasvisibleregions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">HasVisibleRegions</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrPlayID</span><span class="w">       </span><span class="n">inPlayID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prRect</span><span class="o">*</span><span class="w">  </span><span class="n">inLogicalRegion</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayWidth</span><span class="p">,</span>
<span class="w">  </span><span class="kt">int</span><span class="w">            </span><span class="n">inDisplayHeight</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="o">*</span><span class="w">        </span><span class="n">outHasVisibleRegions</span><span class="p">);</span>
</code></pre></div>
<h3 id="universals-sweetpea-suites-variesovertime">VariesOverTime<a class="headerlink" href="#universals-sweetpea-suites-variesovertime" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">VariesOverTime</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrPlayID</span><span class="w">  </span><span class="n">inPlayID</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="o">*</span><span class="w">   </span><span class="n">outVariesOverTime</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite<a class="headerlink" href="#universals-sweetpea-suites-ppix-cache-suite" title="Permanent link">&para;</a></h2>
<p>Used by an importer, player, or renderer to take advantage of the host application's PPix cache. See PrSDKPPixCacheSuite.h.</p>
<p>Starting in version 2 of this suite, introduced in Premiere Pro 4.1, <code>AddFrameToCache</code> and <code>GetFrameFromCache</code> now have two extra parameters, <code>inPreferences</code> and <code>inPreferencesLength</code>. Now frames are differentiated within the cache, based on the importer preferences, so when the preferences change, the host will not use the old frame when it gets a frame request.</p>
<p>Version 4, new in CS5.0.3, adds <code>ExpireNamedPPixFromCache()</code> and <code>ExpireAllPPixesFromCache()</code>, which allow a plugin to remove one or all PPixes from the Media Cache, which can be useful if the media is changing due to being edited in a separate application.</p>
<p>To expire an individual frames expired using <code>ExpireNamedPPixFromCache()</code>, the identifier must be known. The plugin may specify an identifier using <code>AddNamedPPixToCache()</code>. If a frame is in the cache with multiple names, and you expire any one of those names, then the frame will be expired. Alternatively, for rendered frames, the identifier may be retrieved using <code>GetIdentifierForProduceFrameAsync()</code> in the <a href="#universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite</a>.</p>
<p>Clearing the cache will not interfere with any outstanding requests, because each request holds dependencies on the needed frames.</p>
<p>Version 5, new in CS5.5, adds the new color profile-aware calls <code>AddFrameToCacheWithColorProfile()</code> and <code>GetFrameFromCacheWithColorProfile()</code>.</p>
<p>Version 6, new in CC 2014, adds <code>AddFrameToCacheWithColorProfile2()</code> and <code>GetFrameFromCacheWithColorProfile2()</code>, which are the same as the ones added in version 5 with the addition of a <code>PrRenderQuality</code> parameter.</p>
<p>Version 7, adds <code>AddFrameToCacheWithColorSpace()</code> and <code>GetFrameFromCacheWithColorSpace()</code>, these APIs deprecate <code>AddFrameToCacheWithColorProfile2()</code> and <code>GetFrameFromCacheWithColorProfile2()</code>.</p>
<hr />
<h2 id="universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite<a class="headerlink" href="#universals-sweetpea-suites-ppix-creator-suite" title="Permanent link">&para;</a></h2>
<p>Includes callbacks to create and copy PPixs. See also the <a href="#universals-sweetpea-suites-ppix-creator-2-suite">PPix Creator 2 Suite</a>.</p>
<h3 id="universals-sweetpea-suites-createppix">CreatePPix<a class="headerlink" href="#universals-sweetpea-suites-createppix" title="Permanent link">&para;</a></h3>
<p>Creates a new PPix. The advantage of using this callback is that frames allocated are accounted for in the media cache, and are 16-byte aligned.</p>
<p><code>ppixNew</code> and <code>newPtr</code> don't allocate memory in the media cache, or perform any alignment.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">CreatePPix</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="o">*</span><span class="w">           </span><span class="n">outPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrPPixBufferAccess</span><span class="w">  </span><span class="n">inRequestedAccess</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">       </span><span class="n">inPixelFormat</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prRect</span><span class="o">*</span><span class="w">       </span><span class="n">inBoundingRect</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand *outPPixHand</code></td>
<td>The new PPix handle if the creation was successful.<br/><br/>NULL otherwise.</td>
</tr>
<tr>
<td><code>PrPPixBufferAccess inRequestedAccess</code></td>
<td>Requested pixel access. Read-only is not allowed (doesn't make sense).<br/><br/><code>PrPPixBufferAccess</code> values are defined in <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>.</td>
</tr>
<tr>
<td><code>PrPixelFormat inPixelFormat</code></td>
<td>The pixel format of this PPix</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-cloneppix">ClonePPix<a class="headerlink" href="#universals-sweetpea-suites-cloneppix" title="Permanent link">&para;</a></h3>
<p>Clones an existing PPix.</p>
<p>It will ref-count the PPix if only read access is requested and the PPix to copy from is read-only as well, otherwise it will create a new one and copy.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ClonePPix</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">            </span><span class="n">inPPixToClone</span><span class="p">,</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="o">*</span><span class="w">           </span><span class="n">outPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrPPixBufferAccess</span><span class="w">  </span><span class="n">inRequestedAccess</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixToClone</code></td>
<td>The PPix to clone from.</td>
</tr>
<tr>
<td><code>PPixHand *outPPixHand</code></td>
<td>The new PPix handle if the creation was successful.<br/><br/>NULL otherwise.</td>
</tr>
<tr>
<td><code>PrPPixBufferAccess inRequestedAccess</code></td>
<td>Requested pixel access.<br/><br/>Only read-only is allowed right now.<br/><br/><code>PrPPixBufferAccess</code> values are defined in <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-sweetpea-suites-ppix-creator-2-suite">PPix Creator 2 Suite<a class="headerlink" href="#universals-sweetpea-suites-ppix-creator-2-suite" title="Permanent link">&para;</a></h2>
<p>More callbacks to create PPixs, including raw PPixs.</p>
<p>Starting in version 2 of this suite, introduced in Premiere Pro 4.0.1, there is a new <code>CreateCustomPPix</code> call to create a PPix in a custom pixel format.</p>
<p>New APIs added to create PPix with specific color space. Color aware Importers should use new color managed APIs for PPix creation. See PrSDKPPixCreator2Suite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-ppix-suite">PPix Suite<a class="headerlink" href="#universals-sweetpea-suites-ppix-suite" title="Permanent link">&para;</a></h2>
<p>Callbacks and enums pertaining to PPixs. See also <a href="#universals-sweetpea-suites-ppix-2-suite">PPix 2 Suite</a>.</p>
<h3 id="universals-sweetpea-suites-prppixbufferaccess">PrPPixBufferAccess<a class="headerlink" href="#universals-sweetpea-suites-prppixbufferaccess" title="Permanent link">&para;</a></h3>
<p>Can be either:</p>
<ul>
<li><code>PrPPixBufferAccess_ReadOnly</code>,</li>
<li><code>PrPPixBufferAccess_WriteOnly</code>,</li>
<li><code>PrPPixBufferAccess_ReadWrite</code></li>
</ul>
<h3 id="universals-sweetpea-suites-dispose">Dispose<a class="headerlink" href="#universals-sweetpea-suites-dispose" title="Permanent link">&para;</a></h3>
<p>This will free this PPix. The PPix is no longer valid after this function is called.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">Dispose</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">  </span><span class="n">inPPixHand</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to dispose.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getpixels">GetPixels<a class="headerlink" href="#universals-sweetpea-suites-getpixels" title="Permanent link">&para;</a></h3>
<p>This will return a pointer to the pixel buffer.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetPixels</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">            </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrPPixBufferAccess</span><span class="w">  </span><span class="n">inRequestedAccess</span><span class="p">,</span>
<span class="w">  </span><span class="kt">char</span><span class="o">**</span><span class="w">              </span><span class="n">outPixelAddress</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>PrPPixBufferAccess inRequestedAccess</code><br/><br/>Most PPixs do not support write access modes.</td>
<td>Requested pixel access.</td>
</tr>
<tr>
<td><code>char** outPixelAddress</code></td>
<td>The output pixel buffer address.<br/><br/>May be NULL if the requested pixel access is not supported.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getbounds">GetBounds<a class="headerlink" href="#universals-sweetpea-suites-getbounds" title="Permanent link">&para;</a></h3>
<p>This will return the bounding rect.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetBounds</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">  </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">prRect</span><span class="o">*</span><span class="w">   </span><span class="n">inoutBoundingRect</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>prRect* inoutBoundingRect</code></td>
<td>The address of a bounding rect to be filled in.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getrowbytes">GetRowBytes<a class="headerlink" href="#universals-sweetpea-suites-getrowbytes" title="Permanent link">&para;</a></h3>
<p>This will return the row bytes of the PPix.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetRowBytes</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">      </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="o">*</span><span class="w">  </span><span class="n">outRowBytes</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>csSDK_int32* outRowBytes</code></td>
<td>Returns how many bytes must be added to the pixel buffer address to get to the next line.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getpixelaspectratio">GetPixelAspectRatio<a class="headerlink" href="#universals-sweetpea-suites-getpixelaspectratio" title="Permanent link">&para;</a></h3>
<p>This will return the pixel aspect ratio of this PPix.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetPixelAspectRatio</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">       </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">outPixelAspectRatioNumerator</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">outPixelAspectRatioDenominator</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>PrPixelFormat* outPixelFormat</code></td>
<td>Returns the pixel format of this PPix</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getuniquekey">GetUniqueKey<a class="headerlink" href="#universals-sweetpea-suites-getuniquekey" title="Permanent link">&para;</a></h3>
<p>This will return the unique key for this PPix.</p>
<table>
<thead>
<tr>
<th>Returns</th>
<th>If</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td>the buffer size is too small (call <code>GetUniqueKeySize</code> to get the correct size)</td>
</tr>
<tr>
<td>error</td>
<td>the key is not available</td>
</tr>
<tr>
<td>success</td>
<td>the key data was filled in</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetUniqueKey</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">        </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w">  </span><span class="n">inoutKeyBuffer</span><span class="p">,</span>
<span class="w">  </span><span class="kt">size_t</span><span class="w">          </span><span class="n">inKeyBufferSize</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>unsigned char* inoutKeyBuffer</code></td>
<td>Storage for the key to be returned.</td>
</tr>
<tr>
<td><code>size_t inKeyBufferSize</code></td>
<td>Size of buffer</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getuniquekeysize">GetUniqueKeySize<a class="headerlink" href="#universals-sweetpea-suites-getuniquekeysize" title="Permanent link">&para;</a></h3>
<p>This will return the unique key size. This will not change for the entire run of the application.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetUniqueKeySize</span><span class="p">)(</span>
<span class="w">  </span><span class="kt">size_t</span><span class="o">*</span><span class="w">  </span><span class="n">outKeyBufferSize</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>size_t* outKeyBufferSize</code></td>
<td>Returns the size of the PPix unique key.</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-getrendertime">GetRenderTime<a class="headerlink" href="#universals-sweetpea-suites-getrendertime" title="Permanent link">&para;</a></h3>
<p>This will return the render time for this PPix.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetRenderTime</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">      </span><span class="n">inPPixHand</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="o">*</span><span class="w">  </span><span class="n">outRenderMilliseconds</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PPixHand inPPixHand</code></td>
<td>The PPix handle to operate on.</td>
</tr>
<tr>
<td><code>csSDK_int32* outRenderMilliseconds</code></td>
<td>Returns the render time in milliseconds.<br/><br/>If the frame was cached, the time will be zero.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-sweetpea-suites-ppix-2-suite">PPix 2 Suite<a class="headerlink" href="#universals-sweetpea-suites-ppix-2-suite" title="Permanent link">&para;</a></h2>
<p>A call to get the size of a PPix. Starting in version 2 of this suite, introduced in CS4, there is a new <code>GetYUV420PlanarBuffers</code> call to get buffer offsets and rowbytes of YUV_420_MPEG2 pixel formats. See PrSDKPPix2Suite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-rollcrawl-suite">RollCrawl Suite<a class="headerlink" href="#universals-sweetpea-suites-rollcrawl-suite" title="Permanent link">&para;</a></h2>
<p>Used by a player or renderer to obtain the pixels for a roll/crawl. The player or render can then move and composite it using accelerated algorithms or hardware. See PrSDKRollCrawlSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite<a class="headerlink" href="#universals-sweetpea-suites-sequence-info-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. Calls to get the frame size and pixel aspect ratio of a sequence. This is useful for importers, transitions, or video filters, that provide a custom setup dialog with a preview of the video, so that the preview frame can be rendered at the right dimensions. See PrSDKSequenceInfoSuite.h.</p>
<p>Version 2, new in CS5.5, adds <code>GetFrameRate()</code>.</p>
<p>Version 3, new in CC, adds <code>GetFieldType()</code>, <code>GetZeroPoint()</code>, and <code>GetTimecodeDropFrame()</code>.</p>
<hr />
<h2 id="universals-sweetpea-suites-string-suite">String Suite<a class="headerlink" href="#universals-sweetpea-suites-string-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. Calls to allocate, copy, and dispose of PrSDKStrings. See PrSDKStringSuite.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-threaded-work-suite">Threaded Work Suite<a class="headerlink" href="#universals-sweetpea-suites-threaded-work-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. Calls to register and queue up a threaded work callback for processing on a render thread. If you queue multiple times, it is possible for multiple threads to call your callback. If this is a problem, you'll need to handle this on your end.</p>
<hr />
<h2 id="universals-sweetpea-suites-time-suite">Time Suite<a class="headerlink" href="#universals-sweetpea-suites-time-suite" title="Permanent link">&para;</a></h2>
<p>A SweetPea suite that includes the following structure, callbacks, and enum:</p>
<h3 id="universals-sweetpea-suites-pmplaytimebase">pmPlayTimebase<a class="headerlink" href="#universals-sweetpea-suites-pmplaytimebase" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>csSDK_uint32 scale</code></td>
<td>rate of the timebase</td>
</tr>
<tr>
<td><code>csSDK_int32 sampleSize</code></td>
<td>size of one sample</td>
</tr>
<tr>
<td><code>csSDK_int32 fileDuration</code></td>
<td>number of samples in file</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-prvideoframerates">PrVideoFrameRates<a class="headerlink" href="#universals-sweetpea-suites-prvideoframerates" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kVideoFrameRate_24Drop</code></td>
<td>24000 / 1001</td>
</tr>
<tr>
<td><code>kVideoFrameRate_24</code></td>
<td>24</td>
</tr>
<tr>
<td><code>kVideoFrameRate_PAL</code></td>
<td>25</td>
</tr>
<tr>
<td><code>kVideoFrameRate_NTSC</code></td>
<td>30000 / 1001</td>
</tr>
<tr>
<td><code>kVideoFrameRate_30</code></td>
<td>30</td>
</tr>
<tr>
<td><code>kVideoFrameRate_PAL_HD</code></td>
<td>50</td>
</tr>
<tr>
<td><code>kVideoFrameRate_NTSC_HD</code></td>
<td>60000 / 1001</td>
</tr>
<tr>
<td><code>kVideoFrameRate_60</code></td>
<td>60</td>
</tr>
<tr>
<td><code>kVideoFrameRate_Max</code></td>
<td>0xFFFFFFFF</td>
</tr>
</tbody>
</table>
<h3 id="universals-sweetpea-suites-gettickspersecond">GetTicksPerSecond<a class="headerlink" href="#universals-sweetpea-suites-gettickspersecond" title="Permanent link">&para;</a></h3>
<p>Get the current ticks per second. This is guaranteed to be constant for the duration of the runtime.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetTicksPerSecond</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrTime</span><span class="o">*</span><span class="w">  </span><span class="n">outTicksPerSec</span><span class="p">);</span>
</code></pre></div>
<h3 id="universals-sweetpea-suites-gettickspervideoframe">GetTicksPerVideoFrame<a class="headerlink" href="#universals-sweetpea-suites-gettickspervideoframe" title="Permanent link">&para;</a></h3>
<p>Get the current ticks in a video frame rate. inVideoFrameRate may be any of the <code>PrVideoFrameRates</code> enum.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetTicksPerVideoFrame</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrVideoFrameRates</span><span class="w">  </span><span class="n">inVideoFrameRate</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="o">*</span><span class="w">            </span><span class="n">outTicksPerFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="universals-sweetpea-suites-getticksperaudiosample">GetTicksPerAudioSample<a class="headerlink" href="#universals-sweetpea-suites-getticksperaudiosample" title="Permanent link">&para;</a></h3>
<p>Get the current ticks in an audio sample rate.</p>
<table>
<thead>
<tr>
<th>Returns</th>
<th>If</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kPrTimeSuite_RoundedAudioRate</code></td>
<td>the requested audio sample rate is not an even divisor of the base tick count and therefore times in this rate will not be exact.</td>
</tr>
<tr>
<td><code>kPrTimeSuite_Success</code></td>
<td>otherwise</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetTicksPerAudioSample</span><span class="p">)(</span>
<span class="w">  </span><span class="kt">float</span><span class="w">    </span><span class="n">inSampleRate</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="o">*</span><span class="w">  </span><span class="n">outTicksPerSample</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="universals-sweetpea-suites-video-segment-render-suite">Video Segment Render Suite<a class="headerlink" href="#universals-sweetpea-suites-video-segment-render-suite" title="Permanent link">&para;</a></h2>
<p>This suite uses the built-in software path for rendering, and supports subtree rendering. This means the plugin can ask the host to render a part of the segment, and then still handle the rest of the rendering. This is useful if, for example, one of the layers has an effect that the plugin cannot render itself. The plugin can have the host render that layer, but then handle the other layers along with the compositing.</p>
<p>In version 2, new in CS5.5, the new call <code>SupportsInitiateClipPrefetch()</code> can be used to query whether or not a clip supports prefetching.</p>
<p>In version 3, new in CS6, the function signatures have been modernized, using <code>inSequenceTicksPerFrame</code> rather than <code>inFrameRateScale</code> and <code>inFrameRateSampleSize</code>.</p>
<hr />
<h2 id="universals-sweetpea-suites-video-segment-suite">Video Segment Suite<a class="headerlink" href="#universals-sweetpea-suites-video-segment-suite" title="Permanent link">&para;</a></h2>
<p>This suite provides calls to parse a sequence and get details on video segments. All the queryable node properties are in PrSDKVideoSegmentProperties.h. These properties will be returned as PrSDKStrings, and should be managed using the <a href="#universals-sweetpea-suites-string-suite">String Suite</a>. The segments provide a hash value that the caller can use to quickly determine whether or not a segment has changed. This hash value can be maintained even if a segment is shifted in time</p>
<p>In version 4, new in CS5.5, the new call <code>AcquireNodeForTime()</code> passes back a segment node for a requested time. There are also a few new properties for media nodes: StreamIsContinuousTime, ColorProfileName, ColorProfileData, and ScanlineOffsetToImproveVerticalCentering.</p>
<p>In version 5, new in CC, a new video segment property is available: Effect_ClipName. In version 6, new in CC 2014, <code>AcquireFirstNodeInTimeRange()</code> and</p>
<p><code>AcquireOperatorOwnerNodeID()</code> were added, along with the new node type kVideoSegment_NodeType_AdjustmentEffect.</p>
<p>The basic structure of the video segments is that of a tree structure. There is a Compositor node with n inputs. Each of those inputs is a Clip node, which has one input which is a Media node, and it also has n Operators, which are effects.</p>
<p>So, a simple example, three clips in a stack, the top one with three effects looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="n">Segment</span>
<span class="w">  </span><span class="n">Compositor</span><span class="w"> </span><span class="n">Node</span>
<span class="w">    </span><span class="n">Clip</span><span class="w"> </span><span class="n">Node</span>
<span class="w">      </span><span class="n">Media</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="p">(</span><span class="n">bottom</span><span class="w"> </span><span class="n">clip</span><span class="p">)</span><span class="w"> </span><span class="n">Clip</span><span class="w"> </span><span class="n">Node</span>
<span class="w">    </span><span class="n">Clip</span><span class="w"> </span><span class="n">Node</span>
<span class="w">      </span><span class="n">Media</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="p">(</span><span class="n">middle</span><span class="w"> </span><span class="n">clip</span><span class="p">)</span><span class="w"> </span><span class="n">Clip</span><span class="w"> </span><span class="n">Node</span>
<span class="w">    </span><span class="n">Clip</span><span class="w"> </span><span class="n">Node</span>
<span class="w">      </span><span class="n">Media</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="p">(</span><span class="n">top</span><span class="w"> </span><span class="n">clip</span><span class="p">)</span>
<span class="w">      </span><span class="n">Clip</span><span class="w"> </span><span class="n">Operators</span><span class="w"> </span><span class="p">(</span><span class="n">Blur</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="n">Corrector</span><span class="p">,</span><span class="w"> </span><span class="n">Motion</span><span class="p">)</span>
</code></pre></div>
<p>To get a good idea of the segment structure, try the SDK player, create a sequence using the SDK Editing Mode, and watch the text overlay in the Sequence Monitor as you perform edits.</p>
<p>See PrSDKVideoSegmentSuite.h and PrSDKVideoSegmentProperties.h.</p>
<hr />
<h2 id="universals-sweetpea-suites-window-suite">Window Suite<a class="headerlink" href="#universals-sweetpea-suites-window-suite" title="Permanent link">&para;</a></h2>
<p>New in CS4. This is the new preferred way to get the handle of the mainframe window, especially for exporters, who don't have access to the legacy <a href="#universals-legacy-callback-suites-pisuites">piSuites</a>.</p></section><section class="print-page" id="universals-legacy-callback-suites"><h1 id="universals-legacy-callback-suites-legacy-callback-suites">Legacy Callback Suites<a class="headerlink" href="#universals-legacy-callback-suites-legacy-callback-suites" title="Permanent link">&para;</a></h1>
<h2 id="universals-legacy-callback-suites-pisuites">piSuites<a class="headerlink" href="#universals-legacy-callback-suites-pisuites" title="Permanent link">&para;</a></h2>
<p>These callbacks are available to all plugins, although many of these callbacks are only appropriate for specific plugin types.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w">                   </span><span class="n">piInterfaceVer</span><span class="p">;</span>
<span class="w">  </span><span class="n">PlugMemoryFuncsPtr</span><span class="w">    </span><span class="n">memFuncs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PlugWindowFuncsPtr</span><span class="w">    </span><span class="n">windFuncs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PlugppixFuncsPtr</span><span class="w">      </span><span class="n">ppixFuncs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PlugUtilFuncsPtr</span><span class="w">      </span><span class="n">utilFuncs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PlugTimelineFuncsPtr</span><span class="w">  </span><span class="n">timelineFuncs</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">piSuites</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">piSuitesPtr</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>piInterfaceVer</code></td>
<td>API version<ul><li>Premiere Pro CS4 - <code>PR_PISUITES_VERSION_9</code></li><li>Premiere Pro CS3 - <code>PR_PISUITES_VERSION_8</code></li><li>Premiere Pro 2.0 - <code>PR_PISUITES_VERSION_7</code></li><li>Premiere Pro 1.5.1 - <code>PR_PISUITES_VERSION_6</code></li><li>Premiere Pro 1.5 - <code>PR_PISUITES_VERSION_5</code></li><li>Premiere Pro 1.0 - <code>PR_PISUITES_VERSION_4</code></li><li>Premiere 6.x - <code>PR_PISUITES_VERSION_3</code></li><li>Premiere 5.1 - <code>PR_PISUITES_VERSION_2</code></li><li>Premiere 5.0 - <code>PR_PISUITES_VERSION_1</code></li></ul></td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites-memory-functions">memfuncs</a></td>
<td>Pointer to memory functions</td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites-window-functions">windFuncs</a></td>
<td>Pointer window functions</td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites-ppix-functions">ppixFuncs</a></td>
<td>Pointer PPix functions</td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites-utility-functions">utilFuncs</a></td>
<td>Pointer to utility functions.<br/>In the utilFuncs, the getSPBasicSuite callback provides access to the <a href="#universals-sweetpea-suites">SweetPea Suites</a>, which are used for most of the newer functions.</td>
</tr>
<tr>
<td><a href="#universals-legacy-callback-suites-timeline-functions">timelineFuncs</a></td>
<td>Pointer to timeline functions</td>
</tr>
</tbody>
</table>
<h3 id="universals-legacy-callback-suites-memory-functions">Memory Functions<a class="headerlink" href="#universals-legacy-callback-suites-memory-functions" title="Permanent link">&para;</a></h3>
<p>Memory and handle allocation. Where possible, use the <a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a> for PPix-specific allocation.</p>
<p>Strings passed to and from Premiere in API structures are always null-terminated C strings.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>newPtr</code></td>
<td>Allocates a block of memory, returns a pointer to the new block.<br/><pre>char* newPtr (csSDK_uint32 size);</pre></td>
</tr>
<tr>
<td><code>newPtrClear</code></td>
<td>Equivalent to newPtr, but initializes the memory to 0.<br/><pre>char* newPtrClear (csSDK_uint32 size);</pre></td>
</tr>
<tr>
<td><code>setPtrSize</code></td>
<td>Resizes an allocated memory block.<br/><pre>void setPtrSize (<br/>  PrMemoryPtr   *ptr,<br/>  csSDK_uint32  newsize);</pre></td>
</tr>
<tr>
<td><code>getPtrSize</code></td>
<td>Returns size in bytes of an allocated memory block.<br/><pre>csSDK_int32 getPtrSize (char *ptr);</pre></td>
</tr>
<tr>
<td><code>disposePtr</code></td>
<td>Frees an allocated memory block.<br/><pre>void disposePtr (char *ptr);</pre></td>
</tr>
<tr>
<td><code>newHandle</code></td>
<td>Allocates a block of memory, returning a handle to it.<br/><pre>char** newHandle (csSDK_uint32 size);</pre></td>
</tr>
<tr>
<td><code>newHandleClear</code></td>
<td>Equivalent to newHandle, but initializes the memory to 0.<br/><pre>char** newHandleClear (csSDK_uint32 size);</pre></td>
</tr>
<tr>
<td><code>setHandleSize</code></td>
<td>Resizes an allocated memory handle.<br/><pre>csSDK_int16 setHandleSize (<br/>  char          **PrMemoryHandle,<br/>  csSDK_uint32  newsize);</pre></td>
</tr>
<tr>
<td><code>getHandleSize</code></td>
<td>Returns the size (in bytes) of an allocated block.<br/><pre>csSDK_int32 getHandleSize ( char **PrMemoryHandle);</pre></td>
</tr>
<tr>
<td><code>disposeHandle</code></td>
<td>Disposes of a previously allocated handle.<br/><pre>void disposeHandle (char **PrMemoryHandle);</pre></td>
</tr>
<tr>
<td><code>lockHandle</code> <code>unlockHandle</code></td>
<td>These legacy functions are deprecated and should no longer be used.</td>
</tr>
</tbody>
</table>
<h3 id="universals-legacy-callback-suites-window-functions">Window Functions<a class="headerlink" href="#universals-legacy-callback-suites-window-functions" title="Permanent link">&para;</a></h3>
<p>Window management routines. Superceded by the <a href="#universals-sweetpea-suites-window-suite">Window Suite</a>.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>updateAllWindows</code></td>
<td>Updates all windows. Windows only, doesn't work on Mac OS.<br/><pre>void updateAllWindows (void);</pre></td>
</tr>
<tr>
<td><code>getMainWnd</code></td>
<td>Returns the main application HWND.<br/><pre>void getMainWnd (void);</pre></td>
</tr>
</tbody>
</table>
<h3 id="universals-legacy-callback-suites-ppix-functions">PPix Functions<a class="headerlink" href="#universals-legacy-callback-suites-ppix-functions" title="Permanent link">&para;</a></h3>
<p>Used to manipulate a PPix. Superceded by the <a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a> for PPix allocation and the <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a> for general PPix functions.</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ppixGetPixels</code></td>
<td>Returns a pointer to the array of pixels contained in a PPix.<br/><pre>char* ppixGetPixels (PPixHand pix);</pre></td>
</tr>
<tr>
<td><code>ppixGetBounds</code></td>
<td>Returns the bounds of a PPix.<br/><pre>void ppixGetBounds (<br/>  PPixHand  pix;<br/>  prRect    *bounds);</pre></td>
</tr>
<tr>
<td><code>ppixGetRowbytes</code></td>
<td>Returns the rowbytes of a PPix so you can properly parse the pixels returned by ppixGetPixels.<br/><pre>int ppixGetRowbytes (PPixHand pix);</pre></td>
</tr>
<tr>
<td><code>ppixNew</code></td>
<td>Allocates and returns a handle to a new PPix, with specified bounds.<br/><br/>Since this is an older call, the pixel format is hardcoded to BGRA_4444_8u.<br/><pre>PPixHandle ppixNew (prRect *bounds);</pre></td>
</tr>
<tr>
<td><code>ppixDispose</code></td>
<td>Frees a PPixHand.<br/><pre>void ppixDispose (PPixHand pix);</pre></td>
</tr>
<tr>
<td><code>ppixLockPixels</code> <code>ppixUnlockPixels</code></td>
<td>These legacy functions are deprecated and should no longer be used.</td>
</tr>
<tr>
<td><code>ppixGetPixelAspectRatio</code></td>
<td>Passes back the pixel aspect ratio of a PPixHand.<br/><br/>Premiere populates the longs with the PAR numerator and denominator.<br/><pre>int ppixGetPixelAspectRatio (<br/>  PPixHand      pix,<br/>  csSDK_uint32  <em>num,<br/>  csSDK_uint32  </em>den)</pre></td>
</tr>
<tr>
<td><code>ppixGetAlphaBounds</code></td>
<td>Passes back the alpha bounds of a PPixHand.<br/><pre>void ppixGetAlphaBounds (<br/>  PPixHand  pix,<br/>  prRect    *alphaBounds)</pre></td>
</tr>
</tbody>
</table>
<h3 id="universals-legacy-callback-suites-utility-functions">Utility Functions<a class="headerlink" href="#universals-legacy-callback-suites-utility-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getSerialNumber</code></td>
<td>Passes back Premiere's serial number.<br/><pre>void getSerialNumber (char* buffer);</pre><ul><li><code>buffer</code>: must be at least 40 characters long.</li></ul></td>
</tr>
<tr>
<td><code>getFileTimebase</code></td>
<td>Passes back a file's timebase in a <code>TDB_TimeRecord</code> (allocated by the plugin).<br/><br/>If the file is already in the sequence, it is preferable to get a file's timebase using the <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a><br/>to get the <code>kVideoSegmentProperty_Media_StreamFrameRate</code>.<br/><br/>Note: Know your formats. Don't ask an audio only format for video, you may get unexpected results.<br/><pre>csSDK_int32 getFileTimebase (<br/>  prFileSpec      <em>filespec,<br/>  csSDK_int32     audioOnly,<br/>  TDB_TimeRecord  </em>result);</pre><ul><li><code>filespec</code>: description of the file, use before getFileVideo</li><li><code>audioOnly</code>: if non-zero, return the audio timebase. If zero, return the video timebase.</li><li><code>result</code>: the returned timebase</li></ul></td>
</tr>
<tr>
<td><code>getFileVideo</code></td>
<td>Gets a frame of video (at a specified time) from a file.<br/><br/>If the file is already in the sequence, it is preferable to get a file's video using the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>.<br/><pre>csSDK_int32 getFileVideo (<br/>  prFileSpec   <em>filespec,<br/>  csSDK_int32  frame,<br/>  PPixHand     thePort,<br/>  prRect       </em>bounds,<br/>  csSDK_int32  flags);</pre><br/></li><li><code>filespec</code>: the description of the file</li><li><code>frame</code>: the frame to retrieve</li><li><code>thePort</code>: where the frame will be delivered, allocate prior to calling</li><li><code>bounds</code>: the boundary of the port</li><li><code>flags</code>: unused</li></ul></td>
</tr>
<tr>
<td><code>getFileVideoBounds</code></td>
<td>Passes back the bounds of a file.<br/>If the file is already in the sequence, it is preferable to get a file's video bounds using the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>.<br/><pre>csSDK_int32 getFileVideoBounds (<br/>  prFileSpec <em>filespec,<br/>  prRect </em>bounds);</pre></td>
</tr>
<tr>
<td><code>getSPBasicSuite</code></td>
<td>This very important call returns the SweetPea suite that allows plugins to acquire and release all other <a href="#universals-sweetpea-suites">SweetPea Suites</a>.<br/><pre>SPBasicSuite* getSPBasicSuite();</pre></td>
</tr>
<tr>
<td><code>getFileExtString</code></td>
<td>Passes back the list of valid entensions/filter strings given a class of media (see file types constants below).<br/><pre>csSDK_int32 (<em>plugGetFileExtStringFunc)(<br/>  csSDK_uint32  fileTypes,<br/>  char          </em>inBuffer,<br/>  csSDK_uint32  inBufferSize);</pre><ul><li><code>kFileTypes_Still</code>: still media</li><li><code>kFileTypes_AudioOnly</code>: audio-only media</li><li><code>kFileTypes_AudioVideo</code>: audio and video media</li><li><code>kFileTypes_AllNoIntrinsics</code>: all importable media types via importer plugins (no prproj, txt, etc)</li></ul></td>
</tr>
</tbody>
</table>
<h3 id="universals-legacy-callback-suites-timeline-functions">Timeline Functions<a class="headerlink" href="#universals-legacy-callback-suites-timeline-functions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getClipVideo</code></td>
<td>Superceded by the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>, which provides asynchronous import.<br/><br/>Retrieves a frame from a clip in a segment tree returned from the <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a>.<br/><br/>It can be used by to retrieve and store a still frame, such as a title, for playback.<br/><br/>This call is expensive; use it carefully.<br/><pre>csSDK_int32 getClipVideo (<br/>  csSDK_int32  frame,<br/>  PPixHand     thePort,<br/>  prRect       *bounds,<br/>  csSDK_int32  flags,<br/>  PrClipID     clipData);</pre><ul><li><code>frame</code>: the frame number you're requesting</li><li><code>thePort</code>: allocate using the <a href="#universals-sweetpea-suites-ppix-creator-suite">PPix Creator Suite</a> before calling</li><li><code>bounds</code>: the boundaries of video to return</li><li><code>flags</code>: either <code>kGCVFlag_UseFilePixelAspectRatio</code> or 0. Setting it to <code>kGCVFlag_UseFilePixelAspectRatio</code> will return a PPix stamped with the PAR of the file. Setting it to 0 will return a PPix adjusted to the PAR of the project and stamped accordingly. It scales, but does not stretch the PPix to fit the destination PPix that is passed in. So if the destination PPix is larger than the frame asked for, the frame will maintain its frame aspect ratio, letterboxing or pillarboxing the frame with transparent black. To import a frame at its native dimensions, use getClipVideoBounds, allocate the destination PPix using the dimensions returned, and pass the PPixHand and the dimensions into <code>getClipVideo</code>. If the frame size is not the same as the sequence size, the frame must be positioned in the composite by the plugin.</li><li><code>clipData</code>: the clipData handle found in prtFileRec</li></ul></td>
</tr>
<tr>
<td><code>getWorkArea</code></td>
<td>Passes back two longs with the start and end of the current work area (read-only).<br/><br/>Set timelineData to the timelineData of the current sequence.<br/><pre>csSDK_int32 getWorkArea (<br/>  PrTimelineID  timelineData,<br/>  csSDK_int32   <em>workAreaStart,<br/>  csSDK_int32   </em>workAreaEnd);</pre></td>
</tr>
<tr>
<td><code>getCurrentTimebase</code></td>
<td>Passes back the current timebase of the timeline (<code>scale + sampleSize</code>).<br/><pre>void getCurrentTimebase(<br/>  PrTimelineID  timelineData,<br/>  csSDK_uint32  <em>scale,<br/>  csSDK_int32   </em>sampleSize);</pre><ul><li><code>timelineData</code>: the timelineData of the current sequence</li><li><code>scale</code>: the sequence scale</li><li><code>sampleSize</code>: the sequence sampleSize</li></ul></td>
</tr>
<tr>
<td><code>getCurrentPos</code></td>
<td>Returns the position of the current time indicator (the position bar set by the user).<br/><br/>If (-1) is returned, the position bar in the timeline is not present.<br/><pre>csSDK_int32 getCurrentPos(<br/>  PrTimelineID  timelineData);</pre><ul><li><code>timelineData</code>: the timelineData of the current sequence</li></ul></td>
</tr>
<tr>
<td><code>getPreviewFrameEx</code></td>
<td>Gets a fully rendered frame from the timeline (all layers).<br/><br/>Used by video filters and transitions for previews in a modal setup dialog.<br/><br/>If the return value is -1, an error occurred, but if it is 0, the callback has returned safely.<br/><br/>Exporters rendering final movies should NOT use this callback.<br/><pre>csSDK_int32 getPreviewFrameEx(<br/>  PrTimelineID    timelineData,<br/>  csSDK_int32     inFrame,<br/>  PPixHand<em>       outRenderedFrame,<br/>  const prRect</em>   inFrameRect,<br/>  PrPixelFormat*  inRequestedPixelFormatArray,<br/>  csSDK_int32     inRequestedPixelFormatArrayCount,<br/>  csSDK_uint32    inPixelAspectRatioNumerator,<br/>  csSDK_uint32    inPixelAspectRatioDenominator,<br/>  bool            inAlwaysRender);</pre><ul><li><code>timelineData</code>: The timelineData of the current sequence. Pass a timeline handle as provided in EffectRecord, VideoRecord, compDoCompileInfo, or imGetPrefsRec.</li><li><code>inFrame</code>: The frame to get, specified in the current timebase. If a timelineData handle is specified (first param above), this frame will be relative to the start of the sequence.</li><li><code>outRenderedFrame</code>: The destination buffer. Allocate prior to this call by the plugin using the <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>. Released by the caller before returning.</li></ul></td>
</tr>
<tr>
<td><code>getClipVideoBounds</code></td>
<td>Passes back the dimensions of a clip in a sequence. For rolling/ crawling titles, use the Roll/Crawl Suite to get the dimensions instead.<br/><pre>csSDK_int32 getClipVideoBounds (<br/>  PrClipID      inClipData,<br/>  prRect        <em>outBounds,<br/>  csSDK_uint32  </em>outPixelAspectRatioNumerator,<br/>  csSDK_uint32  *outPixelAspectRatioDenominator);</pre></td>
</tr>
<tr>
<td><code>getClipVideoEx</code></td>
<td>Superceded by the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a>, which provides asynchronous import.<br/><br/>Retrieves a frame from a clip in a segment tree returned from the <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a>.<br/>It can be used by to retrieve and store a still frame, such as a title, for playback.<br/><br/>This call is expensive; use it carefully.<br/><pre>csSDK_int32 getClipVideoEx (<br/>  csSDK_int32          inFrame,<br/>  PPixHand             <em>outRenderedFrame,<br/>  const prRect         </em>inFrameRect,<br/>  const PrPixelFormat  *inRequestedPixelFormatArray,<br/>  csSDK_int32          inRequestedPixelFormatArrayCount,<br/>  csSDK_uint32         inPixelAspectRatioNumerator,<br/>  csSDK_uint32         inPixelAspectRatioDenominator,<br/>  PrClipID             inClipData);</pre><ul><li><code>inFrame</code>: the frame number you're requesting, in the timebase of the clip</li><li><code>outRenderedFrame</code>: Allocated by the host. The plugin should dispose of the PPixHand when done</li><li><code>inFrameRect</code>: the boundaries of video to return. To import a frame at its native dimensions, use getClipVideoBounds. If the frame size is not the same as the sequence size, the frame must be positioned in the composite by the plugin.</li><li><code>inClipData</code>: the PrClipID from the video segment</li></ul></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="universals-legacy-callback-suites-bottleneck-functions">Bottleneck Functions<a class="headerlink" href="#universals-legacy-callback-suites-bottleneck-functions" title="Permanent link">&para;</a></h2>
<p>The pointer to the legacy bottleneck functions is passed only to transitions and video filters.</p>
<p>These functions are not exposed for other plugin types.</p>
<p>These functions are not aware of different pixel formats, and are intended only for 8-bit BGRA processing.</p>
<p>Sample usage:</p>
<div class="highlight"><pre><span></span><code><span class="p">((</span><span class="o">*</span><span class="n">theData</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">bottleNecks</span><span class="o">-&gt;</span><span class="n">StretchBits</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">srcpix</span><span class="p">,</span>
<span class="w">                                        </span><span class="o">*</span><span class="n">dstpix</span><span class="p">,</span>
<span class="w">                                        </span><span class="o">&amp;</span><span class="n">srcbox</span><span class="p">,</span>
<span class="w">                                        </span><span class="o">&amp;</span><span class="n">srcbox</span><span class="p">,</span>
<span class="w">                                        </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                                        </span><span class="nb">NULL</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>StretchBits</code></td>
<td>Stretches and copies an image, including the alpha channel.<br/><br/>When the destination is larger than the source, it performs bilinear interpolation for smooth scaling.<br/><pre>void StretchBits (<br/>  PPixHand  srcPix,<br/>  PPixHand  dstPix,<br/>  prRect    srcRect,<br/>  prRect    dstRect,<br/>  int       mode,<br/>  prRgn     rgn);</pre><br/><br/>StretchBits only works on 8-bit PPixs.<br/>srcRect is the area of the source PPix to copy; dstRect is used to scale the copy.<br/><br/>Valid modes are <code>cbBlend</code>, <code>cbInterp</code>, and <code>cbMaskHdl</code><br/><br/>For <code>cbBlend</code>, the low byte of the mode defines the amount of blend between the source and destination in a range of 0-255.<br/><br/>Example:<br/><br/>To blend 30% of the source with the destination, use <code>cbBlend | (30*255/100)</code><br/><br/>While much slower than <code>cbBlend</code>, cbInterp mode does bilinear interpolation when resizing a source PPix to a larger destination, resulting in a much smoother image.<br/><br/>cbMaskHdl tells StretchBits that prRgn is a handle to a 1-bit deep buffer the same size as the source and destination PPixs, to be used as a mask.<br/><br/>Pass 0 for no clipping. The prRgn parameter is only used on Windows.</td>
<td></td>
</tr>
<tr>
<td><code>DistortPolygon</code></td>
<td>Maps the source rectangle to a four-point polygon in the destination.<br/><pre>void DistortPolygon (<br/>  PPixHand  src,<br/>  PPixHand  dest,<br/>  prRect    <em>srcbox,<br/>  prPoint   </em>dstpts);</pre><br/><br/>When scaling up, <code>DistortPolygon</code> uses bilinear interpolation; it uses pixel averaging when scaling down.</td>
<td></td>
</tr>
<tr>
<td><code>MapPolygon</code></td>
<td>Maps a four-point src polygon into a four-point polygon (dstpts).<br/><br/>If the source polygon is a rectangle, it is equivalent to <code>DistortPolygon</code>.<br/><pre>void MapPolygon (<br/>  PPixHand  src,<br/>  PPixHand  dest,<br/>  prPoint   <em>srcpts,<br/>  prPoint   </em>dstpts );</pre></td>
<td></td>
</tr>
<tr>
<td><code>DistortFixed</code></td>
<td>Equivalent to DistortPolygon, using fixed-point coordinates.<br/><pre>void DistortFixed (<br/>  PPixHand   src,<br/>  PPixHand   dest,<br/>  prRect     <em>srcbox,<br/>  LongPoint  </em>dstpts);</pre></td>
<td></td>
</tr>
<tr>
<td><code>FixedToFixed</code></td>
<td>Equivalent to MapPolygon, using fixed-point coordinates.<br/><pre>void FixedToFixed (<br/>  PPixHand   src,<br/>  PPixHand   dest,<br/>  LongPoint  <em>srcpts,<br/>  LongPoint  </em>dstpts);</pre></td>
<td></td>
</tr>
<tr>
<td><code>DoIndexMap</code></td>
<td>Image map function.<br/><pre>void DoIndexMap (<br/>  char    <em>src,<br/>  char    </em>dst,<br/>  short   row,<br/>  short,  pixwidth,<br/>  short,  height,<br/>  char    <em>lookup1,<br/>  char    </em>lookup2,<br/>  char    *lookup3);</pre></td>
<td></td>
</tr>
<tr>
<td><code>DoConvolve</code></td>
<td>Convolution function.<br/><pre>void DoConvolve (<br/>  unsigned char  <em>src,<br/>  unsigned char  </em>dst,<br/>  short          *inmatrix,<br/>  short,         rowBytes,<br/>  short,         width,<br/>  short,         height);</pre></td>
<td></td>
</tr>
</tbody>
</table></section><h1 class='nav-section-title-end'>Ended: Universals</h1>
                        <h1 class='nav-section-title' id='section-hardware-integration'>
                            Hardware Integration <a class='headerlink' href='#section-hardware-integration' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="hardware-hardware"><h1 id="hardware-hardware-hardware">Hardware<a class="headerlink" href="#hardware-hardware-hardware" title="Permanent link">&para;</a></h1>
<p>To integrate hardware with Premiere Pro, you may consider developing up to five types of plugins:</p>
<ul>
<li>importers,</li>
<li>recorders,</li>
<li>exporters,</li>
<li>transmitters, and</li>
<li>device controllers</li>
</ul>
<p>Premiere Pro provides the user interface for the capture, timeline, monitor, and export panels; the plugins provide the functionality behind the interface.</p></section><section class="print-page" id="hardware-hardware-integration-components"><h1 id="hardware-hardware-integration-components-hardware-integration-components">Hardware Integration Components<a class="headerlink" href="#hardware-hardware-integration-components-hardware-integration-components" title="Permanent link">&para;</a></h1>
<h2 id="hardware-hardware-integration-components-importers">Importers<a class="headerlink" href="#hardware-hardware-integration-components-importers" title="Permanent link">&para;</a></h2>
<p>Importers are used whenever frames of video or audio from a clip are needed. To give Premiere Pro the ability to read media that uses a new format or codec, develop an importer. See <a href="#importers-importers">Importers</a> for more information.</p>
<hr />
<h2 id="hardware-hardware-integration-components-recorders">Recorders<a class="headerlink" href="#hardware-hardware-integration-components-recorders" title="Permanent link">&para;</a></h2>
<p>Users may choose a recorder in Project &gt; Project Settings &gt; General &gt; Capture Format. Recorders are used to grab frames from a hardware source and write them to a file, to be imported for editing.</p>
<hr />
<h2 id="hardware-hardware-integration-components-exporters">Exporters<a class="headerlink" href="#hardware-hardware-integration-components-exporters" title="Permanent link">&para;</a></h2>
<p>Exporters are used whenever Premiere Pro renders preview files, or performs an export on a clip or sequence. To give Premiere Pro the ability to write media that uses a new format or codec, develop an exporter. The exporter used to render preview files in the timeline is set in Sequence &gt; Sequence Settings &gt; Preview File Format. The exporter used for exports is chosen when the user selects File &gt; Export &gt; Media &gt; File Type. See <a href="#exporters-exporters">Exporters</a> for more information.</p>
<hr />
<h2 id="hardware-hardware-integration-components-transmitters">Transmitters<a class="headerlink" href="#hardware-hardware-integration-components-transmitters" title="Permanent link">&para;</a></h2>
<p>A transmitter handles the display of video on any external A/V hardware and secondary output. To give Premiere Pro the ability to play video out to hardware for preview and final playout, write a transmitter. See <a href="#transmitters-transmitters">Transmitters</a> for more information.</p></section><section class="print-page" id="hardware-classid-filetype-subtype"><h1 id="hardware-classid-filetype-subtype-classid-filetype-and-subtype">ClassID, Filetype and Subtype<a class="headerlink" href="#hardware-classid-filetype-subtype-classid-filetype-and-subtype" title="Permanent link">&para;</a></h1>
<p>All plugin types that support media must identify unique classID, filetype, and subtype.</p>
<p>These are all four character codes, or 'fourCCs'.</p>
<table>
<thead>
<tr>
<th>Identifier</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filetype</code></td>
<td>Identifies the plugin's associated file type(s). Plugins create lists of filetypes they support.</td>
</tr>
<tr>
<td><code>subtype</code></td>
<td>Differentiates between files of the same filetype. Identifies the codec or compression to be used.</td>
</tr>
<tr>
<td><code>classID</code></td>
<td>With the new editing mode system starting in CS4, the classID is far less important.<br/><br/>It is used as part of the identification for exporters in the Editing Mode XML.<br/><br/>And plugins may share information with most other plugins running in the same process using the <a href="#hardware-classdata-functions">ClassData Functions</a>.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="hardware-classdata-functions"><h1 id="hardware-classdata-functions-classdata-functions">ClassData Functions<a class="headerlink" href="#hardware-classdata-functions-classdata-functions" title="Permanent link">&para;</a></h1>
<p>All plugin types that support media can use these callbacks to share information associated with their classID.</p>
<p>For example, these plugins can confirm their hardware is present and operational using the ClassData functions.</p>
<p>They all call <code>getClassData</code> during initialization. If <code>getClassData</code> returns 0, the module checks for and initialize the hardware.</p>
<p>It then calls setClassData to store information about the current context. Use handles, not pointers, for storing info.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">SetClassDataFunc</span><span class="w">  </span><span class="n">setClassData</span><span class="p">;</span>
<span class="w">  </span><span class="n">GetClassDataFunc</span><span class="w">  </span><span class="n">getClassData</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">ClassDataFuncs</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">ClassDataFuncsPtr</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>setClassData</code></td>
<td>Writes class data, destroys previous data.<br /><pre>int setClassData (<br/>  unsigned int  theClass,<br/>  void          *info);<br/></pre><ul><li><code>theClass</code> - the class being set. Use a unique 4-byte code.</li><li><code>info</code> - the class data to be set. It can be used as a pointer or a handle.</li></ul><br/>Note that all plugins that share the data must use the same data structure.</td>
</tr>
<tr>
<td><code>getClassData</code></td>
<td>Retrieves the class data for the given class.<br /><pre>int getClassData (<br/>  unsigned int  theClass);<br/></pre><ul><li><code>theClass</code> - the class for which to retrieve data.</li></ul></td>
</tr>
</tbody>
</table></section><h1 class='nav-section-title-end'>Ended: Hardware Integration</h1>
                        <h1 class='nav-section-title' id='section-importers'>
                            Importers <a class='headerlink' href='#section-importers' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="importers-importers"><h1 id="importers-importers-importers">Importers<a class="headerlink" href="#importers-importers-importers" title="Permanent link">&para;</a></h1>
<p>Importers provide video, audio and/or closed captioning from the media source. This source can be a single file, a set of files, a communication link between another application, etc.</p>
<p>Standard importers appear as choices in the File &gt; Import dialog, in the Files of type drop-down menu. Importers can support movies, still images, series of still images, and/or audio. If your importer provides enhanced support for a format already supported by another importer that ships with Premiere, set a high value in imImportInfoRec.priority to give your importer the first opportunity to handle the file.</p>
<p>Synthetic importers synthesize source material, rather than reading from disk. They appear in the File &gt; New menu.</p>
<p>Custom importers are a special type of synthetic importer, implemented to better support titlers. Custom importers can create files on disk; synthetic importers don't. Custom importers either create new media or import existing media handled by the importer. After the file is created, the media is treated like a standard file by the host application. Additionally, the media can be modified by the importer when the user double-clicks on it in the Project Panel.</p>
<table>
<thead>
<tr>
<th>Importer Type</th>
<th>Reads from disk</th>
<th>Creates clips</th>
<th>Menu Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Standard</td>
<td>Yes</td>
<td>No</td>
<td>File &gt; Import</td>
</tr>
<tr>
<td>Synthetic</td>
<td>No</td>
<td>Yes</td>
<td>File &gt; New</td>
</tr>
<tr>
<td>Custom</td>
<td>Yes</td>
<td>Yes</td>
<td>File &gt; New File &gt; Import</td>
</tr>
</tbody>
</table>
<p>If you've never developed an importer before, you can skip <a href="#importers-whats-new">What's New</a>, and go directly to <a href="#importers-getting-started">Getting Started</a>.</p></section><section class="print-page" id="importers-whats-new"><h1 id="importers-whats-new-whats-new">What's New<a class="headerlink" href="#importers-whats-new-whats-new" title="Permanent link">&para;</a></h1>
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cc-2019-130">What's New in Premiere Pro CC 2019 (13.0)<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cc-2019-130" title="Permanent link">&para;</a></h2>
<p>We've begun adding colorspace support to Premiere Pro's APIs, beginning with Importers.</p>
<p>Adding APIs <code>AddFrameToCacheWithColorSpace()</code> and <code>GetFrameFromCacheWithColorSpace()</code> which will deprecate <code>AddFrameToCacheWithColorProfile2()</code> and <code>GetFrameFromCacheWithColorProfile2()</code>.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cc-2014">What's New in Premiere Pro CC 2014<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cc-2014" title="Permanent link">&para;</a></h2>
<p>Importers can now choose the format they are rendering in, which allows importers to change pixel formats and quality based on criteria like enabled hardware and other Clip Source Settings, such as HDR. To handle the negotiation, implement <code>imSelectClipFrameDescriptor</code>.</p>
<p><code>imSourceVideoRec</code> now includes a quality attribute. <a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a> is now at version 6, adding <code>AddFrameToCacheWithColorProfile2()</code> and <code>GetFrameFromCacheWithColorProfile2()</code>, which are the same as the ones added in version 5 with the addition of a PrRenderQuality parameter.</p>
<p><code>imFileInfoRec8.highMemUsage</code> is no longer supported.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cc-october-2013-release">What's New in Premiere Pro CC October 2013 release?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cc-october-2013-release" title="Permanent link">&para;</a></h2>
<p><code>imInitiateAsyncClosedCaptionScanRec</code> now provides extra fields for the importer to fill in the estimated duration of all the captions. This is useful for certain cases where the embedded captions contain many frames of empty data.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cc">What's New in Premiere Pro CC?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cc" title="Permanent link">&para;</a></h2>
<p>Starting in CC, importers can support closed captioning that is embedded in the source media. Note that Premiere Pro can also import and export captions in a sidecar file (e.g. .mcc, .scc, or</p>
<p>.xml) alongside any media file, regardless of the media file format. This does not require any specific work on the importer side. The importer only needs to add support if it will support embedded closed captions.</p>
<p>Importers can now support audio beyond basic mono, stereo, and 5.1, without implementing multiple streams (existing importers do not need to be updated). The importer specifies a channel layout by implementing the new <code>imGetAudioChannelLayout</code> selector. Otherwise the channel layout will be assumed to be discrete.</p>
<p>The clip preferences are now passed with <code>imIndPixelFormatRec</code>, so that an importer can choose to return varying pixel formats depending on the Clip Source Settings.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs602">What's New in Premiere Pro CS6.0.2?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs602" title="Permanent link">&para;</a></h2>
<p>This release adds more support for growing files by adding a new flag, <code>imFileInfoRec8.mayBeGrowing</code>.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs6">What's New in Premiere Pro CS6?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs6" title="Permanent link">&para;</a></h2>
<p>Importers can now bring in stereoscopic footage as a single clip with separate left and right channels.</p>
<p>With some additional work, importers can now support growing files. The refresh rate for growing files is set by the user in Preferences &gt; Media &gt; Growing Files. The importer should get the refresh rate using the new call <code>GetGrowingFileRefreshInterval()</code> in the Importer File Manager Suite. Call <code>RefreshFileAsync()</code> to refresh the file.</p>
<p>A new selector, <code>imQueryInputFileList</code>, was added to support Collect Files in After Effects for file types that use more than a single file. In imImportInfoRec, a new member, <code>canProvideFileList</code>, specifies whether the importer can provide a list of all files for a copy operation. If the importer does not implement this selector, the host will assume the media just uses a single file at the original imported media path.</p>
<p>The Media Accelerator Suite is now at version 4. <code>FindPathInDatabaseAndValidateContentState</code> provides a new way to find existing media accelerators, making sure they are up-to-date.</p>
<p>Importers can now choose whether or not they want to provide peak audio data on a clip-by-clip basis.</p>
<p>The importer-wide setting still remains in <code>imImportInfoRec.canProvidePeakAudio</code>, but an importer can override the general setting by setting <code>imFileInfoRec8.canProvidePeakAudio</code> appropriately.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs55">What's New in Premiere Pro CS5.5?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs55" title="Permanent link">&para;</a></h2>
<p>Importers can now support color management, when running in After Effects. The importer should set <code>imImageInfoRec.colorProfileSupport</code> to <code>imColorProfileSupport_Fixed</code>, and then describe the color profiles supported by the clip using the new <code>imGetIndColorProfile</code> selector. When importing the frame, specify the color profile in <code>imSourceVideoRec. selectedColorProfileName</code>. The <a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a> has been updated to differentiate between color profiles as well.</p>
<p>New <code>canProvidePeakAudio</code> flag to allow an importer to provide peak audio data by responding to <code>imGetPeakAudio</code>.</p>
<p>The new return value, <code>imRequiresProtectedContent</code>, allows an importer to be disabled if a library it depends on has not been activated.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs5">What's New in Premiere Pro CS5?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs5" title="Permanent link">&para;</a></h2>
<p>When an importer's settings dialog is opened, the importer now has access to the resolution, pixel aspect ratio, timebase, and audio sample rate of the source clip, in <code>imGetPrefsRec</code>.</p>
<p>Custom importers can now use a new call in the Importer File Manager Suite, <code>RefreshFileAsync()</code>, to be able to update a clip after it is modified in <code>imGetPrefs8</code>.</p>
<p>Two new selectors have been added.</p>
<ul>
<li><code>imQueryDestinationPath</code> allows importers that trim or copy files to be able to change the destination path of the trimmed or copy file.</li>
<li><code>imQueryContentState</code> gives the host an alternate way of checking the state of a clip, for clips that have multiple source files.</li>
</ul>
<p>A new return value, <code>inFileNotAvailable</code> can be returned from <code>imQueryContentState</code> if the clip is no longer available because it is offline or has been deleted.</p>
<p>As a convenience, when a file is opened, an importer can tell Premiere Pro how much memory to reserve for the importer's usage, rather than calling ReserveMemory in the <a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a>. The importer should pass back this value in <code>imFileOpenRec8.outExtraMemoryUsage</code>.</p>
<p>Several new return values are available for more descriptive error reporting:</p>
<ul>
<li><code>imBadHeader</code>,</li>
<li><code>imUnsupportedCompression</code>,</li>
<li><code>imFileOpenFailed</code>,</li>
<li><code>imFileHasNoImportableStreams</code>,</li>
<li><code>imFileReadFailed</code>,</li>
<li><code>imUnsupportedAudioFormat</code>,</li>
<li><code>imUnsupportedVideoBitDepth</code>,</li>
<li><code>imDecompressionError</code>, and</li>
<li><code>imInvalidPreferences</code></li>
</ul>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs4">What's New in Premiere Pro CS4?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs4" title="Permanent link">&para;</a></h2>
<p>For CS4 only, importers are loaded and called from a separate process. As a result of being in a separate process, (1) all importers must do their own file handling, (2) privateData is no</p>
<p>longer accessible from <code>imGetPrefs8</code>, and (3) the compressed frame selectors such as <code>imGetCompressedFrame</code> are no longer supported (this may now be achieved using custom pixel formats and a renderer plugin).</p>
<p>To debug importers, attach to the <code>ImporterProcessServer</code> process. There is also a separate Importer Process Plugin Loading.log.</p>
<p>All legacy selectors have been removed, and are now longer supported. All structures used only in these legacy selectors have been removed as well.</p>
<p>There are built-in XMP metadata handlers for known filetypes. These handlers write and read metadata to and from the file, without going through the importer. <code>imSetTimeInfo8</code> is no longer called, since this is set by the XMP handler for that filetype.</p>
<p>All file-based importers (which does not include synthetics) are required to do their own file handling now, rather than having Premiere Pro open the files. The <code>imCallbackFuncs</code>: <code>OpenFileFunc</code> and <code>ReleaseFileFunc</code> are no longer supported.</p>
<p>Due to the out-of-process importing, <code>privateData</code> is not accessible during <code>imGetPrefs8</code>, and has been removed from <code>imGetPrefsRec</code>.</p>
<p><code>imGetFrameInfo</code>, <code>imDisposeFrameInfo</code>, <code>imGetCompressedFrame</code>, and <code>imDisposeCompressedFrame</code> are no longer supported. Supporting a custom pixel format in an importer, a renderer, and an exporter is the new way to implement smart rendering, by passing custom compressed data from input to output.</p>
<p>New <code>imFrameNotFound</code> return code. Returned if an importer could not find the requested frame (typically used with async importers).</p>
<p>New in Premiere Pro 4.1, importer prefs are now part of imSourceVideoRec, passed to both <code>imGetSourceVideo</code> and the async import calls</p>
<p>New in Premiere Pro 4.1, there is a new filepath member in imFileInfoRec8. For clips that have audio in files separate from the video file, set the filename here, so that UMIDs can properly be generated for AAFs.</p>
<hr />
<h2 id="importers-whats-new-whats-new-in-premiere-pro-cs3">What's New in Premiere Pro CS3?<a class="headerlink" href="#importers-whats-new-whats-new-in-premiere-pro-cs3" title="Permanent link">&para;</a></h2>
<p>Importers can specify an initial poster frame for a clip in imImageInfoRec.</p>
<p>Importers can specify subtype names during the new <code>imGetSubTypeNames</code> selector. This selector is sent after each <code>imGetIndFormat</code>, which gives an importer the opportunity to enumerate all the fourCCs and display names (e.g. "Cinepak") of their known compression types for a specific filetype. The importer can return imUnsupported, or create an array of <code>imSubTypeDescriptionRec</code> records (pairs of fourCCs and codec name strings) for all the codecs/subtypes it knows about.</p>
<p>Importers that open their own files should specify how many files they keep open between <code>imOpenFile8</code> and <code>imQuietFile</code> using the new Importer File Manager Suite, if the number is not equal to one. Importers that don't open their own files, or importers that only open a single file should not use this suite. Premiere's File Manager now keeps track of the number of files held open by importers, and limits the number open at a time by closing the least recently used files when too many are open. On Windows, this helps memory usage, but on Mac OS this addresses a whole class of bugs that may occur when too many files are open.</p>
<p>Importers can also specify that certain files have very high memory usage, by setting <code>imFileInfoRec8.highMemUsage</code>. The number of files allowed to be open with this flag set to true is currently capped at 5.</p>
<p>Importers can now specify an arbitrary matte color for premultiplied alpha channels in <code>imImageInfoRec.matteColor</code>. Importers can state that they are uncertain about a clip's pixel aspect ratio, field type, or alpha info in imImageInfoRec.interpretationUncertain.</p>
<p>The imInvalidHandleValue is now -1 for Mac OS.</p>
<p>Importers can specify a transform matrix for frames by setting <code>imImageInfoRec.canTransform = kPrTrue</code>, and then during <code>imImportImage</code>, when <code>imImportImageRec.applyTransform</code> is non-zero, use <code>imImportImageRec.transform</code>, and <code>destClipRect</code> to calculate the transform - This code path is currently not called by Premiere Pro. After Effects uses this call to import Flash video.</p>
<p>New in Premiere Pro 3.1, the new capability flag, <code>imImportInfoRec.canSupplyMetadataClipName</code>, allows an importer to set the clip name from metadata, rather than the filename. The clip name should be set in <code>imFileInfoRec8.streamName</code>. This is useful for clips recorded by some new file-based cameras.</p>
<p>New in Premiere Pro 3.1, the new <code>imGetFileAttributes</code> selector allows an importer to provide the clip creation date in the new imFileAttributesRec.</p></section><section class="print-page" id="importers-getting-started"><h1 id="importers-getting-started-getting-started">Getting Started<a class="headerlink" href="#importers-getting-started-getting-started" title="Permanent link">&para;</a></h1>
<h2 id="importers-getting-started-the-basics-of-import">The Basics of Import<a class="headerlink" href="#importers-getting-started-the-basics-of-import" title="Permanent link">&para;</a></h2>
<p>For each clip, importers can tell Premiere the resolutions and pixel formats they can decode video frames to.</p>
<p>Premiere will request video frames as needed during scrubbing, playback, or export.</p>
<p>Audio will be requested right when the clip is imported, if audio conforming or peak file generation is necessary.</p>
<p>If audio conforming is not necessary, audio frames will be requested as needed during scrubbing, playback, or export.</p>
<p>Premiere requests audio in arrays of 32-bit float, uninterleaved format.</p>
<hr />
<h2 id="importers-getting-started-try-the-sample-importer-plug-ins">Try the Sample Importer Plug-ins<a class="headerlink" href="#importers-getting-started-try-the-sample-importer-plug-ins" title="Permanent link">&para;</a></h2>
<p>Choose which one of the three sample importers matches closest with your desired functionality.</p>
<p>Build that one, or if you are still not sure, build all three! Step through the code in your debugger to learn order of events.</p>
<p>Start your importer by modifying one of the SDK samples.</p>
<hr />
<h2 id="importers-getting-started-imgetsourcevideo-versus-imimportimage"><code>imGetSourceVideo</code> versus <code>imImportImage</code><a class="headerlink" href="#importers-getting-started-imgetsourcevideo-versus-imimportimage" title="Permanent link">&para;</a></h2>
<p>For synchronous import, there are two different selectors an importer can use to provide frames to the host.</p>
<p>Why? <em>imGetSourceVideo</em> is best for media that has specific resolutions.</p>
<p>Importers that support <em>imGetSourceVideo</em> can import frames at their native resolution or specify preferred resolutions, rather than having to scale the frames to an arbitrary size.</p>
<p><em>imImportImage</em> is only useful for resolution-independent video, such as vector-based graphics.</p>
<p>Choose the one that fits the media your importer will support.</p>
<p>The SDK importer demonstrates <em>imGetSourceVideo</em> because resolution dependent video is much more common.</p>
<p>The synthetic importer sample demonstrates <em>imImportImage</em> because it generates video on-the-fly and doesn't have a preference as to video resolution.</p>
<p><code>imImageInfoRec.supportsGetSourceVideo</code> should be set to true if the importer wants to support <em>imGetSourceVideo</em>.</p>
<hr />
<h2 id="importers-getting-started-asynchronous-import">Asynchronous Import<a class="headerlink" href="#importers-getting-started-asynchronous-import" title="Permanent link">&para;</a></h2>
<p>Importers can optionally support asynchronous calls to read frames for better performance. imImageInfoRec.supportsAsyncIO should be set to true if the importer wants to support asynchronous import. The importer can implement <em>imCreateAsyncImporter</em>, which tells the importer to create an asynchronous importer object using the data provided, and store it in <code>imAsyncImporterCreationRec</code>.</p>
<p>This async importer object must implement a separate entry point from a standard importer because it does not follow the same rules as a standard importer.</p>
<p>All calls to AsyncImporterEntry are reentrant, except for the <em>aiClose</em> selector. <em>aiClose</em> will only be called once, but may be called while other calls are still executing. No calls will be made after <em>aiClose</em> is called.</p>
<p>Here is an overview of the lifetime of an async importer:</p>
<ol>
<li>The host calls <em>imOpenFile</em> and <em>imGetInfo</em> on the standard importer.</li>
<li>The host calls <em>imCreateAsyncImporter</em> on the standard importer. At this time, the standard importer creates the private data for the async importer. The async importer MUST NOT contain a link to the standard importer, as their lifetimes are now decoupled. The async importer, therefore, must contain copies of all relevant private data from the creator importer. The importer preferences are also guaranteed to not change during the lifetime of the async importer.</li>
<li>The host uses the async importer to perform i/o.</li>
<li>The host closes the async importer, forgetting about it. This will happen whenever the app loses focus, or when the async importer is no longer needed.</li>
</ol>
<hr />
<h2 id="importers-getting-started-privatedata">privateData<a class="headerlink" href="#importers-getting-started-privatedata" title="Permanent link">&para;</a></h2>
<p>Don't use global variables to store data. Use privateData instead. Each clip can have its own privateData. The host application will automatically pass the correct privateData to the appropriate importer instance.</p>
<p>For privateData, create a handle to the custom structure you wish to store (during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.) and save the handle to the privateData member of the structure passed in.</p>
<p>The importer is responsible for allocating and deallocating the memory for privateData using Premiere's memory functions.</p>
<p>Free the allocated privateData during <em>imCloseFile or imShutdown</em>, as appropriate.</p>
<hr />
<h2 id="importers-getting-started-clip-source-settings">Clip Source Settings<a class="headerlink" href="#importers-getting-started-clip-source-settings" title="Permanent link">&para;</a></h2>
<p>This data is unique to each clip instance, and can be used to store clip-wide data that affects the appearance of video and/or audio in the clip, usually user-modifiable.</p>
<p>For example, Clip Source Settings for a titler/graphics importer could contain all the data describing the text and shapes for that clip.</p>
<p>For a raw video clip, it could contain metadata that affects how the video is developed prior to import.</p>
<p>Starting in Premiere Pro CC 2014, importers can now choose the format they are rendering in, which allows importers to change pixel formats and quality based on criteria like enabled hardware and other Clip Source Settings, such as HDR.</p>
<p>To handle the negotiation, implement <code>imSelectClipFrameDescriptor</code>.</p>
<p>Clip Source Settings can be shown on file creation (for synthetic or custom importers) or when a clip is double-clicked.</p>
<p>Settings data should be stored in a disk-safe prefs structure, which is defined by the importer.</p>
<p>Premiere will allocate the prefs based on the prefsLength re turned from the first call to <em>imGetPrefs8</em>.</p>
<p>Premiere will deallocate the prefs when it is no longer needed.</p>
<p>Once prefs has been allocated, the importer should show its setup dialog during all subsequent calls to <em>imGetPrefs8</em>, and store any setup dialog settings in prefs.</p>
<p>Like privateData, each clip has its own prefs, and the host application automatically passes the correct prefs to the appropriate importer instance.</p>
<p>If the user changes the Clip Source Settings in a way such that the frames should be reimported, then the importer should use the Importer File Manager Suite to call RefreshFileAsync() on the main file.</p>
<p>This is demonstrated in the SDK Custom Importer sample code.</p>
<h3 id="importers-getting-started-showing-a-video-preview-in-the-settings-dialog">Showing a Video Preview in the Settings Dialog<a class="headerlink" href="#importers-getting-started-showing-a-video-preview-in-the-settings-dialog" title="Permanent link">&para;</a></h3>
<p>If a clip is placed in the timeline, and its settings dialog is opened by double-clicking in the timeline, then the import can get frames from the timeline of the settings dialog. Only the rendered frames on layers beneath the current clip or timeline location are available. Use the <code>getPreviewFrameEx</code> callback with the time given by tdbTimelocation in imGetPrefsRec. timelineData is also valid during <em>imGetPrefs8</em>.</p>
<hr />
<h2 id="importers-getting-started-file-handling">File Handling<a class="headerlink" href="#importers-getting-started-file-handling" title="Permanent link">&para;</a></h2>
<p>Basic importers that bring in media from a single file can rely on the host to provide basic file handling. If a clip has child files or a custom file system, an importer can provide its own file handling. Set canOpen, canSave, and canDelete to true during <code>imInit</code>, and respond to <code>imOpenFile8</code>, <em>imQuietFile</em>, <em>imCloseFile</em>, <em>imSaveFile8</em>, <em>imDeleteFile8</em>.</p>
<p>Use the <a href="#importers-suites-async-file-reader-suite">Async File Reader Suite</a> for cross-platform file operations.</p>
<h3 id="importers-getting-started-quieting-versus-closing-a-file">Quieting versus Closing a File<a class="headerlink" href="#importers-getting-started-quieting-versus-closing-a-file" title="Permanent link">&para;</a></h3>
<p>When the application loses focus, importers receive <em>imQuietFile</em> for each file it has been asked to open. Update any PrivateData and close the file. If the project is closed, <em>imCloseFile</em> is sent, telling the importer to free any PrivateData. If the importer didn't store any PrivateData, it will not receive <em>imCloseFile</em>.</p>
<h3 id="importers-getting-started-growing-files">Growing Files<a class="headerlink" href="#importers-getting-started-growing-files" title="Permanent link">&para;</a></h3>
<p>When Premiere Pro attempts to refresh a growing file (after N seconds, as determined by the preferences value), it quiets the existing importer instance, and opens a new one pointing to the same file. In response, the Importer should report the current (new) duration and, once it's determined whether the file is still growing, set  <code>imFileInfoRec.mayBeGrowing</code> appropriately.</p>
<h3 id="importers-getting-started-importing-from-streaming-sources">Importing from Streaming Sources<a class="headerlink" href="#importers-getting-started-importing-from-streaming-sources" title="Permanent link">&para;</a></h3>
<p>For importing video from a streaming source, in order to pretend that the file is a local file or available on the network, create a placeholder file like video_proxy.abc.</p>
<p>Inside this file, include info that lets your importer know it is your own type, and the http path, like this:</p>
<p>"MyCompany ABC streaming format placeholder file <a href="https://myurl.com/video.abc">https://myurl.com/video.abc</a>"</p>
<p>Your importer would open the local video_proxy.abc file, check the header and find it is your own placeholder file, and then access the real contents at the http location included. To create the local</p>
<p>.abc files, you could use a custom importer that presents a OS dialog to choose the remote file, or a Premiere panel to do so. The Panel SDK can be found here:</p>
<p><a href="https://github.com/Adobe-CEP/Samples/tree/master/PProPanel">https://github.com/Adobe-CEP/Samples/tree/master/PProPanel</a></p>
<p>If the filetype is an existing filetype supported by Premiere Pro, then set a high value in <code>imImportInfoRec.priority</code> to give your importer the first opportunity to handle the file.</p>
<p>For your filetype to be visible in the Proxy &gt; Attach Proxies window, set imIndFormatRec. flags |= xfIsMovie (this flag is labeled obsolete, but still needed for this case)</p>
<p>If your importer supports different fractional resolutions and decode qualities, the fractional resolutions can be enumerated in response to the selector <em>imGetPreferredFrameSize</em>, and the decode quality hint is sent on import requests to your importer (for example in imSourceVideoRec.inQuality).</p>
<hr />
<h2 id="importers-getting-started-audio-conforming-and-peak-file-generation">Audio Conforming and Peak File Generation<a class="headerlink" href="#importers-getting-started-audio-conforming-and-peak-file-generation" title="Permanent link">&para;</a></h2>
<p>When a clip that contains audio is imported into Premiere, one or two types of files may be generated:</p>
<p>First, a separate .pek file is always created. This contains peak audio samples for quick access when Premiere needs to draw the audio waveform, for example in the Source Monitor or Timeline panel.</p>
<p>Second, the audio may be conformed into a separate .cfa file. The conformed audio is in an interleaved 32-bit floating point format that matches the sequence audio sample rate, to maximize the speed at which Premiere can render audio effects and mix it without sacrificing quality.</p>
<p>Both of these files can be generated through sequential calls for audio using <em>imImportAudio7</em>. Audio conforming cannot be disabled through the Premiere menus or API. However, if an importer can provide random-access, uncompressed audio of the clip, Premiere will not conform the audio. All compressed audio data must be conformed.</p>
<p>Specifically, it is important to set these flags to avoid conforming: imImportInfoRec.avoidAudioConform = kPrTrue; imFileInfoRec8.accessModes |= kRandomAccessImport;</p>
<p>Starting in CS5.5, peak audio data can also optionally be provided by the importer, if the importer implements a faster way to read the peak audio data from the clip. By setting imImportInfoRec. canProvidePeakAudio to non-zero, the importer will be sent <em>imGetPeakAudio</em> whenever this data is requested. Starting in CS6, if an importer wants to provide peak audio data on a clip-by-clip basis, it can set imFileInfoRec8.canProvidePeakData accordingly.</p>
<p>The location of the .cfa and .pek files is determined by the user-specified path in Edit &gt; Preferences &gt; Media &gt; Media Cache Files. When the project is closed, the files will be cleaned up. If the source clip is not saved in the project, the associated conformed audio files will be deleted.</p>
<p>Importers can get audio for scrubbing, playing and other timeline operations before conforming has completed, resulting in responsive audio feedback during conforming. To do this, they must support both random access and sequential access audio importing. The <code>kSeparateSequentialAudio</code> access mode should be set in imFileInfoRec8.accessModes.</p>
<hr />
<h2 id="importers-getting-started-quality-levels">Quality Levels<a class="headerlink" href="#importers-getting-started-quality-levels" title="Permanent link">&para;</a></h2>
<p>Importers can optionally support two different quality modes, with the imDraftMode flag that is used in imImportImageRec.</p>
<hr />
<h2 id="importers-getting-started-closed-captioning">Closed Captioning<a class="headerlink" href="#importers-getting-started-closed-captioning" title="Permanent link">&para;</a></h2>
<p>Starting in CC, importers can support closed captioning that is embedded in the source media. The built-in QuickTime importer provides this capability.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Premiere Pro can also import and export captions in a sidecar file (e.g. .mcc, .scc, or .xml) alongside any media file, regardless of the media file format. This does not require any specific work on the importer side.</p>
</div>
<p>To support embedded closed captioning, set <code>imImportInfoRec.canSupportClosedCaptions</code> to true. The importer should handle the following selectors: <code>imInitiateAsyncClosedCaptionScan</code>, <code>imGetNextClosedCaption</code>, and <em>imCompleteAsyncClosedCaptionScan</em>.</p>
<p><em>imInitiateAsyncClosedCaptionScan</em> will be called for every file that is imported through an importer that sets canSupportClosedCaptions to true. The plugin should at this point determine whether or not there is closed captioning data for this file. If not, then the plugin should simply return imNoCaptions, and everything is done. If the plugin didn't report an error for that call, then <em>imGetNextClosedCaption</em> will be called until the plugin returns imNoCaptions. After which, <em>imCompleteAsyncClosedCaptionScan</em> will be called informing the importer that the host is done requesting captions.</p>
<p>Both <em>imGetNextClosedCaption</em> and <em>imCompleteAsyncClosedCaptionScan</em> may be called from a different thread from which <code>imInitiateAsyncClosedCaptionScan</code> was originally called. To help facilitate this, <code>outAsyncCaptionScanPrivateData</code> during <code>imInitiateAsyncClosedCaptionScan</code> can be allocated by the importer to be used for the upcoming calls, which can be deallocated</p>
<p>in <em>imCompleteAsyncClosedCaptionScan</em>.</p>
<hr />
<h2 id="importers-getting-started-n-channel-audio">N-Channel Audio<a class="headerlink" href="#importers-getting-started-n-channel-audio" title="Permanent link">&para;</a></h2>
<p>Starting in CC, for audio configurations beyond mono, stereo, and 5.1, an importer can specify a channel layout by implementing the new <em>imGetAudioChannelLayout</em> selector. Otherwise the channel layout will be assumed to be discrete. For support prior to CC, the importer needs to import them as multiple streams.</p>
<hr />
<h2 id="importers-getting-started-multiple-streams">Multiple Streams<a class="headerlink" href="#importers-getting-started-multiple-streams" title="Permanent link">&para;</a></h2>
<p>Importers can support multiple streams of audio and/or video. For most filetypes with a single video and a simple audio configuration (mono, stereo, or 5.1), only a single stream is necessary. Multiple streams can be useful for stereoscopic footage, layered file types (like Photoshop PSD files), or clips with complex audio configuration (such as 4 mono audio channels). The following describes the general case of multiple streams. For stereoscopic importers, please refer to the description further down.</p>
<p>An importer describes each stream one-by-one during iterative calls to <em>imGetInfo8</em>. In response to each call, the importer describes one stream, and returns imIterateStreams, until it reaches the last stream, and then it returns imBadStreamIndex. Set imFileInfoRec8-&gt;streamsAsComp = kPrFalse, so that the set of streams appear as a single clip within Premiere Pro.</p>
<p>In <em>imGetInfo8</em>, save streamIdx in privateData, to have access to it later. That way, when called in <em>imImportAudio7</em>, the importer will know which stream of audio to pass back.</p>
<p>See the sample code in the SDK File Importer, which can be turned on by uncommenting back in the MULTISTREAM_AUDIO_TESTING define in SDK_File_Import.h.</p>
<h3 id="importers-getting-started-stereoscopic-video">Stereoscopic Video<a class="headerlink" href="#importers-getting-started-stereoscopic-video" title="Permanent link">&para;</a></h3>
<p>First, an importer must advertise multiple video streams. During <em>imGetInfo8</em>, the host passes in the stream index in imFileInfoRec8.streamIdx. If the clip has a second stream, then on index 0 the importer should return imIterateStreams and it will be called again for the second stream. On the second one you return imNoErr, as before. The nice thing is that this works in Premiere Pro CS5.5 and earlier - when two video streams are present, on import, they will just appear as two different project items.</p>
<p>Prior to CS6, an importer would need to have a prefs structure and on <em>imGetInfo8</em> it would need to store the stream index in that structure. With CS6 this is a lot simpler. Now, in the <code>imSourceVideoRec</code> (passed in <em>imGetSourceVideo</em>, and part of the <em>aiFrameRequest</em> for async importers), the host application passes in the currentStreamIndex (in the value formerly</p>
<p>known as unused1). This makes it much easier to just check when providing a PPix and differentiate the two streams.</p>
<p>Now, obviously, it is not desirable to have two project items. In order to get them merged, an importer needs to label the streams (the logic here is pretty simple, if there are multiple labeled video streams, it will appear as a single project item, and all views on that item will show the first stream). For this there is a new selector: <em>imQueryStreamLabel</em>. The struct passed to the importer has its privateData, prefs data, and the stream index, and the label needs to be passed back in a PrSDKString. If you're not familiar with PrSDKStringSuite, it's fairly obvious how to use. In this case you'll be allocating a string, passing either UTF-8 data, or UTF-16 data.</p>
<p>In PrSDKStreamLabel.h we define two labels: kPrSDK_StreamLabelStereoscopicLeft and kPrSDKStreamLabel_Stereoscopic_Right. By convention, we expect Left to be stream 0 and Right to be stream 1. This is purely for consistency - if we have multiple stereo clips from multiple importers, we would want the thumbnails to all be consistent. If we stick to this convention, then the thumbnails will all be Left.</p>
<p>To integrate well with other third-parties, we strongly encourage using these labels for stereoscopic importers. However, the entire StreamLabel mechanism is intentionally left quite general. You could use whatever labels you want in your importers and effects, and when you request the video segments you can pass whatever label you would like. If you have other uses for this, we would be interested to hear about them, and we would welcome any bug reports.</p>
<hr />
<h2 id="importers-getting-started-project-manager-support">Project Manager Support<a class="headerlink" href="#importers-getting-started-project-manager-support" title="Permanent link">&para;</a></h2>
<p>The Project Manager in Premiere Pro allows users to archive projects, trim out unused media, or collect all source files to a single location. Importers are the most knowledgable about the sources they work with. So Premiere Pro doesn't make any assumptions about the source media, but instead relies on the importers to handle the trimming and file size estimates. Only importers that specifically support trimming will trim and not copy when the Project Manager trims projects.</p>
<p>To support trimming, importers will want to set the canCalcSizes and canTrim flags during <em>imInit</em>, and support <em>imCalcSize8</em>, <em>imCheckTrim8</em>, and <em>imTrimFile8</em>.</p>
<p>If the each clip has more than one source file (such as audio channels in separate files), the importer should also set canCopy and support <em>imCopyFile</em>. Otherwise, the Project Manager will not know about the other source files.</p>
<p>External files, such as textures, logos, etc. that are used by an importer instance but do not appear as footage in Project panel, should be registered with Premiere Pro using the <a href="#universals-sweetpea-suites-file-registration-suite">File Registration Suite</a> during <em>imGetInfo8</em> or <em>imGetPrefs8</em>. Registered files will be taken into account when trimming or copying a project using the Project Manager.</p>
<hr />
<h2 id="importers-getting-started-creating-a-custom-importer">Creating a Custom Importer<a class="headerlink" href="#importers-getting-started-creating-a-custom-importer" title="Permanent link">&para;</a></h2>
<p>This variant of the importer API allows importers to dynamically create disk-based media while working within Premiere. A titler plugin or similar should use this API. Once your clip is created, it is treated like any other standard file and will receive all standard missing file handling.</p>
<p>A Custom Importer <strong>must</strong> do the following:</p>
<ul>
<li>Set the following flags true in imImportInfoRec; canCreate, canOpen, addToMenu, noFile. This tells Premiere your plugin will create a clip on disk at <em>imGetPrefs8</em> time.</li>
<li>To determine when you need to create a new clip vs. modify an existing clip, check the <code>imFileAccessRec</code> filename. If it's identical to the plugin display name (as set in the PiPL), create a new clip; otherwise modify the clip.</li>
<li>If the user cancels from your dialog when creating a new clip, return imCancel.</li>
<li>If the clip is modified, the importer needs to do a few things for Premiere to pick up the changes. Put your file access information in the supplied <code>imFileAccessRec</code>. Premiere will use this data to reference your clip from now on. Close the file handle after you create it. Return imSetFile after creating a file handle in <em>imGetPrefs8</em>., and call RefreshFileAsync() in the Importer</li>
</ul>
<p>File Manager Suite to notify Premiere that the clip has been modified. Premiere will immediately call you to open the file and return a valid imFileRef. Respond to <em>imOpenFile8</em>, <em>imQuietFile</em>, <em>imCloseFile</em> at a minimum.</p>
<hr />
<h2 id="importers-getting-started-real-time-rolling-and-crawling-titles">Real-Time Rolling and Crawling Titles<a class="headerlink" href="#importers-getting-started-real-time-rolling-and-crawling-titles" title="Permanent link">&para;</a></h2>
<p>For RT rolls and crawls, a player and importer must be specially designed to work together. An importer can implement the appropriate functionality, but it is up to the player to take advantage of it.</p>
<p>Importers can make image data available for rolling and crawling titles, using <code>imImageInfoRec.isRollCrawl</code>. If the importer sets it to non-zero, this declares that the image is a title or other image that does roll/crawl, and that the importer supports the <em>imGetRollCrawlInfo</em> and <em>imRollCrawlRenderPage</em> selectors. <em>imGetRollCrawlInfo</em> is used to get info on the roll/crawl from the importer, and <em>imRollCrawlRenderPage</em> is used to get a rendered page of the roll/crawl.</p>
<hr />
<h2 id="importers-getting-started-troubleshooting">Troubleshooting<a class="headerlink" href="#importers-getting-started-troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="importers-getting-started-how-to-get-first-crack-at-a-file">How to Get First Crack at a File<a class="headerlink" href="#importers-getting-started-how-to-get-first-crack-at-a-file" title="Permanent link">&para;</a></h3>
<p>To get the first opportunity to import a filetype also supported by a built-in importer (e.g. MPEG, AVI, QuickTime, etc), provide a different subtype and classID in order for your importer to be called for the types of files you support. imImportInfoRec.priority must be higher than any of the other importers for that filetype. Set this value to 100 or higher to override all built-in importers. Premiere Pro has more than one type of AVI importer and MPEG importer, which use this same prioritization mechanism. So your importer can override all of them and get the first shot at a filetype.</p>
<p>Just because you want to take over handling some files of a given filetype, it doesn't mean you have to handle all of them. To defer an unsupported subtype to a lower priority importer, return imBadFile during <em>imOpenFile8</em> or <em>imGetInfo8</em>. See the Media Abstraction chapter for more information on filetypes, subtypes, and classIDs.</p>
<h3 id="importers-getting-started-format-repeated-in-menu">Format repeated in menu?<a class="headerlink" href="#importers-getting-started-format-repeated-in-menu" title="Permanent link">&para;</a></h3>
<p>To avoid having your importer appear multiple times in the file formats supported pop-up list, fill out the formatName, formatShortName and platform extension once and only once during your <em>imGetIndFormat</em>.</p>
<hr />
<h2 id="importers-getting-started-resources">Resources<a class="headerlink" href="#importers-getting-started-resources" title="Permanent link">&para;</a></h2>
<p>Importers must contain a IMPT resource. Premiere uses this to identify the plugin as an importer. Also, depending on the type of importer (standard, synthetic, or custom), a PiPL may be required.</p>
<hr />
<h2 id="importers-getting-started-entry-point">Entry Point<a class="headerlink" href="#importers-getting-started-entry-point" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">csSDK_int32</span><span class="w"> </span><span class="n">xImportEntry</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">selector</span><span class="p">,</span>
<span class="w">  </span><span class="n">imStdParms</span><span class="w">   </span><span class="o">*</span><span class="n">stdParms</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">param1</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">param2</span><span class="p">)</span>
</code></pre></div>
<p><em>selector</em> is the action Premiere wants the importer to perform. stdParms provides callbacks to obtain additional information from Premiere or to have Premiere perform tasks.</p>
<p><code>param1</code> and <code>param2</code> vary with the selector; they may contain a specific value or a pointer to a structure. Return imNoErr if successful, or an appropriate return code.</p>
<hr />
<h2 id="importers-getting-started-standard-parameters">Standard Parameters<a class="headerlink" href="#importers-getting-started-standard-parameters" title="Permanent link">&para;</a></h2>
<p>A pointer to this structure is sent from the host application to the plugin with every selector.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">imInterfaceVer</span><span class="p">;</span>
<span class="w">  </span><span class="n">imCallbackFuncs</span><span class="w">  </span><span class="o">*</span><span class="n">funcs</span><span class="p">;</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">      </span><span class="n">piSuites</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imStdParms</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imInterfaceVer</code></td>
<td>Importer API version<ul><li>Premiere Pro CC 2014 - <code>IMPORTMOD_VERSION_15</code></li><li>Premiere Pro CC - <code>IMPORTMOD_VERSION_14</code></li><li>Premiere Pro CS6.0.2 - <code>IMPORTMOD_VERSION_13</code></li><li>Premiere Pro CS6 - <code>IMPORTMOD_VERSION_12</code></li><li>Premiere Pro CS5.5 - <code>IMPORTMOD_VERSION_11</code></li><li>Premiere Pro CS5 - <code>IMPORTMOD_VERSION_10</code></li><li>Premiere Pro CS4 - <code>IMPORTMOD_VERSION_9</code></li></ul></td>
</tr>
<tr>
<td><code>funcs</code></td>
<td>Pointers to callbacks for importers</td>
</tr>
<tr>
<td><code>piSuites</code></td>
<td>Pointer to universal callback suites</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-getting-started-importer-specific-callbacks">Importer-Specific Callbacks<a class="headerlink" href="#importers-getting-started-importer-specific-callbacks" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">ClassDataFuncsPtr</span><span class="w">  </span><span class="n">classFuncs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">unused1</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">unused2</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imCallbackFuncs</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="n">csSDK_int32</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">importProgressFunc</span><span class="p">){</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">partDone</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">totalToDo</span><span class="p">;</span>
<span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">trimCallbackID</span><span class="p">};</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>classFuncs</code></td>
<td>See ClassData functions.</td>
</tr>
<tr>
<td><code>importProgressFunc</code></td>
<td>Available in <code>imSaveFileRec</code> and <code>imTrimFileRec</code> during <em>imSaveFile8</em> and <em>imTrimFile8</em>.<br/><br/>Callback function pointer for use during project archiving or trimming to call into Premiere and update the progress bar and check for cancellation.<br/><br/>Either <code>imProgressAbort</code> or <code>imProgressCon</code> tinue will be returned.<br/><br/>The trimCallbackID parameter is passed in the same structures.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="importers-selector-table"><h1 id="importers-selector-table-selector-table">Selector Table<a class="headerlink" href="#importers-selector-table-selector-table" title="Permanent link">&para;</a></h1>
<p>Before implementing a handler for a certain selector, make sure that it is really necessary for your importer. Many selectors are optional, and only useful for certain special needs.</p>
<p>The Synth column indicates whether or not the selector is applicable to synthetic importers. Custom importers can respond to any of the selectors.</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-iminit">imInit</a></td>
<td><a href="#importers-structure-descriptions-imimportinforec">imImportInfoRec*</a></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imshutdown">imShutdown</a></td>
<td>unused</td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetindformat">imGetIndFormat</a></td>
<td><code>(int) index</code></td>
<td><a href="#importers-structure-descriptions-imindformatrec">imIndFormatRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetsupports8">imGetSupports8</a></td>
<td>unused</td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetsupports7">imGetSupports7</a></td>
<td>unused</td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a></td>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></td>
<td><a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imclosefile">imCloseFile</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef*</a></td>
<td><code>(void*) PrivateData**</code></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetindpixelformat">imGetIndPixelFormat</a></td>
<td><code>(int) index</code></td>
<td><a href="#importers-structure-descriptions-imindpixelformatrec">imIndPixelFormatRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetpreferredframesize">imGetPreferredFrameSize</a></td>
<td><a href="#importers-structure-descriptions-impreferredframesizerec">imPreferredFrameSizeRec*</a></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imselectclipframedescriptor">imSelectClipFrameDescriptor</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imclipframedescriptorrec">imClipFrameDescriptorRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imcreateasyncimporter">imCreateAsyncImporter</a></td>
<td><a href="#importers-structure-descriptions-imasyncimportercreationrec">imAsyncImporterCreationRec*</a></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imimportimage">imImportImage</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imimportimagerec">imImportImageRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imimportaudio7">imImportAudio7</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><code>imResetSequentialAudio</code></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><code>imGetSequentialAudio</code></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetprefs8">imGetPrefs8</a></td>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></td>
<td><a href="#importers-structure-descriptions-imgetprefsrec">imGetPrefsRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetembeddedlut">imGetEmbeddedLUT</a></td>
<td><code>(int) index</code></td>
<td><a href="#importers-structure-descriptions-embeddedlutrec">imIndEmbeddedLUTRec*</a></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>The following selectors are optional, to provide custom file handling:</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-imopenfile8">imOpenFile8</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef*</a></td>
<td><a href="#importers-structure-descriptions-imfileopenrec8">imFileOpenRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imquietfile">imQuietFile</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef*</a></td>
<td><code>(void*) PrivateData**</code></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imsavefile8">imSaveFile8</a></td>
<td><a href="#importers-structure-descriptions-imsavefilerec8">imSaveFileRec8*</a></td>
<td>unused</td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imdeletefile">imDeleteFile</a></td>
<td><a href="#importers-structure-descriptions-imdeletefilerec">imDeleteFileRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The following selectors are optional, for better support copying and trimming files using the Project Manager:</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-imcalcsize8">imCalcSize8</a></td>
<td><a href="#importers-structure-descriptions-imcalcsizerec">imCalcSizeRec*</a></td>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imchecktrim8">imCheckTrim8</a></td>
<td><a href="#importers-structure-descriptions-imchecktrimrec">imCheckTrimRec*</a></td>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imtrimfile8">imTrimFile8</a></td>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></td>
<td><a href="#importers-structure-descriptions-imtrimfilerec8">imTrimFileRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imcopyfile">imCopyFile</a></td>
<td><a href="#importers-structure-descriptions-imcopyfilerec">imCopyFileRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imretargetaccelerator">imRetargetAccelerator</a></td>
<td><a href="#importers-structure-descriptions-imacceleratorrec">imAcceleratorRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imquerydestinationpath">imQueryDestinationPath</a></td>
<td><a href="#importers-structure-descriptions-imquerydestinationpathrec">imQueryDestinationPathRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The following selectors are used for embedded Closed Captioning support:</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-iminitiateasyncclosedcaptionscan">imInitiateAsyncClosedCaptionScan</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-iminitiateasyncclosedcaptionscanrec">imInitiateAsyncClosedCaptionScanRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetnextclosedcaption">imGetNextClosedCaption</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imgetnextclosedcaptionrec">imGetNextClosedCaptionRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imcompleteasyncclosedcaptionscan">imCompleteAsyncClosedCaptionScan</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imcompleteasyncclosedcaptionscanrec">imCompleteAsyncClosedCaptionScanRec*</a></td>
<td>No</td>
</tr>
</tbody>
</table>
<p>The following selectors are optional, useful for a subset of importers:</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-imanalysis">imAnalysis</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imanalysisrec">imAnalysisRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imdatarateanalysisrec">imDataRateAnalysisRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetfileattributes">imGetFileAttributes</a></td>
<td><a href="#importers-structure-descriptions-imfileattributesrec">imFileAttributesRec*</a></td>
<td>unused</td>
<td></td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetmetadata">imGetMetaData</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-immetadatarec">imMetaDataRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imsetmetadata">imSetMetaData</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-immetadatarec">imMetaDataRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><code>imGetRollCrawlInfo</code></td>
<td><code>imRollCrawlInfoRec*</code></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><code>imRollCrawlRenderPage</code></td>
<td><code>rollCrawlRenderRec*</code></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imdeferredprocessing">imDeferredProcessing</a></td>
<td><a href="#importers-structure-descriptions-imdeferredprocessingrec">imDeferredProcessingRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetaudiochannellayout">imGetAudioChannelLayout</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-imgetaudiochannellayoutrec">imGetAudioChannelLayoutRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetpeakaudio">imGetPeakAudio</a></td>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><a href="#importers-structure-descriptions-impeakaudiorec">imPeakAudioRec*</a></td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imquerycontentstate">imQueryContentState</a></td>
<td><a href="#importers-structure-descriptions-imquerycontentstaterec">imQueryContentStateRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imquerystreamlabel">imQueryStreamLabel</a></td>
<td><a href="#importers-structure-descriptions-imquerystreamlabelrec">imQueryStreamLabelRec*</a></td>
<td>unused</td>
<td>Yes</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetindcolorspace">imGetIndColorSpace</a></td>
<td><code>(int) index</code></td>
<td><a href="#importers-structure-descriptions-imindcolorspacerec">imIndColorSpaceRec*</a></td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used only in After Effects:</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
<th>Synth</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-selector-descriptions-imgetsubtypenames">imGetSubTypeNames</a></td>
<td><code>(csSDK_int32) fileType</code></td>
<td><a href="#importers-structure-descriptions-imsubtypedescriptionrec">imSubTypeDescriptionRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imgetindcolorprofile">imGetIndColorProfile</a></td>
<td><code>(int) index</code></td>
<td><a href="#importers-structure-descriptions-imindcolorprofilerec">imIndColorProfileRec*</a></td>
<td>No</td>
</tr>
<tr>
<td><a href="#importers-selector-descriptions-imqueryinputfilelist">imQueryInputFileList</a></td>
<td><a href="#importers-structure-descriptions-imqueryinputfilelistrec">imQueryInputFileListRec*</a></td>
<td>unused</td>
<td>No</td>
</tr>
</tbody>
</table></section><section class="print-page" id="importers-selector-descriptions"><h1 id="importers-selector-descriptions-selector-descriptions">Selector Descriptions<a class="headerlink" href="#importers-selector-descriptions-selector-descriptions" title="Permanent link">&para;</a></h1>
<p>This section provides a brief overview of each selector and highlights implementation issues.</p>
<p>Additional implementation details are at the end of the chapter.</p>
<h2 id="importers-selector-descriptions-iminit">imInit<a class="headerlink" href="#importers-selector-descriptions-iminit" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imimportinforec">imImportInfoRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Sent during application startup.</p>
<p>Describe the importer's capabilities in the imImportInfoRec; all options are false by default.</p>
<p>The similarly named flags in imIndFormatRec.flags are obsolete and should not be used.</p>
<p>Set hasSetup to kPrTrue if the importer has a setup dialog, and setupOnDblClk to kPrTrue to have that dialog display when the user double-clicks a file in the Project Panel; Premiere throws away any preview files generated for a file imported with this setting, even if no setup dialog is displayed.</p>
<p>Return imIsCacheable from <em>imInit</em> if a plugin does not need to be called to initialize every time Premiere launched.</p>
<p>This will help reduce the time to launch the application.</p>
<h3 id="importers-selector-descriptions-synthetic-importers">Synthetic Importers<a class="headerlink" href="#importers-selector-descriptions-synthetic-importers" title="Permanent link">&para;</a></h3>
<p>Setting <code>noFile</code> to <code>kPrTrue</code> indicates that the importer is synthetic.</p>
<p>Set <code>addToMenu</code> to <code>kPrTrue</code> to add the importer to the File &gt; New menu.</p>
<h3 id="importers-selector-descriptions-custom-importers">Custom Importers<a class="headerlink" href="#importers-selector-descriptions-custom-importers" title="Permanent link">&para;</a></h3>
<p>To create a custom importer, the following capabilities must be set.</p>
<p>See Additional Details for more info on custom importers.</p>
<div class="highlight"><pre><span></span><code><span class="n">noFile</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">kPrTrue</span><span class="p">;</span>
<span class="n">hasSetup</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">kPrTrue</span><span class="p">;</span>
<span class="n">canOpen</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">kPrTrue</span><span class="p">;</span>
<span class="n">canCreate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kPrTrue</span><span class="p">;</span>
<span class="n">addToMenu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imMenuNew</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="importers-selector-descriptions-imshutdown">imShutdown<a class="headerlink" href="#importers-selector-descriptions-imshutdown" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>unused</code></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Release all resources and perform any other necessary clean-up; sent when Premiere quits.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetindformat">imGetIndFormat<a class="headerlink" href="#importers-selector-descriptions-imgetindformat" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>(int) index</code></li>
<li>param2 - <a href="#importers-structure-descriptions-imindformatrec">imIndFormatRec*</a></li>
</ul>
<p>Sent repeatedly, immediately after imInit; enumerate the filetypes the plugin supports by populating the imIndFormatRec.</p>
<p>When finished, return imBadFormatIndex.</p>
<p>imIndFormatRec.flags are obsolete and should not be used.</p>
<h3 id="importers-selector-descriptions-synthetic-importer-selectors">Synthetic Importer selectors<a class="headerlink" href="#importers-selector-descriptions-synthetic-importer-selectors" title="Permanent link">&para;</a></h3>
<p>Because they have no file, synthetic importers only need to respond with the filetype established in their resource.</p>
<p>Create a separate plugin for each synthetic file type.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetsupports8">imGetSupports8<a class="headerlink" href="#importers-selector-descriptions-imgetsupports8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>unused</code></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>A plugin that supports the Premiere Pro 2.0 API (and beyond) must return <code>malSupports8</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetsupports7">imGetSupports7<a class="headerlink" href="#importers-selector-descriptions-imgetsupports7" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>unused</code></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>A plugin that supports the Premiere Pro 1.0 API (and beyond) must return <code>malSupports7</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetinfo8">imGetInfo8<a class="headerlink" href="#importers-selector-descriptions-imgetinfo8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8*</a></li>
</ul>
<p>Describe a clip, or a single stream of a clip if the clip has multiple streams.</p>
<p>Called when a specific file is instantiated.</p>
<p>Importer checks file validity, optionally allocates file instance data, and describes the properties of the file being imported by populating the imFileInfoRec8.</p>
<h3 id="importers-selector-descriptions-synthetic-importers_1">Synthetic Importers<a class="headerlink" href="#importers-selector-descriptions-synthetic-importers_1" title="Permanent link">&para;</a></h3>
<p>You can create a still frame, a movie of a set duration, or an 'infinite' length movie, but cannot change the properties of a synthetic file once imported.</p>
<hr />
<h2 id="importers-selector-descriptions-imclosefile">imCloseFile<a class="headerlink" href="#importers-selector-descriptions-imclosefile" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef*</a></li>
<li>param2 - <code>(void*) PrivateData**</code></li>
</ul>
<p>The specified file is no longer required; dispose of <code>privateData</code>.</p>
<p>Only sent if privateData was allocated during <code>imGetInfo8</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetindpixelformat">imGetIndPixelFormat<a class="headerlink" href="#importers-selector-descriptions-imgetindpixelformat" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>(int) index</code></li>
<li>param2 - <a href="#importers-structure-descriptions-imindpixelformatrec">imIndPixelFormatRec*</a></li>
</ul>
<p>New optional selector called to enumerate the pixel formats available for a specific file.</p>
<p>This message will be sent repeatedly until all formats have been returned.</p>
<p>Pixel formats should be returned in the preferred order that the importer supports.</p>
<p>The Importer should return imBadFormatIndex after all formats have been enumerated.</p>
<p>imUnsupported should be returned on the first call if only <em>yawn</em> BGRA_4444_8u is supported.</p>
<p>What pixel formats should you support? Keep it real.</p>
<p>Just return the pixel format that most closely matches the data stored in your file.</p>
<p>If decoding to two or more formats can be done at about the same speed, declare support for both, but favor any pixel formats that are more compact, to save on memory and bandwidth.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetpreferredframesize">imGetPreferredFrameSize<a class="headerlink" href="#importers-selector-descriptions-imgetpreferredframesize" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-impreferredframesizerec">imPreferredFrameSizeRec*</a></li>
</ul>
<p>Provide the frame sizes preferred by the importer.</p>
<hr />
<h2 id="importers-selector-descriptions-imselectclipframedescriptor">imSelectClipFrameDescriptor<a class="headerlink" href="#importers-selector-descriptions-imselectclipframedescriptor" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imclipframedescriptorrec">imClipFrameDescriptorRec*</a></li>
</ul>
<p>New in Premiere Pro CC 2014.</p>
<p>If the importer can provide multiple formats, describe the format it will provide here.</p>
<p>This allows importers to change pixel formats based on criteria like enabled hardware and other source settings, such as HDR.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo<a class="headerlink" href="#importers-selector-descriptions-imgetsourcevideo" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec*</a></li>
</ul>
<p>Get the host an unscaled frame of video.</p>
<p>This selector will be sent instead of <code>imImportImage</code> if supportsGetSourceVideo is set to true during <code>imGetInfo8</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imcreateasyncimporter">imCreateAsyncImporter<a class="headerlink" href="#importers-selector-descriptions-imcreateasyncimporter" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imasyncimportercreationrec">imAsyncImporterCreationRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Create an asynchronous importer object using the data provided, and store it in <code>imAsyncImporterCreationRec</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imimportimage">imImportImage<a class="headerlink" href="#importers-selector-descriptions-imimportimage" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imimportimagerec">imImportImageRec*</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In most cases, <code>imGetSourceVideo</code> is the better choice.</p>
</div>
<p>Before going down this route, read the discussion here.</p>
<p>Give the host a frame of video; populate the imImportImageRec buffer with pixel data, or (if you've set canDraw to true during <code>imInit</code>) draw to the screen in the provided window using platform-specific calls to do so.</p>
<p>You must scale the image data to fit the window; Premiere relies on the import module for properly scaled frames.</p>
<hr />
<h2 id="importers-selector-descriptions-imimportaudio7">imImportAudio7<a class="headerlink" href="#importers-selector-descriptions-imimportaudio7" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7*</a></li>
</ul>
<p>Replacement for <code>imImportAudio</code> that uses new <code>imAudioInfoRec7</code>.</p>
<p>Called to import audio using the new 32-bit float, uninterleaved audio format.</p>
<p>Fill <code>imImportAudioRec7-&gt;buffer</code> with the number of sample frames specified in <code>imImportAudioRec7-&gt;size</code>, starting from <code>imImportAudioRec7-&gt;position</code>.</p>
<p>Always return 32-bit float, uninterleaved samples as described in <a href="#universals-universals">Universals</a>.</p>
<p>You may use the calls in the <a href="#universals-sweetpea-suites-audio-suite">Audio Suite</a> to do some common conversions.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetprefs8">imGetPrefs8<a class="headerlink" href="#importers-selector-descriptions-imgetprefs8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imgetprefsrec">imGetPrefsRec*</a></li>
</ul>
<p>Only sent if clip filetype uses a setup dialog within Premiere.</p>
<p>Premiere sends this selector when the user imports (or creates, if synthetic) a file of your type, or when double-clicking on an existing clip.</p>
<p>You must have set <code>hasSetup = true</code> during <code>imInit</code> to receive this selector.</p>
<p>Storing preferences is a two step process.</p>
<p>If the pointer in <code>imGetPrefsRec.prefs</code> is <code>NULL</code>, set prefsLength to the size of your preferences structure and return <code>imNoErr</code>.</p>
<p>Premiere sends <code>imGetPrefs</code> again; display your dialog, and pass the preferences pointer back in <code>imGetPrefsRec.prefs</code>.</p>
<p>Starting in Premiere Pro 1.5, the importer can get a frame from the timeline beneath the current clip or timeline location.</p>
<p>This is useful for titler plugins.</p>
<p>Use the <code>getPreviewFrameEx</code> callback with the time given by <code>TDB_TimeRecord</code> <code>tdbTimelocation</code> in <code>imGetPrefsRec</code>.</p>
<h3 id="importers-selector-descriptions-synthetic-importers_2">Synthetic Importers<a class="headerlink" href="#importers-selector-descriptions-synthetic-importers_2" title="Permanent link">&para;</a></h3>
<p>Synthetic importers can specify the displayable name by changing the <code>newfilename</code> member of <code>imFileAccessRec8</code>.</p>
<p>The first time this selector is sent, the <code>imGetPrefsRec.timelineData</code>, though non-null, contains garbage and should not be used.</p>
<p>It will only contain valid information once the user has put the clip into the timeline, and is double-clicking on it.</p>
<h3 id="importers-selector-descriptions-custom-importers_1">Custom Importers<a class="headerlink" href="#importers-selector-descriptions-custom-importers_1" title="Permanent link">&para;</a></h3>
<p>Custom importers should return imSetFile after successfully creating a new file, storing the file access information in imFileAccessRec8.</p>
<p>Premiere will use this data to then ask the importer to open the file it created.</p>
<p>See Additional Details for more information on custom importers.</p>
<hr />
<h2 id="importers-selector-descriptions-imopenfile8">imOpenFile8<a class="headerlink" href="#importers-selector-descriptions-imopenfile8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imfileopenrec8">imFileOpenRec8*</a></li>
</ul>
<p>Open a file and give Premiere its handle.</p>
<p>This selector is sent only if canOpen was set to true during <code>imInit</code>; do so if you generate child files, you need to have read and write access during the Premiere session, or use a custom file system.</p>
<p>If you respond to this selector, you must also respond to <code>imQuietFile</code> and <code>imCloseFile</code>.</p>
<p>You may additionally need to respond to <code>imDeleteFile</code> and <code>imSaveFile</code>; see Additional Details.</p>
<p>Close any child files during <code>imCloseFile</code>.</p>
<p>Importers that open their own files should specify how many files they keep open between <code>imOpenFile8</code> and <code>imQuietFile</code> using the new Importer File Manager Suite, if the number is not equal to one.</p>
<p>Importers that don't open their own files, or importers that only open a single file should not use this suite.</p>
<p>Premiere's File Manager now keeps track of the number of files held open by importers, and limits the number open at a time by closing the least recently used files when too many are open.</p>
<p>On Windows, this helps memory usage, but on Mac OS this addresses a whole class of bugs that may occur when too many files are open.</p>
<hr />
<h2 id="importers-selector-descriptions-imquietfile">imQuietFile<a class="headerlink" href="#importers-selector-descriptions-imquietfile" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef*</a></li>
<li>param2 - <code>(void*) PrivateData**</code></li>
</ul>
<p>Close the file in <code>imFileRef</code>, and release any hardware resources associated with it.</p>
<p>Respond to this selector only if <code>canOpen</code> was set to true during imInit.</p>
<p>A quieted file is closed (at the OS level), but associated privateData is maintained by Premiere.</p>
<p>Do not deallocate <code>privateData</code> in response to <code>imQuietFile</code>; do so during <code>imCloseFile</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imsavefile8">imSaveFile8<a class="headerlink" href="#importers-selector-descriptions-imsavefile8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imsavefilerec8">imSaveFileRec8*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Save the file specified in <code>imSaveFileRec8</code>.</p>
<p>Only sent if canOpen was set to true during <code>imInit</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imdeletefile">imDeleteFile<a class="headerlink" href="#importers-selector-descriptions-imdeletefile" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imdeletefilerec">imDeleteFileRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Request this selector (by setting canDelete to true during <code>imInit</code>) only if you have child files or related files associated with your file.</p>
<p>If you have only a single file per clip you do not need to delete your own files.</p>
<p>Numbered still file importers do not need to respond to this selector; each file is handled individually.</p>
<hr />
<h2 id="importers-selector-descriptions-imcalcsize8">imCalcSize8<a class="headerlink" href="#importers-selector-descriptions-imcalcsize8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imcalcsizerec">imCalcSizeRec*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></li>
</ul>
<p>Called before Premiere trims a clip, to get the disk size used by a clip.</p>
<p>This selector is called if the importer sets imImportInfoRec.canCalcSizes to non-zero.</p>
<p>An importer should support this call if it uses a tree of files represented as one top-level file to Premiere.</p>
<p>The importer should calculate either the trimmed or current size of the file and return it.</p>
<p>If the <code>trimIn</code> and <code>duration</code> are set to zero, Premiere is asking for the current size of the file.</p>
<p>If the <code>trimIn</code> and <code>duration</code> are valid values, Premiere is asking for the trimmed size.</p>
<hr />
<h2 id="importers-selector-descriptions-imchecktrim8">imCheckTrim8<a class="headerlink" href="#importers-selector-descriptions-imchecktrim8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imchecktrimrec">imCheckTrimRec*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></li>
</ul>
<p>Called before Premiere trims a clip, to check if a clip can be trimmed at the specified boundaries.</p>
<p><code>imCheckTrimRec</code> and <code>imFileAccessRec</code> are passed in.</p>
<p>The importer examines the proposed trimmed size of the file, and can change the requested in point and duration to new values if the file can only be trimmed at certain locations (for example, at GOP boundaries in MPEG files).</p>
<p>If the importer changes the in and duration, the new values must include all the material requested in the original trim request.</p>
<p>If an importer does not need to change the in and duration, it may either return imUnsupported, or imNoErr and simply not change the in/duration fields.</p>
<p>If the importer does not want the file trimmed (perhaps because the audio or video would be degraded if trimmed at all) it can return imCantTrim and the trim operation will fail and the file will be copied instead.</p>
<p>For a file with both audio and video, the selector will be sent several times.</p>
<p>The first time, <code>imCheckTrimRec</code> will have both <code>keepAudio</code> and <code>keepVideo</code> set to a non-zero value, and the trim boundaries will represent the entire file, and Premiere is asking if the file can be trimmed at all.</p>
<p>If the importer returns an error, it will not be called again.</p>
<p>The second time, <code>imCheckTrimRec</code> will have keepAudio set to a non-zero value, and the trim boundaries will represent the audio in and out points in the audio timebase, and Premiere is asking if the audio can be trimmed on these boundaries.</p>
<p>The third time, <code>imCheckTrimRec</code> will have keepVideo set to a non-zero value, and the trim boundaries will represent the video in and out points in the video timebase, and Premiere is asking if the video can be trimmed on these boundaries.</p>
<p>If either the video or audio boundaries extend further than the other boundaries, Premiere will trim the file at the furthest boundary.</p>
<hr />
<h2 id="importers-selector-descriptions-imtrimfile8">imTrimFile8<a class="headerlink" href="#importers-selector-descriptions-imtrimfile8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8*</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imtrimfilerec8">imTrimFileRec8*</a></li>
</ul>
<p>Called when Premiere trims a clip.</p>
<p><code>imFileAccessRec8</code> and <code>imTrimFileRec8</code> are passed in.</p>
<p><code>imDiskFull</code> or <code>imDiskErr</code> may be returned if there is an error while trimming.</p>
<p>The current file, inPoint, and new duration are given and a destination file path.</p>
<p>If a file has video and audio, the trim time is in the video's timebase.</p>
<p>For audio only, the trim times are in the audio timebase.</p>
<p>A simple callback and <code>callbackID</code> is passed to <code>imTrimFile8</code> and <code>imSaveFile8</code> that allows plugins to query whether or not the user has cancelled the operation.</p>
<p>If non-zero (and they can be nil), the callback pointer should be called to check for cancellation.</p>
<p>The callback function will return <code>imProgressAbort</code> or <code>imProgressContinue</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imcopyfile">imCopyFile<a class="headerlink" href="#importers-selector-descriptions-imcopyfile" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imcopyfilerec">imCopyFileRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p><code>imCopyFile</code> is sent rather than <code>imSaveFile</code> to importers that have set <code>imImportInfoRec</code> can Copy when doing a copy operation using the Project Manager.</p>
<p>The importer should maintain data on the original file rather than the copy when it returns from the selector.</p>
<hr />
<h2 id="importers-selector-descriptions-imretargetaccelerator">imRetargetAccelerator<a class="headerlink" href="#importers-selector-descriptions-imretargetaccelerator" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imacceleratorrec">imAcceleratorRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>When the Project Manager copies media and its accelerator, this selector gives an opportunity to update the accelerator to refer to the copied media.</p>
<hr />
<h2 id="importers-selector-descriptions-imquerydestinationpath">imQueryDestinationPath<a class="headerlink" href="#importers-selector-descriptions-imquerydestinationpath" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imquerydestinationpathrec">imQueryDestinationPathRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>New in CS5.</p>
<p>This allows the plugin to modify the path that will be used for a trimmed clip, so the trimmed project is written with the correct path.</p>
<hr />
<h2 id="importers-selector-descriptions-iminitiateasyncclosedcaptionscan">imInitiateAsyncClosedCaptionScan<a class="headerlink" href="#importers-selector-descriptions-iminitiateasyncclosedcaptionscan" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-iminitiateasyncclosedcaptionscanrec">imInitiateAsyncClosedCaptionScanRec*</a></li>
</ul>
<p>New in CC.</p>
<p>Gives a chance for the importer to allocate private data to be used during the scan for any closed captions embedded in the clip.</p>
<p>If there are no captions, return imNoCaptions.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetnextclosedcaption">imGetNextClosedCaption<a class="headerlink" href="#importers-selector-descriptions-imgetnextclosedcaption" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imgetnextclosedcaptionrec">imGetNextClosedCaptionRec*</a></li>
</ul>
<p>New in CC.</p>
<p>Called iteratively, each time asking the importer for a single closed caption embedded in the clip.</p>
<p>After returning the last caption, return imNoCaptions to signal the end of the scan.</p>
<hr />
<h2 id="importers-selector-descriptions-imcompleteasyncclosedcaptionscan">imCompleteAsyncClosedCaptionScan<a class="headerlink" href="#importers-selector-descriptions-imcompleteasyncclosedcaptionscan" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imcompleteasyncclosedcaptionscanrec">imCompleteAsyncClosedCaptionScanRec*</a></li>
</ul>
<p>New in CC.</p>
<p>Called to cleanup any temporary data used while getting closed captions embedded in the clip, and to see if the scan completed without error.</p>
<hr />
<h2 id="importers-selector-descriptions-imanalysis">imAnalysis<a class="headerlink" href="#importers-selector-descriptions-imanalysis" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imanalysisrec">imAnalysisRec*</a></li>
</ul>
<p>Provide information about the file in the imAnalysisRec; this is sent when the user views the Properties dialog for your file.</p>
<p>Premiere displays a dialog with information about the file, including the text you provide.</p>
<hr />
<h2 id="importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis<a class="headerlink" href="#importers-selector-descriptions-imdatarateanalysis" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imdatarateanalysisrec">imDataRateAnalysisRec*</a></li>
</ul>
<p>Give Premiere a data rate analysis of the file.</p>
<p>Sent when the user presses the Data Rate button in the Properties dialog, and is enabled only if hasDataRate was true in the imFileInfoRec returned during <em>imGetInfo</em>.</p>
<p>Premiere generates a data rate analysis graph from the data provided.</p>
<hr />
<h2 id="importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8<a class="headerlink" href="#importers-selector-descriptions-imgettimeinfo8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8*</a></li>
</ul>
<p>Read any embedded timecode data in the file.</p>
<p>Supercedes <code>imGetTimeInfo</code>.</p>
<hr />
<h2 id="importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8<a class="headerlink" href="#importers-selector-descriptions-imsettimeinfo8" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8*</a></li>
</ul>
<p>Sent after a capture completes, where timecode was provided by the recorder or device controller.</p>
<p>Use this to write timecode data and timecode rate to your file.</p>
<p>See <a href="#universals-universals">Universals</a> for more information on time in Premiere.</p>
<p>Supercedes <code>imSetTimeInfo</code>.</p>
<p>Timecode rate is important for files that have timecode, but not an implicit frame rate, or where the sampling rate might differ from the timecode rate.</p>
<p>For example, audio captured from a tape uses the video's frame rate for timecode, although its sampling rate is not equal to the timecode rate.</p>
<p>Another example is capturing a still from tape, which could be stamped with timecode, yet not have a media frame rate.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetfileattributes">imGetFileAttributes<a class="headerlink" href="#importers-selector-descriptions-imgetfileattributes" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileattributesrec">imFileAttributesRec*</a></li>
</ul>
<p>Optional.</p>
<p><code>Pass back the creation date stamp in imFileAttributesRec.</code></p>
<hr />
<h2 id="importers-selector-descriptions-imgetmetadata">imGetMetaData<a class="headerlink" href="#importers-selector-descriptions-imgetmetadata" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-immetadatarec">imMetaDataRec*</a></li>
</ul>
<p>Called to get a metadata chunk specified by a fourcc code.</p>
<p>If imMetaDataRec-&gt;buffer is null, the plugin should set buffersize to the required buffer size and return imNoErr.</p>
<p>Premiere will then call again with the appropriate buffer already allocated.</p>
<hr />
<h2 id="importers-selector-descriptions-imsetmetadata">imSetMetaData<a class="headerlink" href="#importers-selector-descriptions-imsetmetadata" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-immetadatarec">imMetaDataRec*</a></li>
</ul>
<p>Called to add a metadata chunk specified by a fourcc code.</p>
<hr />
<h2 id="importers-selector-descriptions-imdeferredprocessing">imDeferredProcessing<a class="headerlink" href="#importers-selector-descriptions-imdeferredprocessing" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imdeferredprocessingrec">imDeferredProcessingRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Describe the current progress of the deferred processing on the clip.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetaudiochannellayout">imGetAudioChannelLayout<a class="headerlink" href="#importers-selector-descriptions-imgetaudiochannellayout" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-imgetaudiochannellayoutrec">imGetAudioChannelLayoutRec*</a></li>
</ul>
<p>New in CC.</p>
<p>Called to get the audio channel layout in the file.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetpeakaudio">imGetPeakAudio<a class="headerlink" href="#importers-selector-descriptions-imgetpeakaudio" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imfileref">imFileRef</a></li>
<li>param2 - <a href="#importers-structure-descriptions-impeakaudiorec">imPeakAudioRec*</a></li>
</ul>
<p>Optional selector allows Premiere to get audio peak data directly from the importer.</p>
<p>This is used for synthetic clips longer than five minutes.</p>
<p>Providing peak data can significantly improve waveform rendering performance when the user views audio waveform of the clip in the Source Monitor.</p>
<p>The values provided are <code>floats</code>, in the range 0.0 to 1.0 in amplitude. There is an array which has an array of <code>float *</code> for each audio channel the importer reported for this stream. The <code>float *</code> point to <code>float[inNumSampleFrames]</code> which needs to be filled in by the importer. The <code>inSampleRate</code> is the sample rate of the returned data; in the case that <code>inNumSampleFrame = 1000</code> and <code>inSampleRate = 10</code>, the importer would fill in 1000 min values and 1000 max values per channel, with 10 values per second of original audio.</p>
<hr />
<h2 id="importers-selector-descriptions-imquerycontentstate">imQueryContentState<a class="headerlink" href="#importers-selector-descriptions-imquerycontentstate" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imquerycontentstaterec">imQueryContentStateRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>New in CS5.</p>
<p>This is used by streaming importers and folder based importers (P2, XDCAM, etc) that have multiple files that comprise the content.</p>
<p>If an importer doesn't support the selector then the host checks the last modification time for the main file.</p>
<hr />
<h2 id="importers-selector-descriptions-imquerystreamlabel">imQueryStreamLabel<a class="headerlink" href="#importers-selector-descriptions-imquerystreamlabel" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imquerystreamlabelrec">imQueryStreamLabelRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>New in CS6.</p>
<p>This is used by stereoscopic importers to specify which stream IDs represent the left and right eyes.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetsubtypenames">imGetSubTypeNames<a class="headerlink" href="#importers-selector-descriptions-imgetsubtypenames" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>(csSDK_int32) fileType</code></li>
<li>param2 - <a href="#importers-structure-descriptions-imsubtypedescriptionrec">imSubTypeDescriptionRec*</a></li>
</ul>
<p>New optional selector added for After Effects CS3.</p>
<p>As of CS4, this info still isn't used in Premiere Pro, but is used in After Effects to display the codec name in the Project Panel.</p>
<p>The importer should fill in the codec name for the specific subtype fourcc provided.</p>
<p>This selector will be sent repeatedly until names for all subtypes have been requested.</p>
<p>The <code>imSubTypeDescriptionRec</code> must be allocated by the importer, and will be released by the plugin host.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetindcolorprofile">imGetIndColorProfile<a class="headerlink" href="#importers-selector-descriptions-imgetindcolorprofile" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>(int) index</code></li>
<li>param2 - <a href="#importers-structure-descriptions-imindcolorprofilerec">imIndColorProfileRec*</a></li>
</ul>
<p>Only sent if the importer has set <code>imImageInfoRec.colorProfileSupport</code> to <code>imColorProfileSupport_Fixed</code>.</p>
<p>This selector is sent iteratively for the importer to provide a description of each color profile supported by the clip.</p>
<p>After all color profiles have been described, return a non-zero value.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetindcolorspace">imGetIndColorSpace<a class="headerlink" href="#importers-selector-descriptions-imgetindcolorspace" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>(int) index</code></li>
<li>param2 - <a href="#importers-structure-descriptions-imindcolorspacerec">imIndColorSpaceRec*</a></li>
</ul>
<p>This is new selector for enumerating color spaces of media.</p>
<p>Only sent if the importer has set <code>imImageInfoRec.colorSpaceSupport</code> to <code>imColorSpaceSupport_Fixed</code>.</p>
<p>This selector is sent iteratively for the importer to provide a description of each color space supported by the clip.</p>
<p>After all color spaces have been described, return a non-zero value.</p>
<hr />
<h2 id="importers-selector-descriptions-imqueryinputfilelist">imQueryInputFileList<a class="headerlink" href="#importers-selector-descriptions-imqueryinputfilelist" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#importers-structure-descriptions-imqueryinputfilelistrec">imQueryInputFileListRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>New for After Effects CS6; not used in Premiere Pro.</p>
<p>If an importer supports media that uses more than a single file (i.e.</p>
<p>a file structure with seperate files for metadata, or separate video and audio files), this is the way the importer can specify all of its source files, in order to support Collect Files in After Effects.</p>
<p>In <code>imImportInfoRec</code>, a new member, <code>canProvideFileList</code>, specifies whether the importer can provide a list of all files for a copy operation.</p>
<p>If the importer does not implement this selector, the host will assume the media just uses a single file at the original imported media path.</p>
<hr />
<h2 id="importers-selector-descriptions-imgetembeddedlut">imGetEmbeddedLUT<a class="headerlink" href="#importers-selector-descriptions-imgetembeddedlut" title="Permanent link">&para;</a></h2>
<p>This is a selector for enumerating the LUTs embedded in the media.</p>
<ul>
<li>param1 - <code>(int) index</code>.</li>
<li>param2 - <a href="#importers-structure-descriptions-embeddedlutrec">EmbeddedLUTRec*</a></li>
</ul>
<p>Sent if Importer reported that it has embedded LUT. The first time it is called, the inDestinationBuffer will be NULL. Fill in the required size for the buffer, set the correct space type, and Premiere Pro will call your importer back with enough memory.</p></section><section class="print-page" id="importers-return-codes"><h1 id="importers-return-codes-return-codes">Return Codes<a class="headerlink" href="#importers-return-codes-return-codes" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Return Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imNoErr</code></td>
<td>Operation has completed without error.</td>
</tr>
<tr>
<td><code>imTooWide</code></td>
<td>File dimensions too large.</td>
</tr>
<tr>
<td><code>imBadFile</code></td>
<td>Bad file format.<br/>To defer an unsupported subtype to a lower priority importer, return this during <code>imOpenFile8</code> or <code>imGetInfo8</code>.</td>
</tr>
<tr>
<td><code>imUnsupported</code></td>
<td>Unsupported selector.</td>
</tr>
<tr>
<td><code>imMemErr</code></td>
<td>Memory error.</td>
</tr>
<tr>
<td><code>imOtherErr</code></td>
<td>Unknown error.</td>
</tr>
<tr>
<td><code>imNoContent</code></td>
<td>No audio or video.</td>
</tr>
<tr>
<td><code>imBadRate</code></td>
<td>Bad audio rate.</td>
</tr>
<tr>
<td><code>imBadCompression</code></td>
<td>Bad compression.</td>
</tr>
<tr>
<td><code>imBadCodec</code></td>
<td>Codec not found.</td>
</tr>
<tr>
<td><code>imNotFlat</code></td>
<td>Unflattened QuickTime movie.</td>
</tr>
<tr>
<td><code>imBadSndComp</code></td>
<td>Bad sound compression.</td>
</tr>
<tr>
<td><code>imNoTimecode</code></td>
<td>Timecode supported, but not found.</td>
</tr>
<tr>
<td><code>imMissingComponent</code></td>
<td>Missing component needed to open the file.</td>
</tr>
<tr>
<td><code>imSaveErr</code></td>
<td>Error saving file.</td>
</tr>
<tr>
<td><code>imDeleteErr</code></td>
<td>Error deleting file.</td>
</tr>
<tr>
<td><code>imNotFoundErr</code></td>
<td>The requested metadata chunk was not found.</td>
</tr>
<tr>
<td><code>imSetFile</code></td>
<td>Return this from <code>imGetPrefs8</code> only if you are a custom importer and you need Premiere to alter it's file access information (e.g. a new path or filename is created).</td>
</tr>
<tr>
<td><code>imIterateStreams</code></td>
<td>Return from <code>imGetInfo8</code> to indicate that there are more streams to describe.<br/>Premiere will send <code>imGetInfo8</code> for the next stream.</td>
</tr>
<tr>
<td><code>imBadStreamIndex</code></td>
<td>Return from <code>imGetInfo8</code> after interating through streams to indicate that there are no more streams to describe.</td>
</tr>
<tr>
<td><code>imCantTrim</code></td>
<td>Return from <code>imCheckTrim</code> if the file cannot be trimmed by the importer.</td>
</tr>
<tr>
<td><code>imDiskFull</code></td>
<td>Return from <code>imTrimFile8</code> if there is not enough space to complete the trim operation.</td>
</tr>
<tr>
<td><code>imDiskErr</code></td>
<td>Return from <code>imTrimFile8</code> if there is a general disk or I/O error during the trim operation.</td>
</tr>
<tr>
<td><code>imFileShareViolation</code></td>
<td>Return from <code>imOpenFile8</code> if file cannot be opened due to another process having exclusive read access</td>
</tr>
<tr>
<td><code>imIterateFrameSizes</code></td>
<td>Return from <code>imGetPreferredFrameSize</code>, to be called again to describe more frame sizes for a particular pixel format.</td>
</tr>
<tr>
<td><code>imMediaPending</code></td>
<td>Return from <code>imGetSourceVideo</code> or <code>imCreateAsyncImporter</code> if the importer is still processing the file and cannot return video frames yet.</td>
</tr>
<tr>
<td><code>imDRMControlled</code></td>
<td>Return from <code>imOpenFile8</code> if the file cannot be opened because it is under rights management.</td>
</tr>
<tr>
<td><code>imActivationFailed</code></td>
<td>Activation of a component failed (usually due to user cancellation).<br/>This is used by Premiere Elements.</td>
</tr>
<tr>
<td><code>imFrameNotFound</code></td>
<td>New in CS4. Return if an importer could not find the requested frame (typically used with async importers)</td>
</tr>
<tr>
<td><code>imBadHeader</code></td>
<td>New in CS5. The file cannot be opened because of a header error</td>
</tr>
<tr>
<td><code>imUnsupportedCompression</code></td>
<td>New in CS5. The file has a compression type that the importer does not support</td>
</tr>
<tr>
<td><code>imFileOpenFailed</code></td>
<td>New in CS5. The importer was unable to open the file on disk</td>
</tr>
<tr>
<td><code>imFileHasNoImportableStreams</code></td>
<td>New in CS5. The file has no audio or video stream</td>
</tr>
<tr>
<td><code>imFileReadFailed</code></td>
<td>New in CS5. A read from an open file failed</td>
</tr>
<tr>
<td><code>imUnsupportedAudioFormat</code></td>
<td>New in CS5. The importer cannot import something in the audio format</td>
</tr>
<tr>
<td><code>imUnsupportedVideoBitDepth</code></td>
<td>New in CS5. The video bit depth of this file is unsupported by the importer</td>
</tr>
<tr>
<td><code>imDecompressionError</code></td>
<td>New in CS5. The importer hit an error decompressing the audio or video</td>
</tr>
<tr>
<td><code>imInvalidPreferences</code></td>
<td>New in CS5. Invalid prefs data was passed to the importer</td>
</tr>
<tr>
<td><code>inFileNotAvailable</code></td>
<td>New in CS5. Return from <code>imQueryContentState</code> if the file/stream is no longer available because it is offline or deleted</td>
</tr>
<tr>
<td><code>imRequiresProtectedContent</code></td>
<td>New in CS5.5. Return from <code>imInit</code> if the importer depends on a library that has not been activated yet.</td>
</tr>
<tr>
<td><code>imNoCaptions</code></td>
<td>New in CC. Return from <code>imInitiateAsyncClosedCaptionScan</code> if the clip has no closed captions, or return from <code>imGetNextClosedCaption</code> when there are no more captions.</td>
</tr>
<tr>
<td><code>imCancel</code></td>
<td>Return from <code>imGetPrefs8</code> if user cancels or the plugin cannot open the file (custom/synthetic importer).</td>
</tr>
<tr>
<td><code>imBadFormatIndex</code></td>
<td>Return this when given an out of range format index, and from <code>imGetIndFormat</code> when plugin has no more formats to enumerate.</td>
</tr>
<tr>
<td><code>imIsCacheable</code></td>
<td>Return from <code>imInit</code> if a plugin does not need to be called to initialize every time Premiere is launched.<br/>This will help reduce the time to launch the application.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="importers-structures"><h1 id="importers-structures-structures">Structures<a class="headerlink" href="#importers-structures-structures" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Structure</th>
<th>Sent with selector</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#importers-structure-descriptions-imacceleratorrec">imAcceleratorRec</a></td>
<td><a href="#importers-selector-descriptions-imretargetaccelerator">imRetargetAccelerator</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imanalysisrec">imAnalysisRec</a></td>
<td><a href="#importers-selector-descriptions-imanalysis">imAnalysis</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imasyncimportercreationrec">imAsyncImporterCreationRec</a></td>
<td><a href="#importers-selector-descriptions-imcreateasyncimporter">imCreateAsyncImporter</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imaudioinforec7">imAudioInfoRec7</a></td>
<td><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a> (member of <a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8</a>)</td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imcalcsizerec">imCalcSizeRec</a></td>
<td><a href="#importers-selector-descriptions-imcalcsize8">imCalcSize8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imchecktrimrec">imCheckTrimRec</a></td>
<td><a href="#importers-selector-descriptions-imchecktrim8">imCheckTrim8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imclipframedescriptorrec">imClipFrameDescriptorRec</a></td>
<td><a href="#importers-selector-descriptions-imselectclipframedescriptor">imSelectClipFrameDescriptor</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imcompleteasyncclosedcaptionscanrec">imCompleteAsyncClosedCaptionScanRec</a></td>
<td><a href="#importers-selector-descriptions-imcompleteasyncclosedcaptionscan">imCompleteAsyncClosedCaptionScan</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imindcolorprofilerec">imIndColorProfileRec</a></td>
<td><a href="#importers-selector-descriptions-imgetindcolorprofile">imGetIndColorProfile</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imcopyfilerec">imCopyFileRec</a></td>
<td><a href="#importers-selector-descriptions-imcopyfile">imCopyFile</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imdatarateanalysisrec">imDataRateAnalysisRec</a></td>
<td><a href="#importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imdeferredprocessingrec">imDeferredProcessingRec</a></td>
<td><a href="#importers-selector-descriptions-imdeferredprocessing">imDeferredProcessing</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imdeletefilerec">imDeleteFileRec</a></td>
<td><a href="#importers-selector-descriptions-imdeletefile">imDeleteFile</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8</a></td>
<td><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a> and <a href="#importers-selector-descriptions-imgetprefs8">imGetPrefs8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imfileattributesrec">imFileAttributesRec</a></td>
<td><a href="#importers-selector-descriptions-imgetfileattributes">imGetFileAttributes</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8</a></td>
<td><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imfileopenrec8">imFileOpenRec8</a></td>
<td><a href="#importers-selector-descriptions-imopenfile8">imOpenFile8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imfileref">imFileRef</a></td>
<td><ul><li><a href="#importers-selector-descriptions-imanalysis">imAnalysis</a></li><li><a href="#importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis</a></li><li><a href="#importers-selector-descriptions-imopenfile8">imOpenFile8</a></li><li><a href="#importers-selector-descriptions-imquietfile">imQuietFile</a></li><li><a href="#importers-selector-descriptions-imclosefile">imCloseFile</a></li><li><a href="#importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8</a></li><li><a href="#importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8</a></li><li><a href="#importers-selector-descriptions-imimportimage">imImportImage</a></li><li><a href="#importers-selector-descriptions-imimportaudio7">imImportAudio7</a></li></ul></td>
</tr>
<tr>
<td><code>imFileSpec</code></td>
<td><ul><li><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a></li><li><a href="#importers-selector-descriptions-imgetprefs8">imGetPrefs8</a></li><li><a href="#importers-selector-descriptions-imsavefile8">imSaveFile8</a></li><li><a href="#importers-selector-descriptions-imdeletefile">imDeleteFile</a></li><li><a href="#importers-selector-descriptions-imtrimfile8">imTrimFile8</a></li></ul>Member of:<ul><li><a href="#importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8</a></li><li><a href="#importers-structure-descriptions-imsavefilerec8">imSaveFileRec8</a></li><li><a href="#importers-structure-descriptions-imdeletefilerec">imDeleteFileRec</a></li><li><a href="#importers-structure-descriptions-imtrimfilerec8">imTrimFileRec8</a></li></ul></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imframeformat">imFrameFormat</a></td>
<td><a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a> (member of <a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec</a>)</td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imgetnextclosedcaptionrec">imGetNextClosedCaptionRec</a></td>
<td><a href="#importers-selector-descriptions-imgetnextclosedcaption">imGetNextClosedCaption</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imgetprefsrec">imGetPrefsRec</a></td>
<td><a href="#importers-selector-descriptions-imgetprefs8">imGetPrefs8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imimageinforec">imImageInfoRec</a></td>
<td><a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a> (member of <a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8</a>)</td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7</a></td>
<td><a href="#importers-selector-descriptions-imimportaudio7">imImportAudio7</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imimportimagerec">imImportImageRec</a></td>
<td><a href="#importers-selector-descriptions-imimportimage">imImportImage</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imimportinforec">imImportInfoRec</a></td>
<td><a href="#importers-selector-descriptions-iminit">imInit</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imindformatrec">imIndFormatRec</a></td>
<td><a href="#importers-selector-descriptions-imgetindformat">imGetIndFormat</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imindpixelformatrec">imIndPixelFormatRec</a></td>
<td><a href="#importers-selector-descriptions-imgetindpixelformat">imGetIndPixelFormat</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-iminitiateasyncclosedcaptionscanrec">imInitiateAsyncClosedCaptionScanRec</a></td>
<td><a href="#importers-selector-descriptions-iminitiateasyncclosedcaptionscan">imInitiateAsyncClosedCaptionScan</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-immetadatarec">imMetaDataRec</a></td>
<td><a href="#importers-selector-descriptions-imgetmetadata">imGetMetaData</a> and <a href="#importers-selector-descriptions-imsetmetadata">imSetMetaData</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-impeakaudiorec">imPeakAudioRec</a></td>
<td><a href="#importers-selector-descriptions-imgetpeakaudio">imGetPeakAudio</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-impreferredframesizerec">imPreferredFrameSizeRec</a></td>
<td><a href="#importers-selector-descriptions-imgetpreferredframesize">imGetPreferredFrameSize</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imquerycontentstaterec">imQueryContentStateRec</a></td>
<td><a href="#importers-selector-descriptions-imquerycontentstate">imQueryContentState</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imquerydestinationpathrec">imQueryDestinationPathRec</a></td>
<td><a href="#importers-selector-descriptions-imquerydestinationpath">imQueryDestinationPath</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imqueryinputfilelistrec">imQueryInputFileListRec</a></td>
<td><a href="#importers-selector-descriptions-imqueryinputfilelist">imQueryInputFileList</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imquerystreamlabelrec">imQueryStreamLabelRec</a></td>
<td><a href="#importers-selector-descriptions-imquerystreamlabel">imQueryStreamLabel</a></td>
</tr>
<tr>
<td><code>imRollCrawlInfoRec</code></td>
<td><code>imGetRollCrawlInfo</code></td>
</tr>
<tr>
<td><code>imRollCrawlRenderRec</code></td>
<td><code>imRollCrawlRenderPage</code></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imsavefilerec8">imSaveFileRec8</a></td>
<td><a href="#importers-selector-descriptions-imsavefile8">imSaveFile8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec</a></td>
<td><a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imsubtypedescriptionrec">imSubTypeDescriptionRec</a></td>
<td><a href="#importers-selector-descriptions-imgetsubtypenames">imGetSubTypeNames</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8</a></td>
<td><a href="#importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8</a> and <a href="#importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8</a></td>
</tr>
<tr>
<td><a href="#importers-structure-descriptions-imtrimfilerec8">imTrimFileRec8</a></td>
<td><a href="#importers-selector-descriptions-imtrimfile8">imTrimFile8</a></td>
</tr>
</tbody>
</table></section><section class="print-page" id="importers-structure-descriptions"><h1 id="importers-structure-descriptions-structure-descriptions">Structure Descriptions<a class="headerlink" href="#importers-structure-descriptions-structure-descriptions" title="Permanent link">&para;</a></h1>
<h2 id="importers-structure-descriptions-imacceleratorrec">imAcceleratorRec<a class="headerlink" href="#importers-structure-descriptions-imacceleratorrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imretargetaccelerator">imRetargetAccelerator</a></p>
<p>Describes the path to the new media and new accelerator created when the Project Manager copies media and its accelerator.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w"> </span><span class="o">*</span><span class="n">inOriginalPath</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w"> </span><span class="o">*</span><span class="n">inAcceleratorPath</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imAcceleratorRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inOriginalPath</code></td>
<td>The unicode path and name of the copied media.</td>
</tr>
<tr>
<td><code>inAcceleratorPath</code></td>
<td>The unicode path and name of the copied accelerator.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imanalysisrec">imAnalysisRec<a class="headerlink" href="#importers-structure-descriptions-imanalysisrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imanalysis">imAnalysis</a></p>
<p>Sending back analysis data is a two step process. First, set buffersize to the size of your character buffer and return imNoErr.</p>
<p>Premiere will immediately send <code>imAnalysis</code> again; populate the buffer with text. Previously-stored preferences and privateData are returned in this structure.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">buffersize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="o">*</span><span class="n">buffer</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="o">*</span><span class="n">timecodeFormat</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imAnalysisRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>buffersize</code></td>
<td>Set to the desired size and return imNoErr to Premiere, which will re-size and call the plugin again with the <code>imGetPrefs8</code> selector.</td>
</tr>
<tr>
<td><code>buffer</code></td>
<td>Text buffer. Terminate lines with line endings (CR and LF).</td>
</tr>
<tr>
<td><code>timecodeFormat</code></td>
<td>Preferred timecode format, sent by the host.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imasyncimportercreationrec">imAsyncImporterCreationRec<a class="headerlink" href="#importers-structure-descriptions-imasyncimportercreationrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imcreateasyncimporter">imCreateAsyncImporter</a></p>
<p>Create an asynchronous importer object using the data provided, and store it here.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">AsyncImporterEntry</span><span class="w">  </span><span class="n">outAsyncEntry</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">outAsyncPrivateData</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>outAsyncEntry</code></td>
<td>Provide the entry point for async selectors sent to the asynchronous importer object.</td>
</tr>
<tr>
<td><code>outAsyncPrivateData</code></td>
<td><code>PrivateData</code> for the asynchronous importer object.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imaudioinforec7">imAudioInfoRec7<a class="headerlink" href="#importers-structure-descriptions-imaudioinforec7" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a> (member of <a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8</a>)</p>
<p>Audio data properties of the file (or of the data you will generate, if synthetic).</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">numChannels</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">              </span><span class="n">sampleRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioSampleType</span><span class="w">  </span><span class="n">sampleType</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>numChannels</code></td>
<td>Number of audio channels in the audio stream.<br/><br/>Either 1, 2, or 6.</td>
</tr>
<tr>
<td><code>sampleRate</code></td>
<td>In hertz.</td>
</tr>
<tr>
<td><code>sampleType</code></td>
<td>This is for informational use only, to disclose the format of the audio on disk, before it is converted to 32-bit float, uninterleaved, by the importer.<br/><br/>The audio sample types are listed in <a href="#universals-universals">Universals</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imcalcsizerec">imCalcSizeRec<a class="headerlink" href="#importers-structure-descriptions-imcalcsizerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imcalcsize8">imCalcSize8</a></p>
<p>Asks the importer for an estimate of disk space used by the clip, given the provided trim boundaries.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">trimIn</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">duration</span><span class="p">;</span>
<span class="w">  </span><span class="n">prInt64</span><span class="w">      </span><span class="n">sizeInBytes</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">scale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">sampleSize</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imCalcSizeRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>trimIn</code></td>
<td>In point of the trimmed clip the importer should calculate the size for, in the timebase specified by scale over sampleSize.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>Duration of the trimmed clip the importer should calculate the size for.<br/><br/>If 0, then the importer should calculate the size of the untrimmed clip.</td>
</tr>
<tr>
<td><code>sizeInBytes</code></td>
<td>Return the calculated size in bytes.</td>
</tr>
<tr>
<td><code>scale</code></td>
<td>The frame rate of the video clip, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>sampleSize</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imchecktrimrec">imCheckTrimRec<a class="headerlink" href="#importers-structure-descriptions-imchecktrimrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imchecktrim8">imCheckTrim8</a></p>
<p>Provides the requested trim boundaries to the importer, and allows adjusted trim boundaries to be passed back to Premiere.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">trimIn</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">duration</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">keepAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">keepVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">newTrimIn</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">newDuration</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">scale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">sampleSize</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imCheckTrimRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>trimIn</code></td>
<td>Requested in point of the trimmed clip, in the timebase specified by scale over sampleSize.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>Requested duration. If 0, then the request is to leave the clip untrimmed, and at the current duration</td>
</tr>
<tr>
<td><code>keepAudio</code></td>
<td>If non-zero, the request is to keep the audio in the trimmed result.</td>
</tr>
<tr>
<td><code>keepVideo</code></td>
<td>If non-zero, the request is to keep the video in the trimmed result.</td>
</tr>
<tr>
<td><code>newTrimIn</code></td>
<td>Return the acceptable in point of the trimmed clip. It must be at or before the requested in point.</td>
</tr>
<tr>
<td><code>newDuration</code></td>
<td>Return the acceptable duration. newTrimIn + newDuration must be at or after the trimIn + duration.</td>
</tr>
<tr>
<td><code>scale</code></td>
<td>The frame rate of the video clip, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>sampleSize</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imclipframedescriptorrec">imClipFrameDescriptorRec<a class="headerlink" href="#importers-structure-descriptions-imclipframedescriptorrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imselectclipframedescriptor">imSelectClipFrameDescriptor</a></p>
<p>Based on the request in <code>inDesiredClipFrameDescriptor</code> and the importer's Source Settings, modify <code>outBestFrameDescriptor</code> as needed to describe what format the importer will provide.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                </span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                </span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">ClipFrameDescriptor</span><span class="w">  </span><span class="n">inDesiredClipFrameDescriptor</span><span class="p">;</span>
<span class="w">  </span><span class="n">ClipFrameDescriptor</span><span class="w">  </span><span class="n">outBestFrameDescriptor</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imClipFrameDescriptorRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>inDesiredClipFrameDescriptor</code></td>
<td>Requested frame properties, as described by the host.<br/><br/>The <code>ClipFrameDescriptor</code> struct is defined in PrSDKImporterShared.h.</td>
</tr>
<tr>
<td><code>outBestFrameDescriptor</code></td>
<td>Frame properties to be produced, filled in with initial guesses</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imcompleteasyncclosedcaptionscanrec">imCompleteAsyncClosedCaptionScanRec<a class="headerlink" href="#importers-structure-descriptions-imcompleteasyncclosedcaptionscanrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imcompleteasyncclosedcaptionscan">imCompleteAsyncClosedCaptionScan</a></p>
<p>This structure is passed to provide one last chance to cleanup and dispose of <code>inAsyncCaptionScanPrivateData</code>, and to mark whether the closed caption scan completed without error.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w">  </span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">inAsyncCaptionScanPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">       </span><span class="n">inScanCompletedWithoutError</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imCompleteAsyncClosedCaptionScanRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>inAsyncCaptionScanPrivateData</code></td>
<td>Cleanup and dispose of any data here that was allocated in <code>imInitiateAsyncClosedCaptionScan</code> or <code>imGetNextClosedCaption</code>.<br/><br/>This data should not be accessed after returning from this call.</td>
</tr>
<tr>
<td><code>inScanCompletedWithoutError</code></td>
<td>Set to true if no error.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imindcolorprofilerec">imIndColorProfileRec<a class="headerlink" href="#importers-structure-descriptions-imindcolorprofilerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetindcolorprofile">imGetIndColorProfile</a></p>
<p>Deprecated as of 13.0. Describes a color profile supported by a clip.</p>
<p>The first time <code>imGetIndColorProfile</code> is sent, <code>inDestinationBuffer</code> will be NULL, and <code>ioBufferSize</code> will be 0.</p>
<p>Set <code>ioBufferSize</code> to the required size for the buffer, and the host will allocate the memory and call the importer again, with a valid <code>inDestinationBuffer</code>, and <code>ioBufferSize</code> set to the value just provided by the importer.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">ioBufferSize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">inDestinationBuffer</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">  </span><span class="n">outName</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imIndColorProfileRec</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="importers-structure-descriptions-imcopyfilerec">imCopyFileRec<a class="headerlink" href="#importers-structure-descriptions-imcopyfilerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imcopyfile">imCopyFile</a></p>
<p>Describes how to copy a clip. Also provides a callback to update the progress bar and check if the user has cancelled.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="o">*</span><span class="n">inSourcePath</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="o">*</span><span class="n">inDestPath</span><span class="p">;</span>
<span class="w">  </span><span class="n">importProgressFunc</span><span class="w">  </span><span class="n">inProgressCallback</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">inProgressCallbackID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imTrimFileRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>inSourcePath</code></td>
<td>Full unicode path of the source file.</td>
</tr>
<tr>
<td><code>inDestPath</code></td>
<td>Full unicode path of the destination file.</td>
</tr>
<tr>
<td><code>inProgressCallback</code></td>
<td>importProgressFunc callback to call repeatedly to provide progress and to check for cancel by user.<br/>May be a NULL pointer, so make sure the function pointer is valid before calling.</td>
</tr>
<tr>
<td><code>inProgressCallbackID</code></td>
<td>Pass to <code>progressCallback</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imdatarateanalysisrec">imDataRateAnalysisRec<a class="headerlink" href="#importers-structure-descriptions-imdatarateanalysisrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis</a></p>
<p>Specify the desired buffersize, return to Premiere with <code>imNoErr</code>; upon the next call fill buffer with <code>imDataSamples</code>, and specify a base data rate for audio (if any).</p>
<p>This structure is used like <code>imAnalysisRec</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">buffersize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="o">*</span><span class="n">buffer</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">baserate</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imDataRateAnalysisRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>buffersize</code></td>
<td>The size of the buffer you request from Premiere prior to passing data back data in buffer.</td>
</tr>
<tr>
<td><code>buffer</code></td>
<td>Pointer to the analysis buffer to be filled with <code>imDataSamples</code> (see structure below).</td>
</tr>
<tr>
<td><code>baserate</code></td>
<td><code>Audio</code> data rate (bytes per second) of the file.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">sampledur</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">samplesize</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imDataSample</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>sampledur</code></td>
<td>Duration of one sample in video timebase, in samplesize increments; set the high bit if this is a keyframe.</td>
</tr>
<tr>
<td><code>samplesize</code></td>
<td><code>Size</code> of this sample in bytes.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imdeferredprocessingrec">imDeferredProcessingRec<a class="headerlink" href="#importers-structure-descriptions-imdeferredprocessingrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imdeferredprocessing">imDeferredProcessing</a></p>
<p>Describes the current progress of the deferred processing on the clip referred to by inPrivateData.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">   </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">  </span><span class="n">outProgress</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">   </span><span class="n">outInvalidateFile</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">   </span><span class="n">outCallAgain</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imDeferredProcessingRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>outProgress</code></td>
<td>Set this to the current progress, from 0.0 to 1.0.</td>
</tr>
<tr>
<td><code>outInvalidateFile</code></td>
<td>The importer has updated information about the file.</td>
</tr>
<tr>
<td><code>outCallAgain</code></td>
<td>Set this to true to request that the importer be called again immediately.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imdeletefilerec">imDeleteFileRec<a class="headerlink" href="#importers-structure-descriptions-imdeletefilerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imdeletefile">imDeleteFile</a></p>
<p>Describes the file to be deleted.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">filetype</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">  </span><span class="n">deleteFile</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imDeleteFileRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filetype</code></td>
<td>The file's unique four character code, defined in the IMPT resource</td>
</tr>
<tr>
<td><code>deleteFile</code></td>
<td>Specifies the name (and path) of the file to be deleted.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imfileaccessrec8">imFileAccessRec8<a class="headerlink" href="#importers-structure-descriptions-imfileaccessrec8" title="Permanent link">&para;</a></h2>
<p>Selectors: <code>imGetInfo8</code> and <code>imGetPrefs8</code></p>
<p>Describes the file being imported.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">               </span><span class="o">*</span><span class="n">importID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">filetype</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">  </span><span class="o">*</span><span class="n">filepath</span><span class="p">;</span>
<span class="w">  </span><span class="n">imFileRef</span><span class="w">          </span><span class="n">fileref</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrMemoryPtr</span><span class="w">        </span><span class="n">newfilename</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imFileAccessRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>importID</code></td>
<td>Unique ID provided by Premiere. Do not modify!</td>
</tr>
<tr>
<td><code>filetype</code></td>
<td>The file's unique four character code, defined in the IMPT resource.</td>
</tr>
<tr>
<td><code>filepath</code></td>
<td>The unicode file path and name.</td>
</tr>
<tr>
<td><code>fileref</code></td>
<td>A Windows HANDLE. Premiere does not overload this value by using it internally, although setting it to the constant kBadFileRef may cause Premiere to think the file is closed.<br/><br/>This value is always valid.</td>
</tr>
<tr>
<td><code>newfilename</code></td>
<td>If the file is synthetic, the importer can specify the displayable name here as a prUTF16Char string during <code>imGetPrefs8</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imfileattributesrec">imFileAttributesRec<a class="headerlink" href="#importers-structure-descriptions-imfileattributesrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetfileattributes">imGetFileAttributes</a></p>
<p>New in Premiere Pro 3.1. Provide the clip creation date.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">prDateStamp</span><span class="w">  </span><span class="n">creationDateStamp</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">reserved</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">imFileAttributesRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>creationDateStamp</code></td>
<td>Structure to store when the clip was created</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imfileinforec8">imFileInfoRec8<a class="headerlink" href="#importers-structure-descriptions-imfileinforec8" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a></p>
<p>Describes the clip, or the stream with the ID streamIdx. Set the clip or stream attributes from the file header or data source. Create and store any privateData.</p>
<p>When a synthetic clip is created, and the user provides the desired resolution, frame rate, pixel aspect ratio, and audio sample rate in the New Synthetic dialog, these values will be pre-initialized by Premiere.</p>
<p>If importing stereoscopic footage, import the left-eye video channel for streamID 0, and the right-eye video channel for streamID 1.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">hasVideo</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">hasAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">imImageInfoRec</span><span class="w">   </span><span class="n">vidInfo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">vidScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">vidSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">vidDuration</span><span class="p">;</span>
<span class="w">  </span><span class="n">imAudioInfoRec7</span><span class="w">  </span><span class="n">audInfo</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioSample</span><span class="w">    </span><span class="n">audDuration</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">accessModes</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">             </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">             </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">hasDataRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">streamIdx</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">streamsAsComp</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">      </span><span class="n">streamName</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">sessionPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">alwaysUnquiet</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">unused</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">      </span><span class="n">filePath</span><span class="p">[</span><span class="mi">2048</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">canProvidePeakData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">             </span><span class="n">mayBeGrowing</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imFileInfoRec8</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hasVideo</code></td>
<td>If non-zero, the file contains video.</td>
</tr>
<tr>
<td><code>hasAudio</code></td>
<td>If non-zero, the file contains audio.</td>
</tr>
<tr>
<td><code>vidInfo</code></td>
<td>If there is video in the file, fill out the imImageInfoRec structure (e.g. height, width, alpha info, etc.).</td>
</tr>
<tr>
<td><code>vidScale</code></td>
<td>The frame rate of the video, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>vidSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>vidDuration</code></td>
<td>The total number of frames of video, in the video timebase.</td>
</tr>
<tr>
<td><code>audInfo</code></td>
<td>If there is audio in the file, fill out the imAudioInfoRec7 structure.</td>
</tr>
<tr>
<td><code>audDuration</code></td>
<td>The total number of audio sample frames.</td>
</tr>
<tr>
<td><code>accessModes</code></td>
<td>The access mode of this file. Use one of the following constants:<ul><li><code>kRandomAccessImport</code> - This file can be read by random access (default)</li><li><code>kSequentialAudioOnly</code> - When accessing audio, only sequential reads allowed (for variable bit rate files)</li><li><code>kSequentialVideoOnly</code> - When accessing video, only sequential reads allowed</li><li><code>kSequentialOnly</code> - Both sequential audio and video</li><li><code>kSeparateSequentialAudio</code> - Both random access and sequential access.</li></ul>This setting allows audio to be retrieved for scrubbing or playback even during audio conforming.</td>
</tr>
<tr>
<td><code>privatedata</code></td>
<td>Private instance data.<br/>Allocate a handle using Premiere's memory functions and store it here.<br/>Premiere will return the handle with subsequent selectors.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered from <code>imGetPrefs8</code> (setup dialog info).<br/>When a synthetic clip is created using File &gt; New, <code>imGetPrefs8</code> is sent <code>beforeimGetInfo8</code> so this settings structure will already be valid.</td>
</tr>
<tr>
<td><code>hasDataRate</code></td>
<td>If set, the importer can read or generate data rate information for this file and will be sent <code>imDataRateAnalysis</code>.</td>
</tr>
<tr>
<td><code>streamIdx</code></td>
<td>The Premiere-specified stream index number.<br/>Only useful if clip uses multiple streams.</td>
</tr>
<tr>
<td><code>streamsAsComp</code></td>
<td>If multiple streams and this is stream zero, indicate whether to import as a composition or multiple clips.</td>
</tr>
<tr>
<td><code>streamName</code></td>
<td>Optional. The unicode name of this stream if there are multiple streams.<br/><br/>New in Premiere Pro 3.1, an importer may use this to set the clip name based on metadata rather than the filename.<br/><br/>The importer should set <code>imImportInfoRec.canSupplyMetadataClipName</code> to true, and fill out the name here.</td>
</tr>
<tr>
<td><code>sessionPluginID</code></td>
<td>This ID should be used in the <a href="#universals-sweetpea-suites-file-registration-suite">File Registration Suite</a> for registering external files (such as textures, logos, etc) that are used by an importer instance but do not appear as footage in the Project Window.<br/><br/>Registered files will be taken into account when trimming or copying a project using the Project Manager.<br/><br/>The <code>sessionPluginID</code> is valid only for the call that it is passed on.</td>
</tr>
<tr>
<td><code>alwaysUnquiet</code></td>
<td>Set to non-zero to tell Premiere if the clip should always be unquieted immediately when the application regains focus.</td>
</tr>
<tr>
<td><code>filepath</code></td>
<td>Added in Premiere Pro 4.1. For clips that have audio in files separate from the video file, set the filename here, so that UMIDs can properly be generated when exporting sequences to AAF.</td>
</tr>
<tr>
<td><code>canProvidePeakData</code></td>
<td>New in Premiere Pro CS6. This allows an importer to toggle whether or not it wants to provide peak audio data on a clip-by-clip basis.<br/><br/>It defaults to the setting set in <code>imImportInfoRec.canProvidePeakAudio</code>.<br/>NOTE: Do not attempt to use this setting, with growing files.</td>
</tr>
<tr>
<td><code>mayBeGrowing</code></td>
<td>New in Premiere Pro CS6.0.2. Set to non-zero if this clip is growing and should be refreshed at the interval set in the Media Preferences.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imfileopenrec8">imFileOpenRec8<a class="headerlink" href="#importers-structure-descriptions-imfileopenrec8" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imopenfile8">imOpenFile8</a></p>
<p>The file Premiere wants the importer to open.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">imFileAccessRec8</span><span class="w">  </span><span class="n">fileinfo</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">              </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">reserved</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrFileOpenAccess</span><span class="w">  </span><span class="n">inReadWrite</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">inImporterID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">      </span><span class="n">outExtraMemoryUsage</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">inStreamIdx</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imFileOpenRec8</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fileinfo</code></td>
<td><code>imFileAccessRec8</code> describing the incoming file.</td>
</tr>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>reserved</code></td>
<td>Do not use.</td>
</tr>
<tr>
<td><code>inReadWrite</code></td>
<td>The file should be opened with the access mode specified:<br/><br/>Either <code>kPrOpenFileAccess_ReadOnly</code> or <code>kPrOpenFileAccess_ReadWrite</code></td>
</tr>
<tr>
<td><code>inImporterID</code></td>
<td>Can be used as the ID for calls in the <a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a>.</td>
</tr>
<tr>
<td><code>outExtraMemoryUsage</code></td>
<td>New in CS5. If the importer uses memory just by being open, which cannot otherwise be registered in the cache, put the size in bytes in this field.</td>
</tr>
<tr>
<td><code>inStreamIdx</code></td>
<td>New in CS6. If the clip has multiple streams (for stereoscopic video or otherwise), this ID differentiates between them.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imfileref">imFileRef<a class="headerlink" href="#importers-structure-descriptions-imfileref" title="Permanent link">&para;</a></h2>
<p>Selectors:</p>
<ul>
<li><a href="#importers-selector-descriptions-imanalysis">imAnalysis</a>,</li>
<li><a href="#importers-selector-descriptions-imdatarateanalysis">imDataRateAnalysis</a>,</li>
<li><a href="#importers-selector-descriptions-imopenfile8">imOpenFile8</a>,</li>
<li><a href="#importers-selector-descriptions-imquietfile">imQuietFile</a>,</li>
<li><a href="#importers-selector-descriptions-imclosefile">imCloseFile</a>,</li>
<li><a href="#importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8</a>,</li>
<li><a href="#importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8</a>,</li>
<li><a href="#importers-selector-descriptions-imimportimage">imImportImage</a>,</li>
<li><a href="#importers-selector-descriptions-imimportaudio7">imImportAudio7</a></li>
</ul>
<p>A file HANDLE on Windows, or a void* on MacOS.</p>
<p><code>imFileRef</code> is also a member of <code>imFileAccessRec</code>.</p>
<p>Use OS-specific functions, rather than ANSI file functions, when manipulating imFileRef.</p>
<hr />
<h2 id="importers-structure-descriptions-imframeformat">imFrameFormat<a class="headerlink" href="#importers-structure-descriptions-imframeformat" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a> (member of <a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec</a>)</p>
<p>Describes the frame dimensions and pixel format.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">inFrameWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">inFrameHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">inPixelFormat</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imFrameFormat</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inFrameWidth</code></td>
<td>The frame dimensions requested.</td>
</tr>
<tr>
<td><code>inFrameHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>inPixelFormat</code></td>
<td>The pixel format of the frame requested.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imgetaudiochannellayoutrec">imGetAudioChannelLayoutRec<a class="headerlink" href="#importers-structure-descriptions-imgetaudiochannellayoutrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetaudiochannellayout">imGetAudioChannelLayout</a></p>
<p>The importer should label each audio channel in the clip being imported.</p>
<p>If no labels are specified, the channel layout will be assumed to be discrete.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                </span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioChannelLabel</span><span class="w">  </span><span class="n">outChannelLabels</span><span class="p">[</span><span class="n">kMaxAudioChannelCount</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">imGetAudioChannelLayoutRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>outChannelLabels</code></td>
<td>A valid audio channel label should be assigned for each channel in the clip.<br/><br/>Labels are defined in the <a href="#universals-sweetpea-suites-audio-suite">Audio Suite</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imgetnextclosedcaptionrec">imGetNextClosedCaptionRec<a class="headerlink" href="#importers-structure-descriptions-imgetnextclosedcaptionrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetnextclosedcaption">imGetNextClosedCaption</a></p>
<p>This structure provides private data allocated in <code>imInitiateAsyncClosedCaptionScan</code>, and should be filled out to pass back a closed caption, it's time, format, size, and overall progress in the closed caption scan.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                  </span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w">            </span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                  </span><span class="n">inAsyncCaptionScanPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">                  </span><span class="n">outProgress</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">            </span><span class="n">outScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">            </span><span class="n">outSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">            </span><span class="n">outPosition</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrClosedCaptionFormat</span><span class="w">  </span><span class="n">outClosedCaptionFormat</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrMemoryPtr</span><span class="w">            </span><span class="n">outCaptionData</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF8Char</span><span class="w">             </span><span class="n">outTTMLData</span><span class="p">[</span><span class="n">kTTMLBufferSize</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">           </span><span class="n">ioCaptionDataSize</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imGetNextClosedCaptionRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>inAsyncCaptionScanPrivateData</code></td>
<td>This provides any private data that was allocated in <code>imInitiateAsyncClosedCaptionScan</code>.</td>
</tr>
<tr>
<td><code>outProgress</code></td>
<td>Update this value to denote the current progress iterating through all the captions. Valid values are between 0.0 and 1.0.</td>
</tr>
<tr>
<td><code>outScale</code></td>
<td>The timebase of outPosition, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>outSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>outPosition</code></td>
<td>The position of the closed caption.</td>
</tr>
<tr>
<td><code>outClosedCaptionFormat</code></td>
<td>The format of the closed captions. One of the following:<ul><li><code>kPrClosedCaptionFormat_Undefined</code></li><li><code>kPrClosedCaptionFormat_CEA608</code> - CEA-608 byte stream</li><li><code>kPrClosedCaptionFormat_CEA708</code> - CEA-708 byte stream (may contain 608 data wrapped in 708)</li><li><code>kPrClosedCaptionFormat_TTML</code> - W3C TTML string that conforms to the W3C Timed Text Markup Language (TTML) 1.0: <a href="http://www.w3.org/TR/ttaf1-dfxp/">http://www.w3.org/TR/ttaf1-dfxp</a> or optionally conforming to SMPTE ST 2052-1:2010: <a href="http://store.smpte.org/">hhttp://store.smpte.org/</a>, or optionally conforming to EBU Tech 3350 <a href="http://tech.ebu.ch/webdav/site/tech/shared/tech/">http://tech.ebu.ch/webdav/site/tech/shared/tech/</a>).</li></ul>If the TTML string contains tunneled data (e.g. CEA-608 data), then it is preferred that the plugin provide that through the appropriate byte stream format (e.g. <code>kPrClosedCaptionFormat_CEA608</code>).</td>
</tr>
<tr>
<td><code>outCaptionData</code></td>
<td>Memory location to where the plugin should write the closed caption bytes, if providing CEA-608 or CEA-708.</td>
</tr>
<tr>
<td><code>outTTMLData</code></td>
<td>UTF-8 String of valid W3C TTML data.<br/><br/>The entire string may be split into substrings (e.g. line by line) and the host will concatenate and decode them (only used when outCaptionData is kPrClosedCaptionFormat_TTML).</td>
</tr>
<tr>
<td><code>ioCaptionDataSize</code></td>
<td><code>Size</code> of outCaptionData buffer (in bytes) allocated from the host. The importer should set this variable to the actual number of bytes that were written to outCaptionData, or the length of the string (characters, not bytes) pointed by outTTMLData.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imgetprefsrec">imGetPrefsRec<a class="headerlink" href="#importers-structure-descriptions-imgetprefsrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetprefs8">imGetPrefs8</a></p>
<p>Contains settings/prefs data gathered from (or defaults to populate) a setup dialog.</p>
<p>If you are creating media, you can may generate a video preview that includes the background frame from the timeline.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">char</span><span class="w">            </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">prefsLength</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">            </span><span class="n">firstTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">    </span><span class="n">timelineData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">            </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="n">TDB_TimeRecord</span><span class="w">  </span><span class="n">tdbTimelineLocation</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">sessionPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">imageWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">imageHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">pixelAspectNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">pixelAspectDen</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">vidScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">     </span><span class="n">vidSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">           </span><span class="n">sampleRate</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imGetPrefsRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prefs</code></td>
<td>A pointer to a private structure (which you allocate) for storing Clip Source Settings.</td>
</tr>
<tr>
<td><code>prefsLength</code></td>
<td>Prior to storing anything in the prefs member, set prefsLength to the size of your structure and return imNoErr; Premiere will re-size and call the plugin again with <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>firstTime</code></td>
<td>If set, <code>imGetPrefs8</code> is being sent for the first time.<br/><br/>Instead, check to see if prefs has been allocated. If not, <code>imGetPrefs8</code> is being sent for the first time. Set up default values for the prefsLength buffer and present any setup dialog.</td>
</tr>
<tr>
<td><code>timelineData</code></td>
<td><code>Can</code> be passed to getPreviewFrameEx callback along with tdbTimelineLocation to get a frame from the timeline beneath the current clip or timeline location. This is useful for titler plugins.</td>
</tr>
<tr>
<td><code>privatedata</code></td>
<td>Private instance data.<br/><br/>Allocate a handle using Premiere's memory functions and store it here, if not already allocated in <code>imGetInfo8</code>.<br/><br/>Premiere will return the handle with subsequent selectors.</td>
</tr>
<tr>
<td><code>tdbTimelineLocation</code></td>
<td><code>Can</code> be passed to getPreviewFrameEx callback along with timelineData to get a frame from the timeline beneath the current clip or timeline location. This is useful for titler plugins.</td>
</tr>
<tr>
<td><code>sessionPluginID</code></td>
<td>This ID should be used in the <a href="#universals-sweetpea-suites-file-registration-suite">File Registration Suite</a> for registering external files (such as textures, logos, etc) that are used by a importer instance but do not appear as footage in the Project Window.<br/><br/>Registered files will be taken into account when trimming or copying a project using the Project Manager. The sessionPluginID is valid only for the call that it is passed on.</td>
</tr>
<tr>
<td><code>imageWidth</code></td>
<td>New in CS5. The native resolution of the video.</td>
</tr>
<tr>
<td><code>imageHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>pixelAspectNum</code></td>
<td>New in CS5. The pixel aspect ratio of the video.</td>
</tr>
<tr>
<td><code>pixelAspectDen</code></td>
<td></td>
</tr>
<tr>
<td><code>vidScale</code></td>
<td>New in CS5. The frame rate of the video, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>vidSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>sampleRate</code></td>
<td>New in CS5. Audio sample rate.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imimageinforec">imImageInfoRec<a class="headerlink" href="#importers-structure-descriptions-imimageinforec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetinfo8">imGetInfo8</a> (member of <a href="#importers-structure-descriptions-imfileinforec8">imFileInfoRec8</a>)</p>
<p>Describes the video to be imported.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">imageWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">imageHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint16</span><span class="w">  </span><span class="n">pixelAspectV1</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint16</span><span class="w">  </span><span class="n">depth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">subType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">fieldType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">fieldsStacked</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">reserved_1</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">reserved_2</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">alphaType</span><span class="p">;</span>
<span class="w">  </span><span class="n">matteColRec</span><span class="w">   </span><span class="n">matteColor</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">alphaInverted</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">isVectors</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">drawsExternal</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">canForceInternalDraw</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">dontObscure</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">isStill</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">noDuration</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">reserved_3</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">pixelAspectNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">pixelAspectDen</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">isRollCrawl</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">reservedc</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">importerID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">supportsAsyncIO</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">supportsGetSourceVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">hasPulldown</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">pulldownCadence</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">posterFrame</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canTransform</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">interpretationUncertain</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">colorProfileSupport</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">   </span><span class="n">codecDescription</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">colorSpaceSupport</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">frameRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">hasEmbeddedLUT</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">reserved</span><span class="p">[</span><span class="mi">12</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">imImageInfoRec</span><span class="p">;</span>
</code></pre></div>
<h3 id="importers-structure-descriptions-plug-in-info">Plug-in Info<a class="headerlink" href="#importers-structure-descriptions-plug-in-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>importerID</code></td>
<td><code>Can</code> be used as the ID for calls in the <a href="#universals-sweetpea-suites-ppix-cache-suite">PPix Cache Suite</a>.</td>
</tr>
<tr>
<td><code>supportsAsyncIO</code></td>
<td>Set this to true if the importer supports <code>imCreateAsyncImporter</code> and ai* selectors.</td>
</tr>
<tr>
<td><code>supportsGetSourceVideo</code></td>
<td>Set this to true if the importer supports the <code>imGetSourceVideo</code> selector.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-bounds-info">Bounds Info<a class="headerlink" href="#importers-structure-descriptions-bounds-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imageWidth</code></td>
<td>Frame width in pixels.</td>
</tr>
<tr>
<td><code>imageHeight</code></td>
<td>Frame height in pixels.</td>
</tr>
<tr>
<td><code>pixelAspectNum</code></td>
<td>The pixel aspect ratio numerator and denominator.<br/><br/>For synthetic importers, these are by default the PAR of the project.<br/><br/>Only set this if you need a specific PAR for the geometry of the synthesized footage to be correct.</td>
</tr>
<tr>
<td><code>pixelAspectDen</code></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-time-info">Time Info<a class="headerlink" href="#importers-structure-descriptions-time-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isStill</code></td>
<td>If set, the file contains a single frame, so only one frame will be cached.</td>
</tr>
<tr>
<td><code>noDuration</code></td>
<td>One of the following:<ul><li><code>imNoDurationFalse</code></li><li><code>imNoDurationNoDefault</code></li><li><code>imNoDurationStillDefault</code> - use the default duration for stills, as set by the user in the Preferences</li><li><code>imNoDurationNoDefault</code> - the importer will supply it's own duration</li></ul>This is primarily for synthetic clips, but can be used for importing non-sequential still images.</td>
</tr>
<tr>
<td><code>isRollCrawl</code></td>
<td>Set to non-zero value to specify this clip is a rolling or crawling title.<br/><br/>This allows a player to optionally use the <a href="#universals-sweetpea-suites-rollcrawl-suite">RollCrawl Suite</a> to get sections of this title for real-time playback.</td>
</tr>
<tr>
<td><code>hasPulldown</code></td>
<td>Set this to true if the clip contains NTSC film footage with 3:2 pulldown.</td>
</tr>
<tr>
<td><code>pulldownCadence</code></td>
<td>Set this to the enumerated value that describes the pulldown of the clip:<ul><li><code>importer_PulldownPhase_NO_PULLDOWN</code></li></ul><strong>2:3 cadences:</strong><ul><li><code>importer_PulldownPhase_WSSWW</code></li><li><code>importer_PulldownPhase_SSWWW</code></li><li><code>importer_PulldownPhase_SWWWS</code></li><li><code>importer_PulldownPhase_WWWSS</code></li><li><code>importer_PulldownPhase_WWSSW</code></li></ul><strong>24pa cadences:</strong><ul><li><code>importer_PulldownPhase_WWWSW</code></li><li><code>importer_PulldownPhase_WWSWW</code></li><li><code>importer_PulldownPhase_WSWWW</code></li><li><code>importer_PulldownPhase_SWWWW</code></li><li><code>importer_PulldownPhase_WWWWS</code></li></ul></td>
</tr>
<tr>
<td><code>posterFrame</code></td>
<td>New in Premiere Pro CS3. Poster frame number to be displayed.<br/><br/>If not specified, the poster frame will be the first frame of the clip.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-format-info">Format Info<a class="headerlink" href="#importers-structure-descriptions-format-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>depth</code></td>
<td>Bits per pixel. This currently has no effect and should be left unchanged.</td>
</tr>
<tr>
<td><code>subType</code></td>
<td>The four character code of the file's codec; associates files with MAL plugins. For uncompressed files, set to <code>imUncompressed</code>.</td>
</tr>
<tr>
<td><code>fieldType</code></td>
<td>One of the following:<ul><li><code>prFieldsNone</code></li><li><code>prFieldsUpperFirst</code></li><li><code>prFieldsLowerFirst</code></li><li><code>prFieldsUnknown</code></li></ul></td>
</tr>
<tr>
<td><code>fieldsStacked</code></td>
<td>Fields are present, and not interlaced. Deprecated since Premiere Pro 7.0.</td>
</tr>
<tr>
<td><code>alphaType</code></td>
<td>Used when depth is 32 or greater. One of the following:<ul><li><code>alphaNone</code> - no alpha channel (the default)</li><li><code>alphaStraight</code> - straight alpha channel</li><li><code>alphaBlackMatte</code> - premultiplied with black</li><li><code>alphaWhiteMatte</code> - premultiplied with white</li><li><code>alphaArbitrary</code> - premultiplied with the color specified in matteColor</li><li><code>alphaOpaque</code> - for video with alpha channel prefilled to opaque.</li></ul>This gives Premiere the opportunity to make an optimization by skipping the fill to opaque that would otherwise be performed if alphaNone was set.</td>
</tr>
<tr>
<td><code>matteColor</code></td>
<td><code>Newly</code> used in Premiere Pro CS3. Used to specify matte color if <code>alphaType</code> is set to <code>alphaArbitrary</code>.</td>
</tr>
<tr>
<td><code>alphaInverted</code></td>
<td>If non-zero, alpha is treated as inverted (e.g. black becomes transparent).</td>
</tr>
<tr>
<td><code>canTransform</code></td>
<td>Set to non-zero value to specify this importer handles resolution independent files and can apply a transform matrix.<br/><br/>The matrix will be passed during the import request in <code>imImportImageRec.transform</code>.<br/><br/>This code path is currently not called by Premiere Pro. After Effects uses this call to import Flash video.</td>
</tr>
<tr>
<td><code>interpretationUncertain</code></td>
<td>Use an 'or' operator to combine any of the following flags:<ul><li><code>imPixelAspectRatioUncertain</code></li><li><code>imFieldTypeUncertain</code></li><li><code>imAlphaInfoUncertain</code></li><li><code>imEmbeddedColorProfileUncertain</code></li></ul></td>
</tr>
<tr>
<td><code>colorProfileSupport</code></td>
<td>Deprecated as of 13.0. New in CS5.5.<br/><br/>Set to <code>imColorProfileSupport_Fixed</code> to support color management.<br/>If the importer is uncertain, it should use <code>interpretationUncertain</code> above instead.</td>
</tr>
<tr>
<td><code>codecDescription</code></td>
<td>Text description of the codec in use.</td>
</tr>
<tr>
<td><code>ColorProfileRec</code></td>
<td>New in 13.0; describes the color profile being used by the importer, with this media.</td>
</tr>
<tr>
<td><code>colorSpaceSupport</code></td>
<td>Set to <code>imColorSpaceSupport_Fixed</code> to support color management.<br/><br/>If importer is uncertain, it should use <code>imColorSpaceSupport_None</code> above instead.</td>
</tr>
<tr>
<td><code>hasEmbeddedLUT</code></td>
<td>Set to <code>kPrTrue</code> if media contains embedded LUT. Else set to <code>kPrFalse</code>.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-unused">Unused<a class="headerlink" href="#importers-structure-descriptions-unused" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pixelAspectV1</code></td>
<td>Obsolete. Maintained for backwards compatability.<br/><br/>Plugins written for the Premiere 6.x or Premiere Pro API should use <code>pixelAspectNum</code> and <code>pixelAspectDen</code>.</td>
</tr>
<tr>
<td><code>isVectors</code></td>
<td>Use <code>canTransform</code> instead.</td>
</tr>
<tr>
<td><code>drawsExternal</code></td>
<td></td>
</tr>
<tr>
<td><code>canForceInternalDraw</code></td>
<td></td>
</tr>
<tr>
<td><code>dontObscure</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imimportaudiorec7">imImportAudioRec7<a class="headerlink" href="#importers-structure-descriptions-imimportaudiorec7" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imimportaudio7">imImportAudio7</a></p>
<p>Describes the audio samples to be returned, and contains an allocated buffer for the importer to fill in.</p>
<p>Provide the audio in 32-bit float, uninterleaved audio format.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PrAudioSample</span><span class="w">  </span><span class="n">position</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">size</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">          </span><span class="o">**</span><span class="n">buffer</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imImportAudioRec7</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>position</code></td>
<td>In point, in audio sample frames.<br/><br/>The importer should save the out point of the request in privatedata, because if position is less than zero, then the audio request is sequential, which means the importer should return contiguous samples from the last <code>imImportAudio7</code> call.</td>
</tr>
<tr>
<td><code>size</code></td>
<td>The number of audio sample frames to import.</td>
</tr>
<tr>
<td><code>buffer</code></td>
<td>An array of buffers, one buffer for each channel, with length specified in size.<br/><br/>These buffers are allocated by the host application, for the plugin to fill in with audio data.</td>
</tr>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imimportimagerec">imImportImageRec<a class="headerlink" href="#importers-structure-descriptions-imimportimagerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imimportimage">imImportImage</a></p>
<p>Describes the frame to be returned.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">onscreen</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">dstWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">dstHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">dstOriginX</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">dstOriginY</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">srcWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">srcHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">srcOriginX</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">srcOriginY</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">unused2</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">unused3</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">rowbytes</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">           </span><span class="o">*</span><span class="n">pix</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">pixsize</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">pixformat</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">flags</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">    </span><span class="n">fieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">scale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">sampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">in</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">out</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">pos</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">prRect</span><span class="w">         </span><span class="n">alphaBounds</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">applyTransform</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">          </span><span class="n">transform</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
<span class="w">  </span><span class="n">prRect</span><span class="w">         </span><span class="n">destClipRect</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imImportImageRec</span><span class="p">;</span>
</code></pre></div>
<h3 id="importers-structure-descriptions-bounds-info-for-imimportimagerec">Bounds Info (for imImportImageRec)<a class="headerlink" href="#importers-structure-descriptions-bounds-info-for-imimportimagerec" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dstWidth</code></td>
<td>Width of the destination rectangle (in pixels).</td>
</tr>
<tr>
<td><code>dstHeight</code></td>
<td>Height of the destination rectangle (in pixels).</td>
</tr>
<tr>
<td><code>dstOriginX</code></td>
<td>Origin X point (0 indicates the frame is drawn offscreen).</td>
</tr>
<tr>
<td><code>dstOriginY</code></td>
<td>Origin Y point (0 indicates the frame is drawn offscreen).</td>
</tr>
<tr>
<td><code>srcWidth</code></td>
<td>The same number returned as dstWidth.</td>
</tr>
<tr>
<td><code>srcHeight</code></td>
<td>The same number returned as dstHeight.</td>
</tr>
<tr>
<td><code>srcOriginX</code></td>
<td>The same number returned as dstOriginX.</td>
</tr>
<tr>
<td><code>srcOriginY</code></td>
<td>The same number returned as dstOriginY.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-frame-info">Frame Info<a class="headerlink" href="#importers-structure-descriptions-frame-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>rowbytes</code></td>
<td>The number of bytes in a single row of pixels.</td>
</tr>
<tr>
<td><code>pix</code></td>
<td>Pointer to a buffer into which the importer should draw. Allocated based on information from the <code>imGetInfo8</code>.</td>
</tr>
<tr>
<td><code>pixsize</code></td>
<td>The number of pixels. rowbytes * height.</td>
</tr>
<tr>
<td><code>pixformat</code></td>
<td>The pixel format Premiere requests.</td>
</tr>
<tr>
<td><code>flags</code></td>
<td><code>imDraftMode</code> - Draw quickly if possible, using a faster and possibly less accurate algorithm.<br/><br/>This may be passed when playing from the timeline.<br/><br/><code>imSamplesAreFields</code> - Most importers will ignore as Premiere already scales in/out/scale to account for fields, but if you need to know that this has occurred (because maybe you measure something in 'frames'), check this flag.<br/><br/>Also, may we suggest considering measuring in seconds instead of frames?</td>
</tr>
<tr>
<td><code>fieldType</code></td>
<td>If the importer can swap fields, it should render the frame with the given field dominance: either <code>imFieldsUpperFirst</code> or <code>imFieldsLowerFirst</code>.</td>
</tr>
<tr>
<td><code>scale</code></td>
<td>The frame rate of the video, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>sampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>in</code></td>
<td>In point, based on the timebase defined by scale over sampleSize.</td>
</tr>
<tr>
<td><code>out</code></td>
<td>Out point, based on the timebase defined by scale over sampleSize.</td>
</tr>
<tr>
<td><code>pos</code></td>
<td>Import position, based on the above timebase.<br/><br/><strong>API bug</strong>: Synthetic and custom importers will always receive zero.<br/><br/>Thus, adjusting the in point on the timeline will not offset the in point.</td>
</tr>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered during <code>imGetInfo</code> or <code>imGetPrefs</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>alphaBounds</code></td>
<td>This is the rect outside of which the alpha is always 0. Simply do not alter this field if the alpha bounds match the destination bounds.<br/><br/>If set, the alpha bounds must be contained by the destination bounds. This is only currently used when a plugin calls <code>ppixGetAlphaBounds</code>, and not currently used by any native plugins.</td>
</tr>
<tr>
<td><code>applyTransform</code></td>
<td>New in After Effects CS3. Not currently provided by Premiere.<br/><br/>If non-zero, the host is requesting that the importer apply the transform specified in transform and destClipRect before returning the resulting image in pix.</td>
</tr>
<tr>
<td><code>transform</code></td>
<td>New in After Effects CS3. Not currently provided by Premiere. The source to destination transform matrix.</td>
</tr>
<tr>
<td><code>destClipRect</code></td>
<td>New in After Effects CS3. Not currently provided by Premiere. Destination rect inside the bounds of the pix buffer.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imimportinforec">imImportInfoRec<a class="headerlink" href="#importers-structure-descriptions-imimportinforec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-iminit">imInit</a></p>
<p>Describes the importer's capabilities to Premiere.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">importerType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canOpen</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canSave</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canDelete</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canResize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canDoSubsize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canDoContinuousTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">noFile</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">addToMenu</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">hasSetup</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">dontCache</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">setupOnDblClk</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">keepLoaded</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">priority</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canAsync</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canCreate</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canCalcSizes</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canTrim</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">avoidAudioConform</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="o">*</span><span class="n">acceleratorFileExt</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canCopy</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canSupplyMetadataClipName</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="k">private</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canProvidePeakAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canProvideFileList</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canProvideClosedCaptions</span><span class="p">;</span>
<span class="w">  </span><span class="n">prPluginID</span><span class="w">    </span><span class="n">fileInfoVersion</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imImportInfoRec</span><span class="p">;</span>
</code></pre></div>
<h3 id="importers-structure-descriptions-screen-info">Screen Info<a class="headerlink" href="#importers-structure-descriptions-screen-info" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>noFile</code></td>
<td>If set, this is a synthetic importer. The file reference will be zero.</td>
</tr>
<tr>
<td><code>addToMenu</code></td>
<td>If set to <code>imMenuNew</code>, the importer will appear in the File &gt; New menu.</td>
</tr>
<tr>
<td><code>canDoContinuousTime</code></td>
<td>If set, the importer can render frames at arbitrary times and there is no set timecode.<br/>A color matte generator or a titler would set this flag.</td>
</tr>
<tr>
<td><code>canCreate</code></td>
<td>If set, Premiere will treat this synthetic importer as if it creates files on disk to be referenced for frames and audio.<br/><br/>See Additional Details for more information on custom importers.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-file-handling-flags">File Handling Flags<a class="headerlink" href="#importers-structure-descriptions-file-handling-flags" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>canOpen</code></td>
<td>If set, the importer handles open and close operations.<br/>Set if the plugin needs to be called to handle <code>imOpenFile</code>, <code>imQuietFile</code>, and <code>imCloseFile</code>.</td>
</tr>
<tr>
<td><code>canSave</code></td>
<td>If set, the importer handles File &gt; Save and File &gt; Save As after a clip has been captured and must handle the <code>imSaveFile</code> selector.</td>
</tr>
<tr>
<td><code>canDelete</code></td>
<td>If set, the importer can delete its own files.<br/><br/>The plugin must handle the <code>imDeleteFile</code> selector.</td>
</tr>
<tr>
<td><code>canCalcSizes</code></td>
<td>If set, the importer can calculate the disk space used by a clip during imCalcSize.<br/><br/>An importer should support this call if it uses a tree of files represented as one top-level file to Premiere.</td>
</tr>
<tr>
<td><code>canTrim</code></td>
<td>If set, the importer can trim files during imTrimFile.</td>
</tr>
<tr>
<td><code>canCopy</code></td>
<td>Set this to true if the importer supports copying clips in the Project Manager.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-setup-flags">Setup Flags<a class="headerlink" href="#importers-structure-descriptions-setup-flags" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>hasSetup</code></td>
<td>If set, the importer has a setup dialog. The dialog should be presented in response to <code>imGetPrefs</code></td>
</tr>
<tr>
<td><code>setupOnDblClk</code></td>
<td>If set, the setup dialog should be opened whenever the user double clicks on a file imported by the plugin the timeline or the project bin.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-memory-handling-flags">Memory Handling Flags<a class="headerlink" href="#importers-structure-descriptions-memory-handling-flags" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>dontCache</code></td>
<td>Unused.</td>
</tr>
<tr>
<td><code>keepLoaded</code></td>
<td>If set, the importer plugin should never be unloaded.<br/><br/>Don't set this flag unless it's absolutely necessary (it usually isn't).</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-other">Other<a class="headerlink" href="#importers-structure-descriptions-other" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>priority</code></td>
<td>Determines priority levels for importers that handle the same filetype.<br/><br/>Importers with higher numbers will override importers with lower numbers.<br/><br/>For overriding importers that ship with Premiere, use a value of 100 or greater.<br/><br/>Higher-priority importers can defer files to lower-priority importers by returning <code>imBadFile</code> during <code>imOpenFile8</code> or <code>imGetInfo8</code>.</td>
</tr>
<tr>
<td><code>importType</code></td>
<td>Type identifier for the import module assigned based on the plugin's IMPT resource.<br/><br/>Do not modify this field.</td>
</tr>
<tr>
<td><code>canProvideClosedCaptions</code></td>
<td>New in Premiere Pro CC. Set this to true if the importer supports media with embedded closed captioning.</td>
</tr>
<tr>
<td><code>avoidAudioConform</code></td>
<td>Set this to true if the importer supports fast audio retrieval and does not need the audio clips it imports to be conformed.</td>
</tr>
<tr>
<td><code>canProvidePeakAudio</code></td>
<td>New in Premiere Pro CS5.5. Set this to true if your non-synthetic importer wants to provide <strong>peak audio data</strong> using <code>imGetPeakAudio</code>.</td>
</tr>
<tr>
<td><code>acceleratorFileExt</code></td>
<td>Fill this prUTF16Char array of size 256 with the file extensions of accelerator files that the importer creates and uses.</td>
</tr>
<tr>
<td><code>canSupplyMetadataClipName</code></td>
<td>Allows file based importer to set clip name from metadata.<br/><br/>Set this in <code>imFileInfoRec8.streamName</code>.</td>
</tr>
<tr>
<td><code>canProvideFileList</code></td>
<td>New in CS6. Set this to true if the importer will provide a list of all files for a copy operation in response to <code>imQueryInputFileList</code>.</td>
</tr>
<tr>
<td><code>fileInfoVersion</code></td>
<td>New in CC 2014. This is used by an optimization in an internal importer. Do not use.</td>
</tr>
</tbody>
</table>
<h3 id="importers-structure-descriptions-unused-in-imimportinforec">Unused (in imImportInfoRec)<a class="headerlink" href="#importers-structure-descriptions-unused-in-imimportinforec" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>canResize</code></td>
<td></td>
</tr>
<tr>
<td><code>canDoSubsize</code></td>
<td></td>
</tr>
<tr>
<td><code>canAsync</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imindformatrec">imIndFormatRec<a class="headerlink" href="#importers-structure-descriptions-imindformatrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetindformat">imGetIndFormat</a></p>
<p>Describes the format(s) supported by the importer. Synthetic files can only have one format.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">filetype</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">flags</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">canWriteTimecode</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">FormatName</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">FormatShortName</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">PlatformExtension</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">       </span><span class="n">hasAlternateTypes</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">alternateTypes</span><span class="p">[</span><span class="n">kMaxAlternateTypes</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">canWriteMetaData</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imIndFormatRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filetype</code></td>
<td>Unique four character code (fourcc) of the file.</td>
</tr>
<tr>
<td><code>flags</code></td>
<td>Legacy mechanism for describing the importer capabilities.<br/><br/>Though the flags will still be honored for backward compatability, current and future importers should not use these flags.<br/><br/>See table below for details.</td>
</tr>
<tr>
<td><code>canWriteTimecode</code></td>
<td>If set, timecode can be written for this filetype.</td>
</tr>
<tr>
<td><code>FormatName[256]</code></td>
<td>The descriptive importer name.</td>
</tr>
<tr>
<td><code>FormatShortName[256]</code></td>
<td>The short name for the plugin, appears in the format menu.</td>
</tr>
<tr>
<td><code>PlatformExtension[256]</code></td>
<td>List of all the file extensions supported by this importer.<br/><br/>If there's more than one, separate with null characters.</td>
</tr>
<tr>
<td><code>hasAlternateTypes</code></td>
<td>Unused</td>
</tr>
<tr>
<td><code>alternateTypes[kMaxAlternateTypes]</code></td>
<td>Unused</td>
</tr>
<tr>
<td><code>canWriteMetaData</code></td>
<td>New in 6.0. If set, imSetMetaData is supported for the filetype</td>
</tr>
</tbody>
</table>
<p>The flags listed below are only for legacy plugins and should not be used.</p>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Flag</td>
<td>Usage</td>
</tr>
<tr>
<td><code>xfIsMovie</code></td>
<td>Unused</td>
</tr>
<tr>
<td><code>xfCanReplace</code></td>
<td>Unused</td>
</tr>
<tr>
<td><code>xfCanOpen</code></td>
<td>Unused: Use <code>imImportInfoRec.canOpen</code> instead.</td>
</tr>
<tr>
<td><code>xfCanImport</code></td>
<td>Unused: The PiPL resource describes the file as an importer.</td>
</tr>
<tr>
<td><code>xfIsStill</code></td>
<td>Indicates that the importer handles still images.</td>
</tr>
<tr>
<td><code>xfIsSound</code></td>
<td>Unused: Use <code>imFileInfoRec.hasAudio</code> instead.</td>
</tr>
<tr>
<td><code>xfCanWriteTimecode</code></td>
<td>If set, the importer can respond to <code>imGetTimecode</code> and <code>imSetTimecode</code>.<br/><br/>Obsolete: use <code>imIndFormatRec.canWriteTimecode</code> instead.</td>
</tr>
<tr>
<td><code>xfCanWriteMetaData</code></td>
<td>Writes (and reads) metadata, specific to the importer's four character code filetype.<br/><br/>Obsolete: use <code>imIndFormatRec.canWriteMetaData</code> instead.</td>
</tr>
<tr>
<td><code>xfCantBatchProcess</code></td>
<td>Unused</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imindpixelformatrec">imIndPixelFormatRec<a class="headerlink" href="#importers-structure-descriptions-imindpixelformatrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetindpixelformat">imGetIndPixelFormat</a></p>
<p>Describes the pixel format(s) supported by the importer.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">outPixelFormat</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w">    </span><span class="n">prefs</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imIndPixelFormatRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>outPixelFormat</code></td>
<td>One of the pixel formats supported by the importer</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>New in CC. Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-iminitiateasyncclosedcaptionscanrec">imInitiateAsyncClosedCaptionScanRec<a class="headerlink" href="#importers-structure-descriptions-iminitiateasyncclosedcaptionscanrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-iminitiateasyncclosedcaptionscan">imInitiateAsyncClosedCaptionScan</a></p>
<p>Both <code>imGetNextClosedCaption</code> and <code>imCompleteAsyncClosedCaptionScan</code> may be called from a different thread from which imInitiateAsyncClosedCaptionScan was originally called.</p>
<p>To help facilitate this, outAsyncCaptionScanPrivateData can be allocated by the importer to be used for the upcoming closed caption scan calls, which should then be deallocated in <code>imCompleteAsyncClosedCaptionScan</code>.</p>
<p>The estimated duration of all the closed captions can also be filled in.</p>
<p>This is useful for certain cases where the embedded captions contain many frames of empty data.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">outAsyncCaptionScanPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">  </span><span class="n">outScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">  </span><span class="n">outSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">  </span><span class="n">outEstimatedDuration</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imInitiateAsyncClosedCaptionScanRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>outAsyncCaptionScanPrivateData</code></td>
<td>The importer can allocate instance data for this closed caption scan, and pass it back here.</td>
</tr>
<tr>
<td><code>outScale</code></td>
<td>New in CC October 2013. The frame rate of the video clip, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>outSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>outEstimatedDuration</code></td>
<td>New in CC October 2013. The estimated duration of all the captions, in the above timescale</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-immetadatarec">imMetaDataRec<a class="headerlink" href="#importers-structure-descriptions-immetadatarec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetmetadata">imGetMetaData</a> and <a href="#importers-selector-descriptions-imsetmetadata">imSetMetaData</a></p>
<p>Describes the metadata specific to a given four character code.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">          </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">          </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">fourCC</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">buffersize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="o">*</span><span class="n">buffer</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imMetaDataRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>fourcc</code></td>
<td>Fourcc code of the metadata chunk.</td>
</tr>
<tr>
<td><code>buffersize</code></td>
<td><code>Size</code> of the data in buffer.</td>
</tr>
<tr>
<td><code>buffer</code></td>
<td>The metadata.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-impeakaudiorec">imPeakAudioRec<a class="headerlink" href="#importers-structure-descriptions-impeakaudiorec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetpeakaudio">imGetPeakAudio</a></p>
<p>Describes the peak values of the audio at the specified position.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioSample</span><span class="w">  </span><span class="n">inPosition</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">          </span><span class="n">inSampleRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">inNumSampleFrames</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">          </span><span class="o">**</span><span class="n">outMaxima</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">          </span><span class="o">**</span><span class="n">outMinima</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imPeakAudioRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Instance data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>inPosition</code></td>
<td>The starting audio sample frame of the peak data.</td>
</tr>
<tr>
<td><code>inSampleRate</code></td>
<td>The sample rate at which to generate the peak data.</td>
</tr>
<tr>
<td><code>inNumSampleFrames</code></td>
<td>The number of sample frames in each buffer.</td>
</tr>
<tr>
<td><code>outMaxima</code></td>
<td>An array of arrays to be filled with the maximum sample values.</td>
</tr>
<tr>
<td><code>outMinima</code></td>
<td>An array of arrays to be filled with the minimum sample values.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-impreferredframesizerec">imPreferredFrameSizeRec<a class="headerlink" href="#importers-structure-descriptions-impreferredframesizerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetpreferredframesize">imGetPreferredFrameSize</a></p>
<p>Describes a frame size preferred by the importer.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">           </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">inPixelFormat</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">inIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outHeight</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imPreferredFrameSizeRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>inPixelFormat</code></td>
<td>The pixel format for this preferred frame size.</td>
</tr>
<tr>
<td><code>inIndex</code></td>
<td>The index of this preferred frame size.</td>
</tr>
<tr>
<td><code>outWidth</code></td>
<td>The dimensions of this preferred frame size.</td>
</tr>
<tr>
<td><code>outHeight</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imquerycontentstaterec">imQueryContentStateRec<a class="headerlink" href="#importers-structure-descriptions-imquerycontentstaterec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imquerycontentstate">imQueryContentState</a></p>
<p>Fill in the outContentStateID, which should be a GUID calculated based on the content state of the clip at inSourcePath.</p>
<p>If the state hasn't changed since the last call, the GUID returned should be the same.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">inSourcePath</span><span class="p">;</span>
<span class="w">  </span><span class="n">prPluginID</span><span class="w">          </span><span class="n">outContentStateID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imQueryContentStateRec</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="importers-structure-descriptions-imquerydestinationpathrec">imQueryDestinationPathRec<a class="headerlink" href="#importers-structure-descriptions-imquerydestinationpathrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imquerydestinationpath">imQueryDestinationPath</a></p>
<p>Fill in the desired <code>outActualDestinationPath</code>, based on the <code>inSourcePath</code> and <code>inSuggestedDestinationPath</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">               </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">               </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">  </span><span class="o">*</span><span class="n">inSourcePath</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">  </span><span class="o">*</span><span class="n">inSuggestedDestinationPath</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">        </span><span class="o">*</span><span class="n">outActualDestinationPath</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imQueryDestinationPathRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>inSourcePath</code></td>
<td>The path of the source file to be trimmed</td>
</tr>
<tr>
<td><code>inSuggestedDestinationPath</code></td>
<td>The path suggested by Premiere where the destination file should be created.</td>
</tr>
<tr>
<td><code>outActualDestinationPath</code></td>
<td>The path where the importer wants the destination file to be created.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imqueryinputfilelistrec">imQueryInputFileListRec<a class="headerlink" href="#importers-structure-descriptions-imqueryinputfilelistrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imqueryinputfilelist">imQueryInputFileList</a></p>
<p>Fill in the outContentStateID, which should be a GUID calculated based on the content state of the clip at <code>inSourcePath</code>.</p>
<p>If the state hasn't changed since the last call, the GUID returned should be the same.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">  </span><span class="n">inBasePath</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">outNumFilePaths</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">  </span><span class="o">*</span><span class="n">outFilePaths</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imQueryInputFileListRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>inPrefs</code></td>
<td>Clip Source Settings data gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>inBasePath</code></td>
<td>Path of main file that was passed earlier in <code>imOpenFile</code>.</td>
</tr>
<tr>
<td><code>outNumFilePaths</code></td>
<td>The first time <code>imQueryInputFileList</code> is sent, fill in the number of files that the media uses.</td>
</tr>
<tr>
<td><code>outFilePaths</code></td>
<td>The second time <code>imQueryInputFileList</code> is sent, this will be preallocated as an array of NULL strings.<br/><br/>Use the <a href="#universals-sweetpea-suites-string-suite">String Suite</a> to fill the array with PrSDKStrings with the actual paths.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imquerystreamlabelrec">imQueryStreamLabelRec<a class="headerlink" href="#importers-structure-descriptions-imquerystreamlabelrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imquerystreamlabel">imQueryStreamLabel</a></p>
<p>New in CS6. Based on the stream ID passed in, allocate and pass back a label for the stream.</p>
<p>For stereoscopic importers, use the predefined labels in PrSDKStreamLabel.h.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">          </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="o">*</span><span class="n">inPrefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inStreamIdx</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outStreamLabel</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imQueryStreamLabelRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>inStreamIdx</code></td>
<td>The ID of the stream that needs to be labeled.</td>
</tr>
<tr>
<td><code>outStreamLabel</code></td>
<td>The stream label, allocated using the <a href="#universals-sweetpea-suites-string-suite">String Suite</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imsavefilerec8">imSaveFileRec8<a class="headerlink" href="#importers-structure-descriptions-imsavefilerec8" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imsavefile8">imSaveFile8</a></p>
<p>Describes the file to be saved.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">sourcePath</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">destPath</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">                </span><span class="n">move</span><span class="p">;</span>
<span class="w">  </span><span class="n">importProgressFunc</span><span class="w">  </span><span class="n">progressCallback</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">progressCallbackID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imSaveFileRec8</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered from <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered from <code>imGetPrefs8</code> (setup dialog info).</td>
</tr>
<tr>
<td><code>sourcePath</code></td>
<td>Full path of the file to be saved.</td>
</tr>
<tr>
<td><code>destPath</code></td>
<td>Full path the file should be saved to.</td>
</tr>
<tr>
<td><code>move</code></td>
<td>If non-zero, this is a move operation and the original file (the sourcePath) can be deleted after copying is complete.</td>
</tr>
<tr>
<td><code>progressCallback</code></td>
<td>Function to call repeatedly to provide progress and to check for cancel by user. May be a NULL pointer, so make sure the function pointer is valid before calling.</td>
</tr>
<tr>
<td><code>progressCallbackID</code></td>
<td>Pass to <code>progressCallback</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imsourcevideorec">imSourceVideoRec<a class="headerlink" href="#importers-structure-descriptions-imsourcevideorec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a>, <code>aiInitiateAsyncRead</code>, <code>aiGetFrame</code></p>
<p>Describes the requested frame, to be passed back in outFrame.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">              </span><span class="o">*</span><span class="n">inPrivateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">currentStreamIdx</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">            </span><span class="n">inFrameTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">imFrameFormat</span><span class="w">     </span><span class="o">*</span><span class="n">inFrameFormats</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">inNumFrameFormats</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w">              </span><span class="n">removePulldown</span><span class="p">;</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">          </span><span class="o">*</span><span class="n">outFrame</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">              </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">prefsSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">       </span><span class="n">selectedColorProfileName</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">   </span><span class="n">inQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">imRenderContext</span><span class="w">   </span><span class="n">inRenderContext</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKColorSpaceID</span><span class="w">   </span><span class="n">opaqueColorSpaceIdentifier</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imSourceVideoRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPrivateData</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>currentStreamIdx</code></td>
<td>New in CS6. If the clip has multiple streams (for stereoscopic video or otherwise), this ID differentiates between them.</td>
</tr>
<tr>
<td><code>inFrameTime</code></td>
<td>Time of frame requested.</td>
</tr>
<tr>
<td><code>inFrameFormats</code></td>
<td>An array of requested frame formats, in order of preference. If NULL, then any format is acceptable.</td>
</tr>
<tr>
<td><code>inNumFrameFormats</code></td>
<td>The number of frame formats in the <code>inFrameFormats</code>.</td>
</tr>
<tr>
<td><code>removePulldown</code></td>
<td>If true, pulldown should be removed if the pixel format supports it.</td>
</tr>
<tr>
<td><code>outFrame</code></td>
<td>Allocate memory to hold the requested frame, and pass it back here.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>New in Premiere Pro 4.1. prefs data from <code>imGetPrefs8</code></td>
</tr>
<tr>
<td><code>prefsSize</code></td>
<td>New in Premiere Pro 4.1. Size of prefs data.</td>
</tr>
<tr>
<td><code>selectedColorProfileName</code></td>
<td>New in Premiere Pro CS5.5. A string that specifies the color profile of the imported frame.</td>
</tr>
<tr>
<td><code>inQuality</code></td>
<td>New in Premiere Pro CC 2014.</td>
</tr>
<tr>
<td><code>inQuality</code></td>
<td>New in Premiere Pro CC 2014.</td>
</tr>
<tr>
<td><code>inQuality</code></td>
<td>New in Premiere Pro CC 2014.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imsubtypedescriptionrec">imSubTypeDescriptionRec<a class="headerlink" href="#importers-structure-descriptions-imsubtypedescriptionrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetsubtypenames">imGetSubTypeNames</a></p>
<p>Added in Premiere Pro CS3. Describes the codec name associated with a given fourcc.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">subType</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">  </span><span class="n">subTypeName</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">imSubTypeDescriptionRec</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="importers-structure-descriptions-imtimeinforec8">imTimeInfoRec8<a class="headerlink" href="#importers-structure-descriptions-imtimeinforec8" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgettimeinfo8">imGetTimeInfo8</a> and <a href="#importers-selector-descriptions-imsettimeinfo8">imSetTimeInfo8</a></p>
<p>Describes the timecode and timecode rate associated with a clip.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">         </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">orgtime</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">orgScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">orgSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">alttime</span><span class="p">[</span><span class="mi">18</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">altScale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">altSampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">orgreel</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">altreel</span><span class="p">[</span><span class="mi">40</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w">         </span><span class="n">logcomment</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">dataType</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imTimeInfoRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip Source Settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>orgtime[18]</code></td>
<td>The original time in hours;minutes;seconds;frames, as captured from the source reel.<br/><br/>The use of semi-colons indicates (to Premiere) drop-frame timecode, e.g. "00;00;00;00".<br/><br/>Use colons for non-drop-frame timecode, e.g. "00:00:00:00".</td>
</tr>
<tr>
<td><code>orgScale</code></td>
<td>Timebase of the timecode in orgtime, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>orgSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>alttime[18]</code></td>
<td>An alternative timecode (may differ from the source timecode), formatted as described above.</td>
</tr>
<tr>
<td><code>altScale</code></td>
<td>Timebase of the timecode in alttime.</td>
</tr>
<tr>
<td><code>altSampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>orgreel[40]</code></td>
<td>Original reel name.</td>
</tr>
<tr>
<td><code>altreel[40]</code></td>
<td>Alternate reel name.</td>
</tr>
<tr>
<td><code>logcomment[256]</code></td>
<td>Comment string.</td>
</tr>
<tr>
<td><code>dataType</code></td>
<td>Currently always set to 1, denoting SMPTE timecode. More values may be added in the future.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imtrimfilerec8">imTrimFileRec8<a class="headerlink" href="#importers-structure-descriptions-imtrimfilerec8" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imtrimfile8">imTrimFile8</a></p>
<p>Describes how to trim a clip, based on information returned by the importer during <code>imCheckTrim8</code>.</p>
<p>Also provides a callback to update the progress bar and check if the user has cancelled.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">prefs</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">trimIn</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">duration</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">keepAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">keepVideo</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="o">*</span><span class="n">destFilePath</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">scale</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">sampleSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">importProgressFunc</span><span class="w">  </span><span class="n">progressCallback</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                </span><span class="o">*</span><span class="n">progressCallbackID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imTrimFileRec8</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Instance data gathered during <code>imGetInfo8</code> or <code>imGetPrefs8</code>.</td>
</tr>
<tr>
<td><code>prefs</code></td>
<td>Clip settings data gathered during <code>imGetPrefs8</code> (setup dialog).</td>
</tr>
<tr>
<td><code>trimIn</code></td>
<td>In point of the trimmed clip, in the timebase specified by scale and sampleSize.</td>
</tr>
<tr>
<td><code>duration</code></td>
<td>Duration of the trimmed clip. If 0, then the request is to leave the clip untrimmed, and at the current duration</td>
</tr>
<tr>
<td><code>keepAudio</code></td>
<td>If non-zero, the request is to keep the audio in the trimmed result.</td>
</tr>
<tr>
<td><code>keepVideo</code></td>
<td>If non-zero, the request is to keep the video in the trimmed result.</td>
</tr>
<tr>
<td><code>destFilePath</code></td>
<td>The unicode path and name of the file to create.</td>
</tr>
<tr>
<td><code>scale</code></td>
<td>The frame rate of the video, represented as scale over sampleSize.</td>
</tr>
<tr>
<td><code>sampleSize</code></td>
<td></td>
</tr>
<tr>
<td><code>progressCallback</code></td>
<td><code>importProgressFunc</code> callback to call repeatedly to provide progress and to check for cancel by user.<br/><br/>May be a NULL pointer, so make sure the function pointer is valid before calling.</td>
</tr>
<tr>
<td><code>progressCallbackID</code></td>
<td>Pass to <code>progressCallback</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imindcolorspacerec">imIndColorSpaceRec<a class="headerlink" href="#importers-structure-descriptions-imindcolorspacerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetindcolorspace">imGetIndColorSpace</a></p>
<p>Describes the colorspace of the media.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="n">ColorSpaceRec</span><span class="w"> </span><span class="n">imIndColorSpaceRec</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="w">                 </span><span class="o">*</span><span class="n">privatedata</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKColorSpaceType</span><span class="w">  </span><span class="n">outColorSpaceType</span><span class="p">;</span>
<span class="w">  </span><span class="n">RawColorProfileRec</span><span class="w">   </span><span class="n">ioProfileRec</span><span class="p">;</span>
<span class="w">  </span><span class="n">prSEIColorCodesRec</span><span class="w">   </span><span class="n">outSEICodesRec</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">ColorSpaceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Private.</td>
</tr>
<tr>
<td><code>outColorSpaceType</code></td>
<td>One of the following:<ul><li><code>kPrSDKColorSpaceType_Undefined</code></li><li><code>kPrSDKColorSpaceType_ICC</code></li><li><code>kPrSDKColorSpaceType_LUT</code> // DO NOT USE after 14.x.</li><li><code>kPrSDKColorSpaceType_SEITags</code></li><li><code>kPrSDKColorSpaceType_MXFTags</code> // DO NOT USE, Not supported.</li><li><code>kPrSDKColorSpaceType_Predefined</code></li></ul></td>
</tr>
<tr>
<td><code>ioProfileRec</code></td>
<td>A structure describing the color profile.<pre>csSDK_int32  ioBufferSize;<br/>void*        inDestinationBuffer;<br/>PrSDKString  outName;</pre></td>
</tr>
<tr>
<td><code>outSEICodesRec</code></td>
<td>A structure describing the color space using codes; used with H.265, HEVC, AVC and<br/>ProRes media.<pre>csSDK_int32  colorPrimariesCode;<br/>csSDK_int32  transferCharacteristicCode;<br/>csSDK_int32  matrixEquationsCode;<br/>csSDK_int32  bitDepth;<br/>prBool       isFullRange;<br/>prBool       isRGB;</pre></td>
</tr>
</tbody>
</table>
<h2 id="importers-structure-descriptions-rawcolorspacerec">RawColorSpaceRec<a class="headerlink" href="#importers-structure-descriptions-rawcolorspacerec" title="Permanent link">&para;</a></h2>
<p>Selector: <code>imGetIndColorSpace</code></p>
<p>Describes the colorspace in use with the media.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span>
<span class="w">        </span><span class="n">PrSDKColorSpaceType</span><span class="w">           </span><span class="n">colorSpaceType</span><span class="p">;</span>
<span class="w">        </span><span class="n">RawColorProfileRec</span><span class="w">            </span><span class="n">profileRec</span><span class="p">;</span><span class="w">   </span><span class="c1">// for ICC and Predefined Color Spaces</span>
<span class="w">        </span><span class="n">prSEIColorCodesRec</span><span class="w">            </span><span class="n">seiCodesRec</span><span class="p">;</span><span class="w">  </span><span class="c1">// H-265 codes for HEVC, AVC, ProRes</span>
<span class="p">}</span><span class="w"> </span><span class="n">RawColorSpaceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>colorSpaceType</code></td>
<td>One of the following:<ul><li><code>kPrSDKColorSpaceType_Undefined</code></li><li><code>kPrSDKColorSpaceType_ICC</code></li><li><code>kPrSDKColorSpaceType_LUT</code> // DO NOT USE after 14.x.</li><li><code>kPrSDKColorSpaceType_SEITags</code></li><li><code>kPrSDKColorSpaceType_MXFTags</code> // DO NOT USE, Not supported.</li><li><code>kPrSDKColorSpaceType_Predefined</code></li></ul></td>
</tr>
<tr>
<td>profileRec</td>
<td>A structure describing the color space.<pre>csSDK_int32  ioBufferSize;<br/>void*        inDestinationBuffer;<br/>PrSDKString  outName;</pre></td>
</tr>
<tr>
<td><code>seiCodesRec</code></td>
<td>A structure describing the color space; used with H.265, HEVC, AVC and ProRes media.<pre>csSDK_int32  colorPrimariesCode;<br/>csSDK_int32  transferCharacteristicCode;<br/>csSDK_int32  matrixEquationsCode;<br/>csSDK_int32  bitDepth;<br/>prBool       isFullRange;<br/>prBool       isRGB;</pre></td>
</tr>
</tbody>
</table>
<p>Colorspace can be described via multiple way, type depends on <code>colorSpaceType</code>.</p>
<p>If type is <code>kPrSDKColorSpaceType_Predefined</code> - Color space is specified via predefined strings from <code>PrSDKColorSpaces.h</code>.</p>
<p>If type is <code>kPrSDKColorSpaceType_ICC</code> - Color space is specified via ICC profile in <code>profileRec</code>.</p>
<p>If type is <code>kPrSDKColorSpaceType_SEITags</code> - Color space is specified via enums codes for color primaries (C), transfer characteristic (T),  matrix equation (M). Supported C-T-M enums are defined in <code>PrSDKColorSEICodes.h</code>.</p>
<hr />
<h2 id="importers-structure-descriptions-embeddedlutrec">EmbeddedLUTRec<a class="headerlink" href="#importers-structure-descriptions-embeddedlutrec" title="Permanent link">&para;</a></h2>
<p>Selector: <code>imGetIndColorSpace</code></p>
<p>Describes the LUT embedded with in the media.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">               </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">RawColorProfileRec</span><span class="w">  </span><span class="n">lutBlobRec</span><span class="p">;</span>
<span class="w">  </span><span class="n">RawColorSpaceRec</span><span class="w">    </span><span class="n">lutInColorSpaceRec</span><span class="p">;</span>
<span class="w">  </span><span class="n">RawColorSpaceRec</span><span class="w">    </span><span class="n">lutOutColorSpaceRec</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">EmbeddedLUTRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>privatedata</code></td>
<td>Private.</td>
</tr>
<tr>
<td><code>lutBlobRec</code></td>
<td>Describes the embedded LUT.</td>
</tr>
<tr>
<td><code>lutInColorSpaceRec</code></td>
<td>Describes the LUT input colorspace rec.</td>
</tr>
<tr>
<td><code>lutOutColorSpaceRec</code></td>
<td>Describes the LUT output colorspace rec.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="importers-structure-descriptions-imrendercontext">imRenderContext<a class="headerlink" href="#importers-structure-descriptions-imrendercontext" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#importers-selector-descriptions-imgetsourcevideo">imGetSourceVideo</a> (member of <a href="#importers-structure-descriptions-imsourcevideorec">imSourceVideoRec</a>)</p>
<p>Describes the context of the render; why it's occurring, and what rate and ratio is in use.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">imRenderIntent</span><span class="w"> </span><span class="n">inIntent</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">inPlaybackRatio</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">inPlaybackRate</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">imRenderContext</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inIntent</code></td>
<td>The intent of the render being requested.<ul><li><code>imRenderIntent_Unknown</code> (-1)</li><li><code>imRenderIntent_Export</code> 0</li><li><code>imRenderIntent_Stopped</code> // DO NOT USE after 14.x.</li><li><code>imRenderIntent_Scrubbing</code></li><li><code>imRenderIntent_Preroll</code></li><li><code>imRenderIntent_Playing</code></li><li><code>imRenderIntent_SpeculativePrefetch</code></li><li><code>imRenderIntent_Thumbnail</code> // DO NOT USE after 14.x.</li><li><code>imRenderIntent_Analysis</code></li><li><code>imRenderIntent_ExportPreview</code></li><li><code>imRenderIntent_ExportProxies</code></li></ul></td>
</tr>
<tr>
<td><code>inPlaybackRatio</code></td>
<td><code>1.0</code> means full framerate, lower values indicate deteriorating playback.</td>
</tr>
<tr>
<td><code>inPlaybackRate</code></td>
<td><code>1.0</code> means 1x forward, <code>-1.0</code> means 1x backward.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="importers-suites"><h1 id="importers-suites-suites">Suites<a class="headerlink" href="#importers-suites-suites" title="Permanent link">&para;</a></h1>
<h2 id="importers-suites-suites_1">Suites<a class="headerlink" href="#importers-suites-suites_1" title="Permanent link">&para;</a></h2>
<p>For information on how to acquire and manage suites, see <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<h3 id="importers-suites-async-file-reader-suite">Async File Reader Suite<a class="headerlink" href="#importers-suites-async-file-reader-suite" title="Permanent link">&para;</a></h3>
<p>New in Premiere Pro CS5. A cross-platform file handling suite.</p>
<h3 id="importers-suites-deferred-processing-suite">Deferred Processing Suite<a class="headerlink" href="#importers-suites-deferred-processing-suite" title="Permanent link">&para;</a></h3>
<p>Allows an importer to schedule processing time when importing asynchronously, and to notify the user that the media item is pending additional processing.</p>
<p>In the Project panel, the name of the item will be italicized, and its thumbnail will show as Pending.</p></section><h1 class='nav-section-title-end'>Ended: Importers</h1>
                        <h1 class='nav-section-title' id='section-export-controllers'>
                            Export Controllers <a class='headerlink' href='#section-export-controllers' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="export-controllers-export-controllers"><h1 id="export-controllers-export-controllers-export-controllers">Export Controllers<a class="headerlink" href="#export-controllers-export-controllers-export-controllers" title="Permanent link">&para;</a></h1>
<p>Starting in Premiere Pro 5.0.2, an export controller can drive any exporter to generate a file in any format and perform custom post-processing operations. Developers wanting to integrate Premiere Pro with an asset management system will want to use this API instead.</p>
<p>An export controller adds its own custom menu item to the File &gt; Export submenu. When the user chooses the menu item, the plugin is called with a TimelineID, which represents the current sequence. Although details on the current sequence are not passed in, the export controller can use the <a href="#universals-sweetpea-suites-sequence-info-suite">Sequence Info Suite</a> to query for various properties. The export controller can then optionally display any custom modal UI to allow the user to set any parameters for the export.</p>
<p>This UI will need to be provided by the export controller.</p>
<p>The export controller should then call ExportFile in the Export Controller Suite, which takes the TimelineID, a path to an exporter preset, and a path for the output. This will tell Premiere Pro to handle the export, displaying progress. The call will return either a success value, an error, or that the user canceled. During the export, the UI will be blocked, just as when doing a standard export that doesn't use the Adobe Media Encoder Render Queue.</p>
<p>Once Premiere Pro completes the export, the call will return to the export controller. The plugin can then perform any post-processing operations, such as transferring the newly exported file over the network, or registering the file in an asset management system.</p></section><h1 class='nav-section-title-end'>Ended: Export Controllers</h1>
                        <h1 class='nav-section-title' id='section-exporters'>
                            Exporters <a class='headerlink' href='#section-exporters' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="exporters-exporters"><h1 id="exporters-exporters-exporters">Exporters<a class="headerlink" href="#exporters-exporters-exporters" title="Permanent link">&para;</a></h1>
<p>Exporters are used to export video, audio, and markers in any format. Exporters get individual video frames in a requested pixel format (generally, uncompressed video) and uncompressed audio. The exporter is responsible for any compression of the video and audio data, and wrapping the output in a file format. To reuse an existing exporter, you may provide an export controller.</p>
<p>Exporters can be used from within Premiere Pro, or from Adobe Media Encoder. From within Premiere Pro, go to the File &gt; Export &gt; Media dialog. From there, the Export Settings dialog appears. The format chosen in the Format drop-down determines the exporter used, and the exporter provides the parameter settings and summary displayed in the Export Settings dialog.</p>
<p>Exporters can optionally provide hardware acceleration by coordinating with a renderer plugin to render timeline segments. Legacy editing modes are formed by the combination of an exporter and a player; the exporter generates preview files and the player manages the cutlist.</p>
<p>If you've never developed an exporter before, you can skip <a href="#exporters-whats-new">Whats New</a>, and go directly to <a href="#exporters-getting-started">Getting Started</a>.</p></section><section class="print-page" id="exporters-whats-new"><h1 id="exporters-whats-new-whats-new">Whats New<a class="headerlink" href="#exporters-whats-new-whats-new" title="Permanent link">&para;</a></h1>
<h2 id="exporters-whats-new-whats-new-in-cc">What's New in CC<a class="headerlink" href="#exporters-whats-new-whats-new-in-cc" title="Permanent link">&para;</a></h2>
<p>A new Captions tab has been added to the Export Settings, for Closed Captioning export. For all formats, a sidecar file containing the captions can be exported.</p>
<p>To learn how exporters can optionally embed Closed Captioning directly in the output file, see <a href="#exporters-getting-started-closed-captioning">Closed Captioning</a>.</p>
<p>Two new selectors have been added to GetExportSourceInfo in the <a href="#exporters-suites-export-info-suite">Export Info Suite</a>. You can use <code>kExportInfo_UsePreviewFiles</code> to check if the user has checked "Use Previews" in the Export Settings dialog. If so, if possible, reuse any preview files already rendered. You can use <code>kExportInfo_NumAudioChannels</code> to get the number of audio channels in a given source.</p>
<p>This can be used to automatically initialize the audio channel parameter in the Audio tab of the Export Settings to match the source.</p>
<p>In the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>, a new function, <code>MoveParam()</code>, can be used to move an existing parameter to a new location.</p>
<hr />
<h2 id="exporters-whats-new-whats-new-in-cs6">What's New in CS6<a class="headerlink" href="#exporters-whats-new-whats-new-in-cs6" title="Permanent link">&para;</a></h2>
<p>Exporters can now use the <a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a> for "push" model compression. The exporter host can simply push frames to a thread-safe exporter-specified callback. This will cut down on the code previously required for render loop management. It should also yield substantial performance increases for exporters that haven't finely tuned their multithreaded rendering. The "pull" model is still supported, and required for Encore and legacy versions of Premiere Pro and Media Encoder.</p>
<p>The new <a href="#exporters-suites-export-standard-param-suite">Export Standard Param Suite</a> provides the standard parameters used in many built-in exporters. This can greatly reduce the amount of code needed to manage standard parameters for a typical exporter, and guarantee consistency with built-in exporters.</p>
<p>Stereoscopic video is now supported when exporting directly from Premiere Pro. In other words, when exports are queued to run in Adobe Media Encoder, they can not get stereoscopic video.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, stereoscopic exporters must use the "pull" model and the new <code>MakeVideoRendererForTimelineWithStreamLabel()</code> to get rendered frames from multiple video streams.</p>
</div>
<p><a href="#exporters-suites-export-param-suite">Export Param Suite</a> now adds SetParamDescription(), to set tooltip strings for parameters. For the three line Export Summary description in the Export Settings dialog, we've swapped the 2nd and 3rd lines so that the bitrate summary comes after the audio summary. We've renamed the structure to make developers aware of this during a recompile.</p>
<p>Adobe Media Encoder now includes a Preset Browser that provides more organization for presets. Make sure your presets take advantage of this organization, and are shown in your desired proper location in the Preset Browser.</p>
<p>Exporters can now set events (error, warning, or info) for a specific encode in progress in the Adobe Media Encoder render queue. The existing call in the <a href="#universals-sweetpea-suites-error-suite">Error Suite</a> is not sufficient for AME to relate the event to a specific encode. So the new <a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a> provides a way for exporters running either in Premiere Pro or Adobe Media Encoder to log events. These events are displayed in the application UI, and are also added to the AME encoding log.</p>
<p>Multiple exporters are now supported in a single plugin. To support this, <code>exExporterInfoRec</code> is now set to exporters on <em>exShutdown</em>.</p>
<p><code>exQueryOutputSettingsRec</code> has a new member, <code>outUseMaximumRenderPrecision</code>, moving knowledge of this render parameter to the exporter.</p>
<hr />
<h2 id="exporters-whats-new-whats-new-in-cs55">What's New in CS5.5<a class="headerlink" href="#exporters-whats-new-whats-new-in-cs55" title="Permanent link">&para;</a></h2>
<p>A new call, <code>RenderVideoFrameAndConformToPixelFormat</code>, has been added to the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a>. This allows an exporter to request a rendered frame and then conform it to a specific pixel format.</p>
<p>A new return value, <code>exportReturn_ParamButtonCancel</code>, has been added to signify that an exporter is returning from <code>exSelParamButton</code> without modifying anything.</p>
<h3 id="exporters-whats-new-export-controller-api">Export Controller API<a class="headerlink" href="#exporters-whats-new-export-controller-api" title="Permanent link">&para;</a></h3>
<p>We have opened up a new export controller API that can drive any exporter to generate a file in any format and perform custom post-processing operations. Developers wanting to integrate Premiere Pro with an asset management system will want to use this API instead.</p>
<hr />
<h2 id="exporters-whats-new-whats-new-in-cs5">What's New in CS5<a class="headerlink" href="#exporters-whats-new-whats-new-in-cs5" title="Permanent link">&para;</a></h2>
<p><code>exQueryOutputFileListAfterExportRec</code> is now <code>exQueryOutputFileListRec</code>, with a slight change to the structure order.</p>
<p>We've also fixed a few bugs, such as bug 1925419, where all sliders would be given a checkbox to disable the control, as if exParamFlag_optional had been set.</p>
<p>We've made a couple new attributes available to exporters via the <code>GetExportSourceInfo()</code> call - the video poster frame time, and the source timecode.</p>
<p>3rd-party exporters can now be used to transcode assets to MPEG-2 or Blu-ray compliant files.</p>
<hr />
<h2 id="exporters-whats-new-porting-from-the-compiler-api">Porting From the Compiler API<a class="headerlink" href="#exporters-whats-new-porting-from-the-compiler-api" title="Permanent link">&para;</a></h2>
<p>The export API replaces the old compiler API from CS3 and earlier versions. The export API combines the processing speed and quality of the old compiler API, with the UI flexibility of Media Encoder. Although the selectors and structures have been renamed and reorganized, much of the code that deals with rendering and writing frames is mostly the same.</p>
<p>The parameter UI is what has changed the most. Rather than having a standard set of parameters as standard compilers had, or having a completely custom UI as custom compilers had, in</p>
<p>the new exporter API, all parameters must be explicitly added using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>. First register the parameters during <code>exSelGenerateDefaultParams</code>, and then provide the localized strings and constrained parameter values during <code>exSelPostProcessParams</code>. When the exporter is sent <code>exSelExport</code> to export, get the parameter values, again using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p></section><section class="print-page" id="exporters-getting-started"><h1 id="exporters-getting-started-getting-started">Getting Started<a class="headerlink" href="#exporters-getting-started-getting-started" title="Permanent link">&para;</a></h1>
<p>Start your plugin by modifying the SDK sample. Step through the code in your debugger to learn the order of events.</p>
<hr />
<h2 id="exporters-getting-started-media-encoder-as-a-test-harness">Media Encoder as a Test Harness<a class="headerlink" href="#exporters-getting-started-media-encoder-as-a-test-harness" title="Permanent link">&para;</a></h2>
<p>It may be faster to developing exporters using Media Encoder, since it is a lighter-weight application. However, you will want to test your exporter in Premiere Pro, to make sure the behavior is the same as when running in Media Encoder.</p>
<hr />
<h2 id="exporters-getting-started-adding-parameters">Adding Parameters<a class="headerlink" href="#exporters-getting-started-adding-parameters" title="Permanent link">&para;</a></h2>
<p>Starting in CS6, the <a href="#exporters-suites-export-standard-param-suite">Export Standard Param Suite</a> provides a way to add several basic sets of parameters, whether for video, audio, still sequences, etc. Beyond the standard parameters, custom defined parameters can be added using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<p>First register the parameters during <code>exSelGenerateDefaultParams</code>. Then provide the localized strings and min/max parameter values during <code>exSelPostProcessParams</code>. When the exporter is sent <code>exSelExport</code> to export, get the user-specified parameter values using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<hr />
<h2 id="exporters-getting-started-updating-parameters-dynamically">Updating Parameters Dynamically<a class="headerlink" href="#exporters-getting-started-updating-parameters-dynamically" title="Permanent link">&para;</a></h2>
<p>Parameters can be updated dynamically based on user interaction with any related parameter. The time to update is during the <code>exSelValidateParamChanged</code> selector. Use ChangeParam in the <a href="#exporters-suites-export-param-suite">Export Param Suite</a> to make the change. Then, set <code>exParamChangedRec.rebuildAllParams</code> to true before returning. If you don't set that flag, parameters may appear out of order after a change.</p>
<hr />
<h2 id="exporters-getting-started-supporting-match-source">Supporting "Match Source"<a class="headerlink" href="#exporters-getting-started-supporting-match-source" title="Permanent link">&para;</a></h2>
<p>The exporter must set <code>exExporterInfoRec.canMatchSource</code> to true. This will add the Match Source button to the Video tab in the Export Settings.</p>
<p>Next, if the Match Source button is pressed in the Export Settings, <code>exPostProcessParamsRec.doConformToMatchParams</code> will be true. The exporter should respond by updating any parameter values it can to match the source settings.</p>
<hr />
<h2 id="exporters-getting-started-get-video-frames-and-audio-samples">Get Video Frames and Audio Samples<a class="headerlink" href="#exporters-getting-started-get-video-frames-and-audio-samples" title="Permanent link">&para;</a></h2>
<p>Starting in CS6, exporters can use the new push model, or the legacy pull model for obtaining frames. The new push model is supported starting in CS6, and the pull model is still supported.</p>
<p>Push Model</p>
<hr />
<p>Using the push model, the exporter host can simply push frames to a thread-safe exporter-specified callback. Use DoMultiPassExportLoop in the <a href="#exporters-suites-exporter-utility-suite">Exporter Utility Suite</a> to register the callback.</p>
<p>Compared with the pull model, this will cut down on the code previously required for render loop management. It should also yield substantial performance increases for exporters that haven't finely tuned their multithreaded rendering.</p>
<h3 id="exporters-getting-started-pull-model">Pull Model<a class="headerlink" href="#exporters-getting-started-pull-model" title="Permanent link">&para;</a></h3>
<p>Using the pull model to get video and audio data involves making calls to the host to ask for this data. Use the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> to get individual video frames, and the <a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a> to get buffers of audio samples.</p>
<p>Video frames can be requested synchronously or asynchronously. The asynchronous method can yield better performance, but it is up to the exporter to provide its asynchronous render loop.</p>
<hr />
<h2 id="exporters-getting-started-handling-a-pause-or-cancel-by-the-user-pull-model-only">Handling a Pause or Cancel by the User (Pull Model only)<a class="headerlink" href="#exporters-getting-started-handling-a-pause-or-cancel-by-the-user-pull-model-only" title="Permanent link">&para;</a></h2>
<p>Push model export does not require any special code to handle pause or cancel by the user. For pull model export, the way to check if the user has paused or cancelled the export is to call UpdateProgressPercent in the <a href="#exporters-suites-export-progress-suite">Export Progress Suite</a>, and check the return value. If the return value is suiteError_ExporterSuspended, the user has hit the pause button, which is only available in the Media Encoder UI. If the return value is <code>exportReturn_Abort</code>, then the export has been cancelled by the user.</p>
<p>If UpdateProgressPercent returns <code>suiteError_ExporterSuspended</code>, then the exporter should next call <code>WaitForResume</code>, which will block until the user has unpaused the export.</p>
<p>If UpdateProgressPercent returns <code>exportReturn_Abort</code>, the exporter should take steps to abort the export and clean up. Note that the exporter can still continue to ask for video frames and audio samples after a cancel has been received, which is useful in certain circumstances, such as if an exporter needs a few more frames to complete an MPEG GOP, or if it wants to include the audio for the video exported up to the point of cancel. This allows the exporter to generate well-formed output files, even in the case of a cancel.</p>
<hr />
<h2 id="exporters-getting-started-creating-presets">Creating Presets<a class="headerlink" href="#exporters-getting-started-creating-presets" title="Permanent link">&para;</a></h2>
<p>Create your own presets using the Export Settings UI, either from within Premiere Pro, or Media Encoder. Just modify the parameters the way you want, and hit the Save icon to save the preset to disk. The presets are saved with the extension '.epr'.</p>
<p>Starting in CS5, all the presets are saved to the same location, regardless of whether saved from Premiere Pro or Media Encoder:</p>
<p>On Windows 7, presets are saved here: <code>[User folder]\AppData\Roaming\Adobe\Common\AME\[version]\Presets\\</code></p>
<p>On Mac OS: <code>~/Library/Preferences/Adobe/Common/AME/[version]/Presets/</code></p>
<p>In CS4, where the files are saved depends on whether you've opened the Export Settings UI in Premiere Pro or Media Encoder:</p>
<h3 id="exporters-getting-started-media-encoder-presets">Media Encoder presets<a class="headerlink" href="#exporters-getting-started-media-encoder-presets" title="Permanent link">&para;</a></h3>
<p>On Windows Vista, presets are saved here: <code>[User folder]\AppData\Roaming\Adobe\Adobe Media Encoder\[version]\Presets\\</code></p>
<p>On Windows XP: <code>[Documents and Settings folder]\[user name]\Application Data\\ Adobe\Adobe Media Encoder\[version]\Presets\\</code></p>
<p>On Mac OS: <code>~/Library/Preferences/Adobe/Adobe Media Encoder/[version]/ Presets/</code></p>
<h3 id="exporters-getting-started-premiere-pro-presets">Premiere Pro presets<a class="headerlink" href="#exporters-getting-started-premiere-pro-presets" title="Permanent link">&para;</a></h3>
<p>On Windows Vista, presets are saved here: <code>[User folder]\AppData\Roaming\Adobe\Premiere Pro\[version]\\ Presets\\</code></p>
<p>On Windows XP: <code>[Documents and Settings folder]\[user name]\Application Data\\ Adobe\Premiere Pro\[version]\Presets\\</code></p>
<p>On Mac OS: <code>~/Library/Preferences/Adobe/Adobe Premiere Pro/[version]/Presets/</code></p>
<h4 id="exporters-getting-started-ame-preset-browser">AME Preset Browser<a class="headerlink" href="#exporters-getting-started-ame-preset-browser" title="Permanent link">&para;</a></h4>
<p>Starting in CS6, Adobe Media Encoder has a Preset Browser with provides a structured organization of presets. Third-party presets can be added to any folder or subfolder within the main categories. Once you have created a preset, it will default to the Other folder. You can set the desired folder location in the <code>&lt;FolderDisplayPath&gt;</code> tag in the preset XML.</p>
<p>For example, if you set it to: <code>&lt;FolderDisplayPath&gt;System Presets/Image Sequence/PNG&lt;/ FolderDisplayPath&gt;</code> then AME will display the preset in the <code>System Presets &gt; Image Sequence &gt; PNG folder</code>.</p>
<p>It is essential to use: "System Presets/xxx/" where the xxx must be any of the existing main categories (use the English name for this). Only one level below can you can create a custom-named folder. If the folder doesn't already exist, it will be created.</p>
<p>The Preset Browser data is cached in a file at: <code>[User Folder]\AppData\Roaming\Adobe\Common\AME\[version]\Presets\\ PresetTree.xml</code></p>
<p>If you want to force a refresh of the Preset Browser data, just quit AME, delete this file, and re-launch AME.</p>
<h3 id="exporters-getting-started-installation-in-cs4">Installation in CS4<a class="headerlink" href="#exporters-getting-started-installation-in-cs4" title="Permanent link">&para;</a></h3>
<p>For better performance, in CS4, we recommend you install any presets for your exporter in the application folder for Premiere Pro and Media Encoder.</p>
<p>For both Windows and Mac OS: <code>[App installation path]\MediaIO\systempresets\[exporter subfolder]</code></p>
<p>The subfolder must be named based on the hexadecimal fourCCs of the ClassID and filetype of the exporter. For example, the SDK exporter has a ClassID of 'DTEK' or 0x4454454B, and a filetype of <code>SDK</code> or 0x53444B5F. So the subfolder must be named '4454454B_53444B5F'. For convenience, you can find the ClassID and filetype fourCCs in the preset file itself, in a decimal representation.</p>
<hr />
<h2 id="exporters-getting-started-parameter-caching">Parameter Caching<a class="headerlink" href="#exporters-getting-started-parameter-caching" title="Permanent link">&para;</a></h2>
<p>During development, when you modify parameters in your exporter and reload the plugin into the host, the Settings UI may continue to show stale parameter data. New parameters that you have added may not appear, or old ones may continue to appear. Or if you have changed the UI for an existing parameter, it may not take effect.</p>
<p>At a minimum, any old presets must be deleted. This includes Media Encoder presets and Premiere Pro presets. After deleting the old presets, there are two options, depending on whether the an older version of the exporter has already been distributed and is in use.</p>
<h3 id="exporters-getting-started-increment-the-parameter-version">Increment the Parameter Version<a class="headerlink" href="#exporters-getting-started-increment-the-parameter-version" title="Permanent link">&para;</a></h3>
<p>If an older version of the exporter is already being used by customers, you'll need to use parameter versioning. During <code>exSelGenerateDefaultParams</code>, you should call SetParamsVersion() in the <a href="#exporters-suites-export-param-suite">Export Param Suite</a> and increment the version number.</p>
<p>After that, create new presets and sequence encoder presets (if needed) using the new set of parameters. Make sure your installer removes the old presets, and installs the new ones.</p>
<h3 id="exporters-getting-started-flush-the-parameter-cache">Flush the Parameter Cache<a class="headerlink" href="#exporters-getting-started-flush-the-parameter-cache" title="Permanent link">&para;</a></h3>
<p>If you don't increment the parameter version, you can manually flush the parameter cache in a few steps. After you've deleted the old presets, do the following:</p>
<ol>
<li>Delete hidden presets that were created by the hosts for the most recently used parameter settings. Look for a file called Placeholder Preset.epr in both the folders above the Media Encoder presets and the Premiere Pro presets.</li>
<li>Delete batch.xml, used by Media Encoder. This is also in the folder above the Media Encoder presets. Deleting this is equivalent to deleting the items out of the Media Encoder render queue.</li>
<li>Delete Premiere Pro sequence encoder presets that use the exporter, if any</li>
<li>Even after deleting all the old presets, Media Encoder may initially show old cached parameter UI. In the Settings UI, just switch to a different format and then back to yours.</li>
</ol>
<hr />
<h2 id="exporters-getting-started-multichannel-audio-layouts">Multichannel Audio Layouts<a class="headerlink" href="#exporters-getting-started-multichannel-audio-layouts" title="Permanent link">&para;</a></h2>
<p>To support multichannel audio layouts, kPrAudioChannelType_MaxChannel should be the type requested in MakeAudioRenderer().</p>
<p>The audio buffers you use for GetAudio() should likewise be an array of kPrAudioChannelType_MaxChannel channels, and yes, this means you may be allocating more space than actually used.</p>
<p>In the exporter's Audio tab UI, you can provide a parameter to choose between various multi-channel audio layouts. You can compare your settings to what we have with the built-in formats, QuickTime and MXF (such as MXF OP1a and DNxHD). From the user selection in your audio export settings (e.g., 2x stereo, etc), you will know how many of those channels passed back in GetAudio() should actually be written to the file.</p>
<p>Here's a helpful video on audio track mapping: <a href="http://www.video2brain.com/en/lessons/changes-in-audio-tracks-and-merged-clip-audio">http://www.video2brain.com/en/lessons/changes-in-audio-tracks-and-merged-clip-audio</a></p>
<hr />
<h2 id="exporters-getting-started-closed-captioning">Closed Captioning<a class="headerlink" href="#exporters-getting-started-closed-captioning" title="Permanent link">&para;</a></h2>
<p>Starting in CC, the Export Settings includes a new Captions tab, for Closed Captioning export. For all formats, a sidecar file containing the captions can be exported. Additionally, exporters can optionally embed Closed Captioning directly in the output file. First, the exporter must set exExporterInfoRec.canEmbedCaptions to true. This will add the option to embed the captions in the output file, from the Export Options drop-down in the Captions tab. If this option is selected during export, exDoExportRec.embedCaptions will be true. The exporter should retrieve the captions using the <a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a>.</p>
<hr />
<h2 id="exporters-getting-started-multiple-file-formats">Multiple File Formats<a class="headerlink" href="#exporters-getting-started-multiple-file-formats" title="Permanent link">&para;</a></h2>
<p>To support more than one file format in a single exporter, describe one format at a time during <code>exSelStartup</code>. After describing the first one, return exportReturn_IterateExporter from <code>exSelStartup</code>, and the exporter will be called again to describe the second format, and so on. After describing the last format, return exportReturn_IterateExporter, and the exporter will be called yet again. This time, return exportReturn_IterateExporterDone.</p>
<p>Use a unique fileType for each format. When you are later sent <code>exSelGenerateDefaultParams</code>, <code>exSelPostProcessParams</code>, etc, you'll want to pay attention to the fileType, and respond according to the format.</p>
<hr />
<h2 id="exporters-getting-started-exporters-used-for-editing-modes">Exporters Used for Editing Modes<a class="headerlink" href="#exporters-getting-started-exporters-used-for-editing-modes" title="Permanent link">&para;</a></h2>
<p>An exporter that is used in an editing mode must have a codec parameter, and that parameter ID must be ADBEVideoCodec. If Premiere Pro cannot find this parameter, it will not be able to reopen projects in the custom editing mode, and will revert the project to Desktop mode.</p>
<h3 id="exporters-getting-started-sequence-encoder-presets">Sequence Encoder Presets<a class="headerlink" href="#exporters-getting-started-sequence-encoder-presets" title="Permanent link">&para;</a></h3>
<p>Sequence preview presets are now required for editing modes. These contain the exporter parameters to generate preview files. This makes preview file formats much easier to define, by using the Media Encoder or Premiere Pro UI to create presets, rather than directly editing XML.</p>
<p>To create a sequence encoder preset:</p>
<ol>
<li>Create a preset. The name that you give it will be the name that will be used in the Sequence Settings &gt; General &gt; Preview File Format drop-down.</li>
<li>Make sure this preset is installed in the application folder for Premiere Pro, along with the other sequence presets:</li>
</ol>
<p>On Windows, they should be installed here: <code>[App installation path]\Settings\EncoderPresets\SequencePreview\[editing mode GUID]*.epr</code></p>
<p>On MacOS, it is basically the same (inside the application package): <code>[App installation path]/[Premiere Pro package]/Contents/Settings/EncoderPresets/ SequencePreview/[editing mode GUID]/*.epr</code></p>
<p>As you can see by the installation paths above, Premiere Pro associates the sequence preview presets with the editing mode they go with, by using the presets in the folder that matches the GUID of the editing mode. The editing mode GUID is defined in the editing mode XML file, using the <code>&lt;EditingMode.ID&gt;</code> tag.</p>
<h3 id="exporters-getting-started-adding-new-preview-file-formats-to-existing-editing-modes">Adding new Preview File Formats to Existing Editing Modes<a class="headerlink" href="#exporters-getting-started-adding-new-preview-file-formats-to-existing-editing-modes" title="Permanent link">&para;</a></h3>
<p>You can not only provide sequence preview presets for your own editing mode, but you could even add additional sequence preview presets for one of the built-in editing modes. Editing mode GUIDs for built-in editing modes can be found in the Adobe Editing Modes. xml file. For example, the Desktop editing mode on Windows has the GUID 9678AF98A7B7-4bdb-B477-7AC9C8DF4A4E. On Mac OS it is 795454D9-D3C2-429d-9474- 923AB13B7018.</p>
<p>You can additionally restrict the list and specify which one is chosen by default, by editing the <code>&lt;PresetComments&gt;</code> tag in the preset file.</p>
<p>If the value of the tag starts with "IsConstrained,", then a comma delimited list of 4ccs follows that dictates which codecs are available, and the first one is chosen by default.</p>
<p>For example, QuickTime DV NTSC.epr for the Mac DV NTSC editing mode has this: <code>&lt;PresetComments&gt;IsConstrained,dvc &lt;/PresetComments&gt;</code></p>
<p>Which restricts the codec selection of the exporter to be only the single codec choice.</p>
<hr />
<h2 id="exporters-getting-started-stereoscopic-video">Stereoscopic Video<a class="headerlink" href="#exporters-getting-started-stereoscopic-video" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently stereoscopic exporters must use the old "pull" model, and only receive stereoscopic video when exporting directly from Premiere Pro. In other words, when exports are queued to run in Adobe Media Encoder, they will not get stereoscopic video.</p>
</div>
<p>To get rendered frames for both left and right eye, use the <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a> to request the left and right cutlists, and render frames from both. An exporter can tell if segments in both of them are identical (implying that they have nothing stereoscopic about them) by looking at the segment hashes, and you can tell if two frames are identical (by looking at the request identifiers).</p>
<hr />
<h2 id="exporters-getting-started-timeline-segments-in-exporters">Timeline Segments in Exporters<a class="headerlink" href="#exporters-getting-started-timeline-segments-in-exporters" title="Permanent link">&para;</a></h2>
<p>The timeline segments available to exporters do not always fully describe the sequence being exported. To consistently get timeline segments that fully describe the sequence, an exporter needs to work along with a renderer plugin.</p>
<p>During a sequence export, Premiere Pro makes a copy of the project file and passes it to Media Encoder. Media Encoder takes that project and uses the PProHeadless process to generate rendered frames. So when an exporter, which is running in Media Encoder, parses the sequence, it only has a very high-level view. It sees the entire sequence as a single clip, and sees any optional cropping or filters as applied effects. So when parsing that simple, high-level sequence, if there are no effects, an exporter can just use the MediaNode's ClipID with the <a href="#universals-sweetpea-suites-clip-render-suite">Clip Render Suite</a> to get frames directly from the PProHeadless process. In the PProHeadless process, a renderer plugin can step in, parse the real sequence in all its glory, and optionally provide frames in a custom pixel format.</p>
<p>When rendering preview files, Premiere Pro does the rendering without Media Encoder, so an exporter can get the individual segments for each clip, similar to before.</p>
<hr />
<h2 id="exporters-getting-started-smart-rendering">Smart Rendering<a class="headerlink" href="#exporters-getting-started-smart-rendering" title="Permanent link">&para;</a></h2>
<p>Under very specific circumstances, an exporter can request compressed frames, avoiding unnecessary de/recompression.</p>
<p>This would be done by providing both exporter and renderer plugins that parse timeline segments.</p>
<p>If the source can be copied over to the destination, the compressed frames can be passed in a custom pixel format.</p>
<p>These compressed frames are not guaranteed, however, so the exporter should be prepared to handle uncompressed frames.</p>
<hr />
<h2 id="exporters-getting-started-entry-point">Entry Point<a class="headerlink" href="#exporters-getting-started-entry-point" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">DllExport</span><span class="w"> </span><span class="n">PREMPLUGENTRY</span><span class="w"> </span><span class="n">xSDKExport</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">      </span><span class="n">selector</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportStdParms</span><span class="o">*</span><span class="w">  </span><span class="n">stdParmsP</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">            </span><span class="n">param1</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">            </span><span class="n">param2</span><span class="p">)</span>
</code></pre></div>
<ul>
<li><code>selector</code> is the action the host wants the exporter to perform.</li>
<li><code>stdParms</code> provides callbacks to obtain additional information from the host or to have the host perform tasks.</li>
<li>Parameters 1 and 2 vary with the selector; they may contain a specific value or a pointer to a structure.</li>
</ul>
<p>Return <code>exportReturn_ErrNone</code> if successful, or an appropriate return code.</p>
<hr />
<h2 id="exporters-getting-started-standard-parameters">Standard Parameters<a class="headerlink" href="#exporters-getting-started-standard-parameters" title="Permanent link">&para;</a></h2>
<p>A pointer to this structure is sent from the host to the plugin with every selector.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">               </span><span class="n">interfaceVer</span><span class="p">;</span>
<span class="w">  </span><span class="n">plugGetSPBasicSuiteFunc</span><span class="o">*</span><span class="w">  </span><span class="n">getSPBasicSuite</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exportStdParms</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>interfaceVer</code></td>
<td>Exporter API version<ul><li>Premiere Pro CC - prExportVersion400</li><li>Premiere Pro CS6 - prExportVersion300</li><li>Premiere Pro CS5.5 - prExportVersion250</li><li>Premiere Pro CS5 - prExportVersion200</li><li>Premiere Pro 4.0.1 through 4.2.1 - prExportVersion101</li><li>Premiere Pro CS4 - prExportVersion100</li></ul></td>
</tr>
<tr>
<td><code>getSPBasicSuite</code></td>
<td>This very important call returns the SweetPea suite that allows plugins to acquire and release all other <a href="#universals-sweetpea-suites">SweetPea Suites</a>.<br/><code>SPBasicSuite* getSPBasicSuite();</code></td>
</tr>
</tbody>
</table></section><section class="print-page" id="exporters-selector-table"><h1 id="exporters-selector-table-selector-table">Selector Table<a class="headerlink" href="#exporters-selector-table-selector-table" title="Permanent link">&para;</a></h1>
<p>This table summarizes the various selector commands an exporter can receive.</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>param1</th>
<th>param2</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a></td>
<td><a href="#exporters-structure-descriptions-exexporterinforec">exExporterInfoRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselbegininstance">exSelBeginInstance</a></td>
<td><a href="#exporters-structure-descriptions-exexporterinstancerec">exExporterInstanceRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselgeneratedefaultparams">exSelGenerateDefaultParams</a></td>
<td><a href="#exporters-structure-descriptions-exgeneratedefaultparamrec">exGenerateDefaultParamRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselpostprocessparams">exSelPostProcessParams</a></td>
<td><a href="#exporters-structure-descriptions-expostprocessparamsrec">exPostProcessParamsRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselvalidateparamchanged">exSelValidateParamChanged</a></td>
<td><a href="#exporters-structure-descriptions-exparamchangedrec">exParamChangedRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselgetparamsummary">exSelGetParamSummary</a></td>
<td><a href="#exporters-structure-descriptions-exparamsummaryrec">exParamSummaryRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselparambutton">exSelParamButton</a></td>
<td><a href="#exporters-structure-descriptions-exparambuttonrec">exParamButtonRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselexport">exSelExport</a></td>
<td><a href="#exporters-structure-descriptions-exdoexportrec">exDoExportRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselqueryexportfileextension">exSelQueryExportFileExtension</a></td>
<td><a href="#exporters-structure-descriptions-exqueryexportfileextensionrec">exQueryExportFileExtensionRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselqueryoutputfilelist">exSelQueryOutputFileList</a></td>
<td><a href="#exporters-structure-descriptions-exqueryoutputfilelistrec">exQueryOutputFileListRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselquerystillsequence">exSelQueryStillSequence</a></td>
<td><a href="#exporters-structure-descriptions-exquerystillsequencerec">exQueryStillSequenceRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselqueryoutputsettings">exSelQueryOutputSettings</a></td>
<td><a href="#exporters-structure-descriptions-exqueryoutputsettingsrec">exQueryOutputSettingsRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselvalidateoutputsettings">exSelValidateOutputSettings</a></td>
<td><a href="#exporters-structure-descriptions-exvalidateoutputsettingsrec">exValidateOutputSettingsRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselexport2">exSelExport2</a></td>
<td><a href="#exporters-structure-descriptions-exdoexportrec2">exDoExportRec2*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselqueryexportcolorspace">exSelQueryExportColorSpace</a></td>
<td><a href="#exporters-structure-descriptions-exqueryexportcolorspacerec">exQueryExportColorSpaceRec*</a></td>
<td>unused</td>
</tr>
<tr>
<td><a href="#exporters-selector-descriptions-exselshutdown">exSelShutdown</a></td>
<td><a href="#exporters-structure-descriptions-exexporterinforec">exExporterInfoRec*</a></td>
<td>unused</td>
</tr>
</tbody>
</table></section><section class="print-page" id="exporters-selector-descriptions"><h1 id="exporters-selector-descriptions-selector-descriptions">Selector Descriptions<a class="headerlink" href="#exporters-selector-descriptions-selector-descriptions" title="Permanent link">&para;</a></h1>
<p>This section provides a brief overview of each selector and highlights implementation issues.</p>
<p>Additional implementation details are at the end of the chapter.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselstartup">exSelStartup<a class="headerlink" href="#exporters-selector-descriptions-exselstartup" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exexporterinforec">exExporterInfoRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Sent during application launch, unless the exporter has been cached.</p>
<p>A single exporter can support multiple codecs and file extensions.</p>
<p><code>exExporterInfoRec</code> describes the exporter's attributes, such as the format display name.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselbegininstance">exSelBeginInstance<a class="headerlink" href="#exporters-selector-descriptions-exselbegininstance" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exexporterinstancerec">exExporterInstanceRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Allocate any private data.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselgeneratedefaultparams">exSelGenerateDefaultParams<a class="headerlink" href="#exporters-selector-descriptions-exselgeneratedefaultparams" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exgeneratedefaultparamrec">exGenerateDefaultParamRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Set the exporter's default parameters using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselpostprocessparams">exSelPostProcessParams<a class="headerlink" href="#exporters-selector-descriptions-exselpostprocessparams" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-expostprocessparamsrec">exPostProcessParamsRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Post process parameters. This is where the localized strings for the parameter UI must be provided.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselvalidateparamchanged">exSelValidateParamChanged<a class="headerlink" href="#exporters-selector-descriptions-exselvalidateparamchanged" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exparamchangedrec">exParamChangedRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Validate any parameters that have changed. Based on a change to a parameter value, the exporter may update other parameter values, or show/hide certain parameter controls, using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<p>To notify the host that the plugin is changing other parameters, set <code>exParamChangedRec.rebuildAllParams</code> to a non-zero value.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselgetparamsummary">exSelGetParamSummary<a class="headerlink" href="#exporters-selector-descriptions-exselgetparamsummary" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exparamsummaryrec">exParamSummaryRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Provide a text summary of the current parameter settings, which will be displayed in the summary area of the Export Settings dialog.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselparambutton">exSelParamButton<a class="headerlink" href="#exporters-selector-descriptions-exselparambutton" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exparambuttonrec">exParamButtonRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Sent if exporter has one or more buttons in its parameter UI, and the user clicks one of the buttons in the Export Settings.</p>
<p>The ID of the button pressed is passed in <code>exParamButtonRec.buttonParamIdentifier</code>.</p>
<p>Display any dialog using platform-specific UI, collect any user input, and save any changes back to <code>privateData</code>.</p>
<p>If the user cancels the dialog, return <code>exportReturn_ParamButtonCancel</code> to signify that nothing in the <code>privateData</code> has changed.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselexport">exSelExport<a class="headerlink" href="#exporters-selector-descriptions-exselexport" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exdoexportrec">exDoExportRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Do the export! Sent when the user starts an export to the format supported by the exporter, or if the exporter is used in an Editing Mode and the user renders the work area.</p>
<p>Single file exporters are sent this selector only once per export (e.g. AVI, QuickTime). To create a single file, setup a loop where you request each frame in the startTime to endTime range using one of the render calls in the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> and GetAudio in the <a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a>. For better performance, you can use the asynchronous calls in the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> to have the host render multiple frames on multiple threads.</p>
<p>Still frame exporters are sent <code>exSelExport</code> for each frame in the sequence (e.g. numbered TIFFs). The host will name the files appropriately.</p>
<p>Save render time by checking to see if frames are repeated. Inspect the SequenceRender_GetFrameReturnRec.repeatCount returned from a render call, which holds a frame repeat count.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselexport2">exSelExport2<a class="headerlink" href="#exporters-selector-descriptions-exselexport2" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exdoexportrec2">exDoExportRec2*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Do the export! Identical to exSelExport, except that exDoExportRec2 (which contains a LUT description) is passed.</p>
<p>Exporter can specify the ID of the LUT that needs to be applied as last step in export processing. This is for including LUT for doing color space conversion in export path.</p>
<p>In case LUT is specified, <code>ExportColorSpace</code> signifies the output color space of LUT.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselqueryexportfileextension">exSelQueryExportFileExtension<a class="headerlink" href="#exporters-selector-descriptions-exselqueryexportfileextension" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exqueryexportfileextensionrec">exQueryExportFileExtensionRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>For exporters that support more than one file extension, specify an extension given the file type.</p>
<p>If this selector is not supported by the exporter, the extension is specified by the exporter in <code>exExporterInfoRec.fileTypeDefaultExtension</code>.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselqueryoutputfilelist">exSelQueryOutputFileList<a class="headerlink" href="#exporters-selector-descriptions-exselqueryoutputfilelist" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exqueryoutputfilelistrec">exQueryOutputFileListRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>For exporters that export to more than one file. This is called before an export for the host to find out which files would need to be overwritten.</p>
<p>It is called after an export so the host will know about all the files created, for any post encoding tasks, such as FTP. If this selector is not supported by the exporter, the host application will only know about the original path.</p>
<p>This selector will be called three times. On the first call, the plugin fills out numOutputFiles. The host will then make numOutputFiles count of outputFileRecs, but empty.</p>
<p>On the second call, the plugin fills out the path length (incl trailing null) for each exOutputFileRec element in outputFileRecs. The host will then allocate all paths in each outputFileRec.</p>
<p>On the third call, the plugin fills in the path members of the outputFileRecs.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselquerystillsequence">exSelQueryStillSequence<a class="headerlink" href="#exporters-selector-descriptions-exselquerystillsequence" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exquerystillsequencerec">exQueryStillSequenceRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>The host application asks a still-only exporter if it wants to export as a sequence, and at what frame rate.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselqueryoutputsettings">exSelQueryOutputSettings<a class="headerlink" href="#exporters-selector-descriptions-exselqueryoutputsettings" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exqueryoutputsettingsrec">exQueryOutputSettingsRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>The host application asks the exporter for general details about the current settings. This is a required selector.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselvalidateoutputsettings">exSelValidateOutputSettings<a class="headerlink" href="#exporters-selector-descriptions-exselvalidateoutputsettings" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exvalidateoutputsettingsrec">exValidateOutputSettingsRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>The host application asks the exporter if it can export with the current settings.</p>
<p>The exporter should return <code>exportReturn_ErrLastErrorSet</code> if not, and the error string should be set to a description of the failure.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselendinstance">exSelEndInstance<a class="headerlink" href="#exporters-selector-descriptions-exselendinstance" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exexporterinstancerec">exExporterInstanceRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Deallocate any private data.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselshutdown">exSelShutdown<a class="headerlink" href="#exporters-selector-descriptions-exselshutdown" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <code>unused</code></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Sent immediately before shutdown. Free all remaining memory and close any open file handles.</p>
<hr />
<h2 id="exporters-selector-descriptions-exselqueryexportcolorspace">exSelQueryExportColorSpace<a class="headerlink" href="#exporters-selector-descriptions-exselqueryexportcolorspace" title="Permanent link">&para;</a></h2>
<ul>
<li>param1 - <a href="#exporters-structure-descriptions-exqueryexportcolorspacerec">exExporterInstanceRec*</a></li>
<li>param2 - <code>unused</code></li>
</ul>
<p>Describe the color space to be used during export.</p></section><section class="print-page" id="exporters-return-codes"><h1 id="exporters-return-codes-return-codes">Return Codes<a class="headerlink" href="#exporters-return-codes-return-codes" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Return Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exportReturn_ErrNone</code></td>
<td>Operation has completed without error.</td>
</tr>
<tr>
<td><code>exportReturn_Abort</code></td>
<td>User aborted the export.</td>
</tr>
<tr>
<td><code>exportReturn_Done</code></td>
<td>Export finished normally.</td>
</tr>
<tr>
<td><code>exportReturn_InternalError</code></td>
<td>Return this if none of the other errors apply.</td>
</tr>
<tr>
<td><code>exportReturn_OutOfDiskSpace</code></td>
<td>Out of disk space error.</td>
</tr>
<tr>
<td><code>exportReturn_BufferFull</code></td>
<td>The offset into the buffer would overflow it.</td>
</tr>
<tr>
<td><code>exportReturn_ErrOther</code></td>
<td>The vaguer the better, right?</td>
</tr>
<tr>
<td><code>exportReturn_ErrMemory</code></td>
<td>Out of memory.</td>
</tr>
<tr>
<td><code>exportReturn_ErrFileNotFound</code></td>
<td>File not found.</td>
</tr>
<tr>
<td><code>exportReturn_ErrTooManyOpenFiles</code></td>
<td>Too many open files.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPermErr</code></td>
<td>Permission violation.</td>
</tr>
<tr>
<td><code>exportReturn_ErrOpenErr</code></td>
<td>Unable to open the file.</td>
</tr>
<tr>
<td><code>exportReturn_ErrInvalidDrive</code></td>
<td>Invalid drive.</td>
</tr>
<tr>
<td><code>exportReturn_ErrDupFile</code></td>
<td>Duplicate filename.</td>
</tr>
<tr>
<td><code>exportReturn_ErrIo</code></td>
<td>File I/O error.</td>
</tr>
<tr>
<td><code>exportReturn_ErrInUse</code></td>
<td>File is in use.</td>
</tr>
<tr>
<td><code>exportReturn_IterateExporter</code></td>
<td>Return value from <code>exSelStartup</code> to request exporter iteration.</td>
</tr>
<tr>
<td><code>exportReturn_IterateExporterDone</code></td>
<td>Return value from <code>exSelStartup</code> to indicate there are no more exporters.</td>
</tr>
<tr>
<td><code>exportReturn_InternalErrorSilent</code></td>
<td>Return error code from <code>exSelExport</code> to put a custom error message on screen just before returning control to the host.</td>
</tr>
<tr>
<td><code>exportReturn_ErrCodecBadInput</code></td>
<td>A video codec refused the input format.</td>
</tr>
<tr>
<td><code>exportReturn_ErrLastErrorSet</code></td>
<td>The exporter is returning an error using the <a href="#universals-sweetpea-suites-error-suite">Error Suite</a>.</td>
</tr>
<tr>
<td><code>exportReturn_ErrLastWarningSet</code></td>
<td>The exporter is returning a warning using the <a href="#universals-sweetpea-suites-error-suite">Error Suite</a>.</td>
</tr>
<tr>
<td><code>exportReturn_ErrLastInfoSet</code></td>
<td>The exporter is returning information using the <a href="#universals-sweetpea-suites-error-suite">Error Suite</a>.</td>
</tr>
<tr>
<td><code>exportReturn_ErrExceedsMaxFormatDuration</code></td>
<td>The exporter (or the host) has deemed the duration of the export to be too large.</td>
</tr>
<tr>
<td><code>exportReturn_VideoCodecNeedsActivation</code></td>
<td>The current video codec is not activated and cannot be used.</td>
</tr>
<tr>
<td><code>exportReturn_AudioCodecNeedsActivation</code></td>
<td>The current audio codec is not activated and cannot be used.</td>
</tr>
<tr>
<td><code>exportReturn_IncompatibleAudioChannelType</code></td>
<td>The requested audio channels are not compatible with the source audio.</td>
</tr>
<tr>
<td><code>exportReturn_IncompatibleVideoCodec</code></td>
<td>New in CS5. User tried to load a preset with an invalid video codec</td>
</tr>
<tr>
<td><code>exportReturn_IncompatibleAudioCodec</code></td>
<td>New in CS5. User tried to load a preset with an invalid audio codec</td>
</tr>
<tr>
<td><code>exportReturn_ParamButtonCancel</code></td>
<td>New in CS5.5. Return this from <code>exSelParamButton</code> if the user cancelled settings dialog by pressing cancel button.</td>
</tr>
<tr>
<td><code>exportReturn_ErrMediaFormat</code></td>
<td>Error encountered writing to media format.</td>
</tr>
<tr>
<td><code>exportReturn_ErrVideoEncoderCreation</code></td>
<td>Error encountered while creating video encoder.</td>
</tr>
<tr>
<td><code>exportReturn_ErrAudioEncoderConfiguration</code></td>
<td>Error encountered configuring audio encoder.</td>
</tr>
<tr>
<td><code>exportReturn_ErrVideoEncoderConfiguration</code></td>
<td>Error encountered configuring video encoder.</td>
</tr>
<tr>
<td><code>exportReturn_ErrInvalidPixelFormat</code></td>
<td>Pixel format not compatible with output format.</td>
</tr>
<tr>
<td><code>exportReturn_ErrOutputBuffer</code></td>
<td>Error creating output buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrInputBuffer</code></td>
<td>Error accessing input buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrAudioEncoder</code></td>
<td>Error encountered during audio encoding.</td>
</tr>
<tr>
<td><code>exportReturn_ErrVideoEncoder</code></td>
<td>Error encountered during video encoding.</td>
</tr>
<tr>
<td><code>exportReturn_ErrMuxer</code></td>
<td>Error encountered during muxing.</td>
</tr>
<tr>
<td><code>exportReturn_ErrVersion</code></td>
<td>Error encountered because of versions.</td>
</tr>
<tr>
<td><code>exportReturn_ErrColorSpace</code></td>
<td>Specified color space is not compatible with output format.</td>
</tr>
<tr>
<td><code>exportReturn_ErrVideoEncoderAdaptor</code></td>
<td>Error encountered using video encoding adaptor.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferCreation</code></td>
<td>Error creating pixel buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferLock</code></td>
<td>Error encountered locking buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferPlanarFormat</code></td>
<td>Error encountered with pixel buffer planar format.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferBytesMatch</code></td>
<td>Error encountered with byte matching, within pixel buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferUnlock</code></td>
<td>Error encountered unlocking buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferException</code></td>
<td>Error encountered; exception accessing buffer.</td>
</tr>
<tr>
<td><code>exportReturn_ErrPixelBufferAppend</code></td>
<td>Error appending to pixel buffer.</td>
</tr>
<tr>
<td><code>exportReturn_Unsupported</code></td>
<td>Unsupported selector.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="exporters-structures"><h1 id="exporters-structures-structures">Structures<a class="headerlink" href="#exporters-structures-structures" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Structure</th>
<th>Sent with selector</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#exporters-structure-descriptions-exdoexportrec">exDoExportRec</a></td>
<td><a href="#exporters-selector-descriptions-exselexport">exSelExport</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exexporterinforec">exExporterInfoRec</a></td>
<td><a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exexporterinstancerec">exExporterInstanceRec</a></td>
<td><a href="#exporters-selector-descriptions-exselbegininstance">exSelBeginInstance</a> and <a href="#exporters-selector-descriptions-exselendinstance">exSelEndInstance</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exgeneratedefaultparamrec">exGenerateDefaultParamRec</a></td>
<td><a href="#exporters-selector-descriptions-exselgeneratedefaultparams">exSelGenerateDefaultParams</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exparambuttonrec">exParamButtonRec</a></td>
<td><a href="#exporters-selector-descriptions-exselparambutton">exSelParamButton</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exparamchangedrec">exParamChangedRec</a></td>
<td><a href="#exporters-selector-descriptions-exselvalidateparamchanged">exSelValidateParamChanged</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exparamsummaryrec">exParamSummaryRec</a></td>
<td><a href="#exporters-selector-descriptions-exselgetparamsummary">exSelGetParamSummary</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-expostprocessparamsrec">exPostProcessParamsRec</a></td>
<td><a href="#exporters-selector-descriptions-exselpostprocessparams">exSelPostProcessParams</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exqueryexportfileextensionrec">exQueryExportFileExtensionRec</a></td>
<td><a href="#exporters-selector-descriptions-exselqueryexportfileextension">exSelQueryExportFileExtension</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exqueryoutputfilelistrec">exQueryOutputFileListRec</a></td>
<td><a href="#exporters-selector-descriptions-exselqueryoutputfilelist">exSelQueryOutputFileList</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exqueryoutputsettingsrec">exQueryOutputSettingsRec</a></td>
<td><a href="#exporters-selector-descriptions-exselqueryoutputsettings">exSelQueryOutputSettings</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exquerystillsequencerec">exQueryStillSequenceRec</a></td>
<td><a href="#exporters-selector-descriptions-exselquerystillsequence">exSelQueryStillSequence</a></td>
</tr>
<tr>
<td><a href="#exporters-structure-descriptions-exvalidateoutputsettingsrec">exValidateOutputSettingsRec</a></td>
<td><a href="#exporters-selector-descriptions-exselvalidateoutputsettings">exSelValidateOutputSettings</a></td>
</tr>
</tbody>
</table></section><section class="print-page" id="exporters-structure-descriptions"><h1 id="exporters-structure-descriptions-structure-descriptions">Structure Descriptions<a class="headerlink" href="#exporters-structure-descriptions-structure-descriptions" title="Permanent link">&para;</a></h1>
<h2 id="exporters-structure-descriptions-exdoexportrec">exDoExportRec<a class="headerlink" href="#exporters-structure-descriptions-exdoexportrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselexport">exSelExport</a></p>
<p>Provides general export settings. The exporter should retrieve the parameter settings from the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">startTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">endTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileObject</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">  </span><span class="n">timelineData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">reserveMetaDataSpace</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">maximumRenderQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">embedCaptions</span>
<span class="p">}</span><span class="w"> </span><span class="n">exDoExportRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter, used for various suite calls, such as in the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> and <a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a>.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.<br/><br/>Indicates which format the exporter should write, since exporters can support multiple formats.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, export video.</td>
</tr>
<tr>
<td><code>startTime</code></td>
<td>The start time of the sequence to export.</td>
</tr>
<tr>
<td><code>endTime</code></td>
<td>The end time of the sequence to export. If startTime is 0, also the total duration to export.<br/><br/>Range specified is <code>[startTime, endTime)</code>, meaning the <code>endTime</code> is not actually included in the range.</td>
</tr>
<tr>
<td><code>fileObject</code></td>
<td>For use with the <a href="#exporters-suites-export-file-suite">Export File Suite</a>, to get and manipulate the file specified by the user.</td>
</tr>
<tr>
<td><code>timelineData</code></td>
<td>Handle used for the Timeline Functions.</td>
</tr>
<tr>
<td><code>reserveMetaDataSpace</code></td>
<td>Amount to reserve in a file for metadata storage.</td>
</tr>
<tr>
<td><code>maximumRenderQuality</code></td>
<td>If non-zero, the exporter should set <code>SequenceRender_ParamsRec.inRenderQuality</code> and <code>inDeinterlaceQuality</code> to <code>kPrRenderQuality_Max</code>.</td>
</tr>
<tr>
<td><code>embedCaptions</code></td>
<td>New in CC. If non-zero, the exporter should embed captions obtained from the <a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a>.</td>
</tr>
<tr>
<td><code>colorProfile</code></td>
<td>Amount to reserve in a file for metadata storage.</td>
</tr>
<tr>
<td><code>exportColorSpaceID</code></td>
<td>Amount to reserve in a file for metadata storage.</td>
</tr>
<tr>
<td><code>maximumFileSize</code></td>
<td>Amount to reserve in a file for metadata storage.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exdoexportrec2">exDoExportRec2<a class="headerlink" href="#exporters-structure-descriptions-exdoexportrec2" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselexport">exSelExport</a></p>
<p>Provides general export settings. The exporter should retrieve the parameter settings from the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">      </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">             </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">      </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">            </span><span class="n">startTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">            </span><span class="n">endTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">      </span><span class="n">fileObject</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">      </span><span class="n">timelineData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">reserveMetaDataSpace</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">maximumRenderQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">       </span><span class="n">embedCaptions</span><span class="p">;</span>
<span class="w">  </span><span class="n">ColorProfileRec</span><span class="w">       </span><span class="n">colorProfile</span><span class="p">;</span><span class="w">                         </span><span class="c1">// if color profile is valid, exporter should embed into output per format standards; for formats that set canEmbedColorProfile to True</span>
<span class="w">  </span><span class="n">PrSDKColorSpaceID</span><span class="w"> </span><span class="n">exportColorSpaceID</span><span class="p">;</span><span class="w">               </span><span class="c1">// opaque color space ID that exporter should pass to the host when using color managed APIs</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">maximumFileSize</span><span class="p">;</span><span class="w">                    </span><span class="c1">// if non-0, try to export a file not exceeding this size an possible adjust the TragetBitrate for this.</span>
<span class="w">  </span><span class="n">PrSDKLUTID</span><span class="w">              </span><span class="n">exportLUTID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exDoExportRec2</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter, used for various suite calls, such as in the <a href="#exporters-suites-sequence-render-suite">Sequence Render Suite</a> and <a href="#exporters-suites-sequence-audio-suite">Sequence Audio Suite</a>.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.<br/><br/>Indicates which format the exporter should write, since exporters can support multiple formats.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, export video.</td>
</tr>
<tr>
<td><code>startTime</code></td>
<td>The start time of the sequence to export.</td>
</tr>
<tr>
<td><code>endTime</code></td>
<td>The end time of the sequence to export. If startTime is 0, also the total duration to export.<br/><br/>Range specified is <code>[startTime, endTime)</code>, meaning the <code>endTime</code> is not actually included in the range.</td>
</tr>
<tr>
<td><code>fileObject</code></td>
<td>For use with the <a href="#exporters-suites-export-file-suite">Export File Suite</a>, to get and manipulate the file specified by the user.</td>
</tr>
<tr>
<td><code>timelineData</code></td>
<td>Handle used for the Timeline Functions.</td>
</tr>
<tr>
<td><code>reserveMetaDataSpace</code></td>
<td>Amount to reserve in a file for metadata storage.</td>
</tr>
<tr>
<td><code>maximumRenderQuality</code></td>
<td>If non-zero, the exporter should set <code>SequenceRender_ParamsRec.inRenderQuality</code> and <code>inDeinterlaceQuality</code> to <code>kPrRenderQuality_Max</code>.</td>
</tr>
<tr>
<td><code>embedCaptions</code></td>
<td>New in CC. If non-zero, the exporter should embed captions obtained from the <a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a>.</td>
</tr>
<tr>
<td><code>colorProfile</code></td>
<td>New in 13.1.  Color profile, to be embedded into output per format standards. For formats which have set <code>canEmbedColorProfile</code> to true.</td>
</tr>
<tr>
<td><code>exportColorSpaceID</code></td>
<td>New in 13.1.  ID of the color space to be used. Must not be <code>kPrSDKColorSpaceID_Invalid</code>.</td>
</tr>
<tr>
<td><code>maximumFileSize</code></td>
<td>New in 15.x.  If non-zero, the Exporter should consider this as a ceiling for file size, and re-compress as needed in order to meet that target.</td>
</tr>
<tr>
<td><code>exportLUTID</code></td>
<td>New in 14.x. the LUT being used for export.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exexporterinforec">exExporterInfoRec<a class="headerlink" href="#exporters-structure-descriptions-exexporterinforec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a> and <a href="#exporters-selector-descriptions-exselshutdown">exSelShutdown</a> (starting in CS6)</p>
<p>Describe the exporter's capabilities by filling out this structure during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</p>
<p>For each filetype, populate exExporterInfoRec and return <code>exportReturnIterateExporter</code>.</p>
<p><a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a> will then be resent. Repeat the process until there are no more file formats to describe, then return <code>exportReturn_IterateExporterDone</code>.</p>
<p>The fileType indicates which format the exporter should currently work with in subsequent calls.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">unused</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">fileTypeName</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">fileTypeDefaultExtension</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">classID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportReqIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">wantsNoProgressBar</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">hideInUI</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">doesNotSupportAudioOnly</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canExportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">canExportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">singleFrameOnly</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">maxAudiences</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">interfaceVersion</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">isCacheable</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">canConformToMatchParams</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">canEmbedCaptions</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exExporterInfoRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code (e.g. 'AVIV' = Video for Windows, 'MooV' = QuickTime).</td>
</tr>
<tr>
<td><code>fileTypeName</code></td>
<td>The localized display name for the fileype.</td>
</tr>
<tr>
<td><code>fileTypeDefaultExtension</code></td>
<td>The default extension for the filetype. An exporter can support multiple extensions per filetype, by implementing <code>exSelQueryExportFileExtension</code>.</td>
</tr>
<tr>
<td><code>classID</code></td>
<td>Class identifier for the module, differentiates between exporters that support the same filetype and creates associations between different Media Abstraction Layer plugins.</td>
</tr>
<tr>
<td><code>exportReqIndex</code></td>
<td>If an exporter supports multiple filetypes, this index will be incremented by the host for each call, as the exporter is requested to describe its capabilities for each filetype.<br/><br/>Initially zero, incremented by the host each time the exporter returns <code>exportReturn_IterateExporter</code>.</td>
</tr>
<tr>
<td><code>wantsNoProgressBar</code></td>
<td>If non-zero, the default exporter progress dialog will be turned off, allowing the exporter to display its own progress dialog.<br/><br/>The exporter also will not get <code>exportReturn_Abort</code> errors from the host during callbacks - it must detect an abort on its own, and return <code>exportReturn_Abort</code> from <code>exSelExport</code> if the user aborts the export.</td>
</tr>
<tr>
<td><code>hideInUI</code></td>
<td>Set this to non-zero if this filetype should only be used for making preview files, and should not be visible as a general export choice.</td>
</tr>
<tr>
<td><code>doesNotSupportAudioOnly</code></td>
<td>Set this to non-zero for filetypes that do not support audio-only exports.</td>
</tr>
<tr>
<td><code>canExportVideo</code></td>
<td>Set this to non-zero if the exporter can output video.</td>
</tr>
<tr>
<td><code>canExportAudio</code></td>
<td>Set this to non-zero if the exporter can output audio.</td>
</tr>
<tr>
<td><code>singleFrameOnly</code></td>
<td>Set this to non-zero if the exporter makes single frames (used by still image exporters).</td>
</tr>
<tr>
<td><code>maxAudiences</code></td>
<td></td>
</tr>
<tr>
<td><code>interfaceVersion</code></td>
<td>Exporter API version that the plugin supports.</td>
</tr>
<tr>
<td><code>isCacheable</code></td>
<td>New in CS5. Set this non-zero to have Premiere Pro cache this exporter.</td>
</tr>
<tr>
<td><code>canConformToMatchParams</code></td>
<td>New in CC. Set this to non-zero if the exporter wants to support the Match Source button.</td>
</tr>
<tr>
<td><code>canEmbedCaptions</code></td>
<td>New in CC. Set this to non-zero if the exporter can embed Closed Captioning directly in the file.</td>
</tr>
<tr>
<td><code>flags</code></td>
<td>New in 13.0. Will be some combination of the following flag:<ul><li><code>kExInfoRecFlag_None</code></li><li><code>kExInfoRecFlag_VideoOnlyExportNotSupported</code> - exports only video and audio together</li><li><code>kExInfoRecFlag_PostEncodePublishNotSupported</code> - exported result is a complex folder structure or otherwise unsuitable for enabling upload options</li></ul></td>
</tr>
<tr>
<td><code>canEmbedColorProfile</code></td>
<td>New in 11.1. Set this to non-zero if the exporter can embed color profile into the resulting media file</td>
</tr>
<tr>
<td><code>supportsColorManagement</code></td>
<td>New in 13.0. Set this to non-zero if the exporter supports color management.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exexporterinstancerec">exExporterInstanceRec<a class="headerlink" href="#exporters-structure-descriptions-exexporterinstancerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselbegininstance">exSelBeginInstance</a> and <a href="#exporters-selector-descriptions-exselendinstance">exSelEndInstance</a></p>
<p>Provides access to the privateData for the indicated filetype, so that the exporter can allocate privateData and pass it to the host, or deallocate it.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exExporterInstanceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exgeneratedefaultparamrec">exGenerateDefaultParamRec<a class="headerlink" href="#exporters-structure-descriptions-exgeneratedefaultparamrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselgeneratedefaultparams">exSelGenerateDefaultParams</a></p>
<p>Provides access to the privateData for the indicated filetype, so that the exporter can generate the default parameter set.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exExporterInstanceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exparambuttonrec">exParamButtonRec<a class="headerlink" href="#exporters-structure-descriptions-exparambuttonrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselparambutton">exSelParamButton</a></p>
<p>Provides access to the privateData for the indicated filetype, and discloses the specific button hit by the user, since there can be multiple button parameters.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">       </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">              </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">       </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">multiGroupIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">exParamIdentifier</span><span class="w">  </span><span class="n">buttonParamIdentifier</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exParamButtonRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, the current settings are set to export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, the current settings are set to export video.</td>
</tr>
<tr>
<td><code>multiGroupIndex</code></td>
<td>Discloses the index of the multi-group, containing the button hit by the user.</td>
</tr>
<tr>
<td><code>buttonParamIdentifier</code></td>
<td>Discloses the parameter ID of the button hit by the user.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exparamchangedrec">exParamChangedRec<a class="headerlink" href="#exporters-structure-descriptions-exparamchangedrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselvalidateparamchanged">exSelValidateParamChanged</a></p>
<p>Provides access to the privateData for the indicated filetype, and discloses the specific parameter changed by the user.</p>
<p>To notify the host that the plugin is changing other parameters, set <code>rebuildAllParams</code> to a non-zero value.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">       </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">              </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">       </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">multiGroupIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">exParamIdentifier</span><span class="w">  </span><span class="n">changedParamIdentifier</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">        </span><span class="n">rebuildAllParams</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exParamChangedRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, the current settings are set to export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, the current settings are set to export video.</td>
</tr>
<tr>
<td><code>multiGroupIndex</code></td>
<td>Discloses the index of the multi-group, containing the parameter changed by the user.</td>
</tr>
<tr>
<td><code>changedParamIdentifier</code></td>
<td>Discloses the parameter ID of the parameter changed by the user.<br/><br/>May be empty if the changed item was exportAudio, exportVideo or the current multiGroupIndex.</td>
</tr>
<tr>
<td><code>rebuildAllParams</code></td>
<td>Set this to non-zero to tell the host to refresh ALL parameters using the latest provided information.<br/><br/>This can solve various problems when dynamically updating parameter visibility, valid ranges, etc.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exparamsummaryrec">exParamSummaryRec<a class="headerlink" href="#exporters-structure-descriptions-exparamsummaryrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselgetparamsummary">exSelGetParamSummary</a></p>
<p>Provides access to the privateData for the indicated filetype, and provides buffers for the exporter to fill in with a localized summary of the parameters.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">videoSummary</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">audioSummary</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">bitrateSummary</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">exParamSummaryRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, the current settings are set to export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, the current settings are set to export video.</td>
</tr>
<tr>
<td><code>videoSummary</code></td>
<td>Fill these in with a line of a localized summary of the parameters.</td>
</tr>
<tr>
<td><code>audioSummary</code></td>
<td></td>
</tr>
<tr>
<td><code>bitrateSummary</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-expostprocessparamsrec">exPostProcessParamsRec<a class="headerlink" href="#exporters-structure-descriptions-expostprocessparamsrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselpostprocessparams">exSelPostProcessParams</a></p>
<p>Provides access to the privateData for the indicated filetype.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">doConformToMatchParams</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exPostProcessParamsRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>exportAudio</code></td>
<td>If non-zero, the current settings are set to export audio.</td>
</tr>
<tr>
<td><code>exportVideo</code></td>
<td>If non-zero, the current settings are set to export video.</td>
</tr>
<tr>
<td><code>doConformToMatchParams</code></td>
<td>New in CC.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exqueryexportfileextensionrec">exQueryExportFileExtensionRec<a class="headerlink" href="#exporters-structure-descriptions-exqueryexportfileextensionrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselqueryexportfileextension">exSelQueryExportFileExtension</a></p>
<p>Provides access to the privateData for the indicated filetype, and provides a buffer for the exporter to fill in with the file extension.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">outFileExtension</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="p">}</span><span class="w"> </span><span class="n">exQueryExportFileExtensionRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>outFileExtension</code></td>
<td>Provide the file extension here, given the current parameter settings.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exqueryoutputfilelistrec">exQueryOutputFileListRec<a class="headerlink" href="#exporters-structure-descriptions-exqueryoutputfilelistrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselqueryoutputfilelist">exSelQueryOutputFileList</a></p>
<p>Provides access to the privateData for the indicated filetype, and provides a pointer to a array of <code>exOutputFileRecs</code> for the exporter to fill in with the file paths.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">     </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">            </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">     </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">     </span><span class="n">numOutputFiles</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">      </span><span class="n">path</span><span class="p">;</span>
<span class="w">  </span><span class="n">exOutputFileRec</span><span class="w">  </span><span class="o">*</span><span class="n">outputFileRecs</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exQueryOutputFileListRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>numOutputFiles</code></td>
<td>On the first call to <code>exSelQueryOutputFileList</code>, provide the number of file paths here.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>New in CS5. Contains the primary intended destination path provided by the host.</td>
</tr>
<tr>
<td><code>outputFileRecs</code></td>
<td>An array of <code>exOutputFileRecs</code>.<br/><br/>On the second call to <code>exSelQueryOutputFileList</code>, the path length (including trailing null) for each path.<br/><br/>On the third call, fill in the path of each exOutputFileRec.<pre>typedef struct {<br/>  int           pathLength;<br/>  prUTF16Char*  path;<br/>} exOutputFileRec;</pre></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exqueryoutputsettingsrec">exQueryOutputSettingsRec<a class="headerlink" href="#exporters-structure-descriptions-exqueryoutputsettingsrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselqueryoutputsettings">exSelQueryOutputSettings</a></p>
<p>Provides access to the privateData for the indicated filetype, and provides a set of members for the exporter to fill in with the current export settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">               </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">inMultiGroupIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">inExportVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">inExportAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outVideoWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outVideoHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">              </span><span class="n">outVideoFrameRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outVideoAspectNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outVideoAspectDen</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outVideoFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w">              </span><span class="n">outAudioSampleRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioSampleType</span><span class="w">   </span><span class="n">outAudioSampleType</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioChannelType</span><span class="w">  </span><span class="n">outAudioChannelType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">outBitratePerSecond</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">         </span><span class="n">outUseMaximumRenderPrecision</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exQueryOutputSettingsRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>inMultiGroupIndex</code></td>
<td>Return the parameter settings of the multi-group with this index.</td>
</tr>
<tr>
<td><code>inExportVideo</code></td>
<td>If non-zero, the current settings are set to export video.</td>
</tr>
<tr>
<td><code>inExportAudio</code></td>
<td>If non-zero, the current settings are set to export audio.</td>
</tr>
<tr>
<td><code>outVideoWidth</code><br/><code>outVideoHeight</code></td>
<td>Return each parameter setting, by getting the current value of the parameter using the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.<br/><br/>Some settings, such as <code>outVideoFieldType</code>, may be implicit, for example if the format only supports progressive frames.</td>
</tr>
<tr>
<td><code>outUseMaximumRenderPrecision</code></td>
<td>New in CS6. If non-zero, renders will always be made at maximum bit-depth.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exquerystillsequencerec">exQueryStillSequenceRec<a class="headerlink" href="#exporters-structure-descriptions-exquerystillsequencerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselquerystillsequence">exSelQueryStillSequence</a></p>
<p>Provides access to the privateData for the indicated filetype, and provides a set of members for the exporter to provide information on how it would export the sequence of stills.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">exportAsStillSequence</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">exportFrameRate</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exQueryStillSequenceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
<tr>
<td><code>exportAsStillSequence</code></td>
<td>Set this to non-zero to tell the host that the exporter can export the stills as a sequence.</td>
</tr>
<tr>
<td><code>exportFrameRate</code></td>
<td>Set this to the frame rate of the still sequence.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exvalidateoutputsettingsrec">exValidateOutputSettingsRec<a class="headerlink" href="#exporters-structure-descriptions-exvalidateoutputsettingsrec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselvalidateoutputsettings">exSelValidateOutputSettings</a></p>
<p>Provides access to the privateData for the indicated filetype, so that the exporter can validate the current parameter settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">fileType</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exExporterInstanceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>fileType</code></td>
<td>The file format four character code set by the exporter during <a href="#exporters-selector-descriptions-exselstartup">exSelStartup</a>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-structure-descriptions-exqueryexportcolorspacerec">exQueryExportColorSpaceRec<a class="headerlink" href="#exporters-structure-descriptions-exqueryexportcolorspacerec" title="Permanent link">&para;</a></h2>
<p>Selector: <a href="#exporters-selector-descriptions-exselqueryexportcolorspace">exSelQueryExportColorSpace</a></p>
<p>Provides access to the privateData for the indicated filetype, so that the exporter can validate the current parameter settings.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">exporterPluginID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                           </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">ColorSpaceRec</span><span class="w">       </span><span class="n">outExportColorSpace</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">exQueryExportColorSpaceRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>exporterPluginID</code></td>
<td>The host's internal identifier for this exporter. Do not modify.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data allocated and managed by the exporter.</td>
</tr>
<tr>
<td><code>outExportColorSpace</code></td>
<td>Structure describing the colorspace to be used during export. Check <code>ColorSpaceRec</code> for details.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="exporters-suites"><h1 id="exporters-suites-suites">Suites<a class="headerlink" href="#exporters-suites-suites" title="Permanent link">&para;</a></h1>
<p>For information on how to acquire and manage suites, see <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<hr />
<h2 id="exporters-suites-export-file-suite">Export File Suite<a class="headerlink" href="#exporters-suites-export-file-suite" title="Permanent link">&para;</a></h2>
<p>A cross-platform suite for writing to files on disk. Also provides a call to get the file path, given the file object.</p>
<p>Version 2 resolves a mismatch in seek modes in version 1, where <code>fileSeekMode_End</code> was handled as <code>fileSeekMode_Current</code> and visa versa.</p>
<p>See PrSDKExportFileSuite.h.</p>
<hr />
<h2 id="exporters-suites-export-info-suite">Export Info Suite<a class="headerlink" href="#exporters-suites-export-info-suite" title="Permanent link">&para;</a></h2>
<h3 id="exporters-suites-getexportsourceinfo">GetExportSourceInfo<a class="headerlink" href="#exporters-suites-getexportsourceinfo" title="Permanent link">&para;</a></h3>
<p>Get information on the source currently being exported.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetExportSourceInfo</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                </span><span class="n">inExporterPluginID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrExportSourceInfoSelector</span><span class="w">  </span><span class="n">inSelector</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrParam</span><span class="w">                     </span><span class="o">*</span><span class="n">outSourceInfo</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>kExportInfo_VideoWidth</code></td>
<td>Int32</td>
<td>Width of source video</td>
</tr>
<tr>
<td><code>kExportInfo_VideoHeight</code></td>
<td>Int32</td>
<td>Height of source video</td>
</tr>
<tr>
<td><code>kExportInfo_VideoFrameRate</code></td>
<td>PrTime</td>
<td>Frame rate</td>
</tr>
<tr>
<td><code>kExportInfo_VideoFieldType</code></td>
<td>Int32</td>
<td>One of the prFieldType values</td>
</tr>
<tr>
<td><code>kExportInfo_VideoDuration</code></td>
<td>Int64</td>
<td>A PrTime value</td>
</tr>
<tr>
<td><code>kExportInfo_PixelAspectNumerator</code></td>
<td>Int32</td>
<td>Pixel aspect ratio (PAR) numerator</td>
</tr>
<tr>
<td><code>kExportInfo_PixelAspectDenominator</code></td>
<td>Int32</td>
<td>Pixel aspect ratio denominator</td>
</tr>
<tr>
<td><code>kExportInfo_AudioDuration</code></td>
<td>Int64</td>
<td>A PrTime value</td>
</tr>
<tr>
<td><code>kExportInfo_AudioChannelsType</code></td>
<td>Int32</td>
<td>One of the <code>PrAudioChannelType</code> values.<br/><br/>Returns 0 (which is undefined) if there's no audio.</td>
</tr>
<tr>
<td><code>kExportInfo_AudioSampleRate</code></td>
<td>Float64</td>
<td></td>
</tr>
<tr>
<td><code>kExportInfo_SourceHasAudio</code></td>
<td>Bool</td>
<td>Non-zero if source has audio</td>
</tr>
<tr>
<td><code>kExportInfo_SourceHasVideo</code></td>
<td>Bool</td>
<td>Non-zero if source has video</td>
</tr>
<tr>
<td><code>kExportInfo_RenderAsPreview</code></td>
<td>Bool</td>
<td>Returns a non-zero value if currently rendering preview files.</td>
</tr>
<tr>
<td><code>kExportInfo_SequenceGUID</code></td>
<td>Guid</td>
<td>A <code>PrPluginID</code>, which is a unique GUID for the sequence.</td>
</tr>
<tr>
<td><code>kExportInfo_SessionFilePath</code></td>
<td>PrMemoryPtr</td>
<td>A <code>prUTF16Char</code> array. The exporter should release the pointer using the <a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a>.</td>
</tr>
<tr>
<td><code>kExportInfo_VideoPosterFrameTickTime</code></td>
<td>Int64</td>
<td>New in CS5. A PrTime value.</td>
</tr>
<tr>
<td><code>kExportInfo_SourceTimecode</code></td>
<td>PrMemoryPtr</td>
<td>New in CS5.0.2. The timecode of the source clip or sequence.<br/><br/>The sequence timecode is set by the Start Time of a sequence using the sequence wing-menu. A pointer to a ExporterTimecodeRec structure.<br/><br/>The exporter should release the pointer using the <a href="#universals-sweetpea-suites-memory-manager-suite">Memory Manager Suite</a>.</td>
</tr>
<tr>
<td><code>kExportInfo_UsePreviewFiles</code></td>
<td>Bool</td>
<td>New in CC. Use this to check if the user has checked "Use Previews" in the Export Settings dialog.<br/><br/>If so, if possible, reuse any preview files already rendered, which can be retrieved using <code>AcquireVideoSegmentsWithPreviewsID</code> in the <a href="#universals-sweetpea-suites-video-segment-suite">Video Segment Suite</a>.</td>
</tr>
<tr>
<td><code>kExportInfo_NumAudioChannels</code></td>
<td>Int32</td>
<td>New in CC. Get the number of audio channels in a given source.<br/><br/>This can be used to automatically initialize the audio channel parameter in the Audio tab of the Export Settings to match the source.</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">  </span><span class="n">mTimecodeTicks</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int64</span><span class="w">  </span><span class="n">mTicksPerFrame</span><span class="p">;</span>
<span class="w">  </span><span class="kt">bool</span><span class="w">         </span><span class="n">mTimecodeStartPrefersDropFrame</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">ExporterTimecodeRec</span><span class="p">;</span>
</code></pre></div>
<hr />
<h2 id="exporters-suites-export-param-suite">Export Param Suite<a class="headerlink" href="#exporters-suites-export-param-suite" title="Permanent link">&para;</a></h2>
<p>Specify all parameters for your exporter UI. See PrSDKExportParamSuite.h.</p>
<p>Also, see the SDK Export sample for a demonstration of how to use this suite.</p>
<p>To provide either a set of radio buttons or a drop-down list of choices, use AddConstrainedValuePair().</p>
<p>Adding two choices will result in a pair of radio buttons side-by-side.</p>
<p>Three or more choices will be displayed as a drop-down box.</p>
<p>Adding only one value will result in a hard-coded string.</p>
<p>In CS5, and later fixed in 5.0.2, there is an issue where width and height ranges aren't correctly set.</p>
<p>You may notice this when adjusting the width and height in the Export Settings UI.</p>
<p>By unclicking the chain that constrains width and height ratio, you will be able to modify the width and height.</p>
<p>As a side-effect of this bug, if the exporter is used to render preview files in an Editing Mode, the user will be able to choose any preview frame size between 24x24 and 10240x8192.</p>
<p>CS6 adds SetParamDescription(), to set tooltip strings for parameters.</p>
<p>CC adds MoveParam(), to move an existing parameter to a new location. This can be used for both standard parameters and group parameters.</p>
<hr />
<h2 id="exporters-suites-export-progress-suite">Export Progress Suite<a class="headerlink" href="#exporters-suites-export-progress-suite" title="Permanent link">&para;</a></h2>
<p>For pull-model exporters. Report progress during the export. Also, handle the case where the user pauses or cancels an export. See PrSDKExportProgressSuite.h.</p>
<hr />
<h2 id="exporters-suites-export-standard-param-suite">Export Standard Param Suite<a class="headerlink" href="#exporters-suites-export-standard-param-suite" title="Permanent link">&para;</a></h2>
<p>New in CS6. A suite for registering one of several common parameter sets, reducing parameter management code on the plugin side.</p>
<h3 id="exporters-suites-addstandardparams">AddStandardParams<a class="headerlink" href="#exporters-suites-addstandardparams" title="Permanent link">&para;</a></h3>
<p>Register a set of standard parameters to be used by the exporter.</p>
<p>Call during <code>exSelGenerateDefaultParams</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">AddStandardParams</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">       </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrSDKStdParamType</span><span class="w">  </span><span class="n">inSDKStdParamType</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inSDKStdParamType</code></td>
<td>Use one of the following:<pre>enum PrSDKStdParamType {<br/>  SDKStdParams_Video,<br/>  SDKStdParams_Audio,<br/>  SDKStdParams_Still,<br/>  SDKStdParams_VideoBitrateGroup,<br/>  SDKStdParams_Video_NoRenderMax,<br/>  SDKStdParams_Video_AddRenderMax,<br/>  SDKStdParams_AudioTabOnly,<br/>  SDKStdParams_AudioBitrateGroup,<br/>  SDKStdParams_VideoWithSizePopup<br/>};</pre></td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-postprocessparamnames">PostProcessParamNames<a class="headerlink" href="#exporters-suites-postprocessparamnames" title="Permanent link">&para;</a></h3>
<p>Call during <code>exSelPostProcessParams</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PostProcessParamNames</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrAudioChannelType</span><span class="w">  </span><span class="n">inSourceAudioChannelType</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inSourceAudioChannelType</code></td>
<td>Pass in the source audio channel type, which can be queried from GetExportSourceInfo in the <a href="#exporters-suites-export-info-suite">Export Info Suite</a>.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-queryoutputsettings">QueryOutputSettings<a class="headerlink" href="#exporters-suites-queryoutputsettings" title="Permanent link">&para;</a></h3>
<p>Call during <code>exSelQueryOutputSettings</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">QueryOutputSettings</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">               </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">exQueryOutputSettingsRec</span><span class="o">*</span><span class="w">  </span><span class="n">outOutputSettings</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in exporterPluginID from exDoExportRec.</td>
</tr>
<tr>
<td><code>outOutputSettings</code></td>
<td>This structure will be filled out based on the standard parameter settings.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-makeparamsummary">MakeParamSummary<a class="headerlink" href="#exporters-suites-makeparamsummary" title="Permanent link">&para;</a></h3>
<p>Call during <code>exSelGetParamSummary</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeParamSummary</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inDoVideo</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inDoAudio</span><span class="p">,</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">outVideoDescription</span><span class="p">,</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">outAudioDescription</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inDoVideo</code></td>
<td>Pass in <code>exParamSummaryRec.exportVideo</code> / <code>exportAudio</code> so that the summary will be set based on whether video / audio are being exported.</td>
</tr>
<tr>
<td><code>inDoAudio</code></td>
<td></td>
</tr>
<tr>
<td><code>outVideoDescription</code></td>
<td>These will be filled out based on the standard parameter settings.</td>
</tr>
<tr>
<td><code>outAudioDescription</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-suites-exporter-utility-suite">Exporter Utility Suite<a class="headerlink" href="#exporters-suites-exporter-utility-suite" title="Permanent link">&para;</a></h2>
<p>New in CS6. Provides functions for push-model exporters, and also provides a way to register an export event (error, warning, or info) to be displayed by the host and written to the log.</p>
<h3 id="exporters-suites-domultipassexportloop">DoMultiPassExportLoop<a class="headerlink" href="#exporters-suites-domultipassexportloop" title="Permanent link">&para;</a></h3>
<p>Register the callback to be made to push video frames to the exporter. This function assumes that your exporter supports <code>exSelQueryOutputSettings</code>, which will be called.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">DoMultiPassExportLoop</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                                     </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">ExportLoopRenderParams</span><span class="o">*</span><span class="w">                    </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                                     </span><span class="n">inNumberOfPasses</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrSDKMultipassExportLoopFrameCompletionFunction</span><span class="w">  </span><span class="n">inCompletionFunction</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                                            </span><span class="n">inCompletionParam</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inRenderParams</code></td>
<td>Pass in the parameters that will be used for the render loop that will push rendered frames via the provided callback <code>inCompletionFunction</code>.<br/><br/><code>inReservedProgressPreRender</code> and <code>inReservedProgressPostRender</code> should be set to the amount of progress to be shown in any progress bar before starting the render loop, and how much is remaining after finishing the render loop.<br/><br/>These values default to zero.<pre>typedef struct {<br/>  csSDK_int32    inRenderParamsSize;<br/>  csSDK_int32    inRenderParamsVersion;<br/>  PrPixelFormat  inFinalPixelFormat;<br/>  PrTime         inStartTime;<br/>  PrTime         inEndTime;<br/>  float          inReservedProgressPreRender;<br/>  float          inReservedProgressPostRender;<br/>  bool           inHardwareResidentFrameOutputSupported;  // new in 14.x<br/>} ExportLoopRenderParams;</pre></td>
</tr>
<tr>
<td><code>inNumberOfPasses</code></td>
<td>Set to 1, unless you need multipass encoding such as two-pass or three-pass encoding.</td>
</tr>
<tr>
<td><code>inCompletionFunction</code></td>
<td>Provide your own callback here, which will be called when the host pushes rendered frames. Use the following function signature:<pre>typedef prSuiteError (*PrSDKMultipassExportLoop FrameCompletionFunction)(<br/>  csSDK_uint32  inWhichPass,<br/>  csSDK_uint32  inFrameNumber,<br/>  csSDK_uint32  inFrameRepeatCount,<br/>  PPixHand      inRenderedFrame,<br/>  void*         inCallbackData);</pre>Currently, there is no simple way to ensure that pushed frames survive longer than the life of the function call.<br/><br/>If you are interested in this capability, please contact us and explain your need.</td>
</tr>
<tr>
<td><code>inCompletionParam</code></td>
<td>Pass in a void * to the data you wish to send to your <code>inCompletionFunction</code> above in <code>inCallbackData</code>.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-reportintermediateprogressforrepeatedvideoframe">ReportIntermediateProgressForRepeatedVideoFrame<a class="headerlink" href="#exporters-suites-reportintermediateprogressforrepeatedvideoframe" title="Permanent link">&para;</a></h3>
<p>Register the callback to be made to push video frames to the exporter.</p>
<p>This function assumes that your exporter supports <code>exSelQueryOutputSettings</code>, which will be called.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReportIntermediateProgressForRepeatedVideoFrame</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inRepetitionsProcessedSinceLastUpdate</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inRepetitionsProcessedSinceLastUpdate</code></td>
<td>Pass in the number of repeated frames processed since the last call was made, if any.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-reportevent">ReportEvent<a class="headerlink" href="#exporters-suites-reportevent" title="Permanent link">&para;</a></h3>
<p>Report an event to the host, for a specific encode in progress in the Adobe Media Encoder render queue or Premiere Pro.</p>
<p>These events are displayed in the application UI, and are also added to the AME encoding log.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReportEvent</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">inExporterID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">inEventType</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">inEventTitle</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">prUTF16Char</span><span class="o">*</span><span class="w">  </span><span class="n">inEventDescription</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inExporterID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inEventType</code></td>
<td>Use one of the types from the <a href="#universals-sweetpea-suites-error-suite">Error Suite</a>:<ul><li><code>kEventTypeInformational</code></li><li><code>kEventTypeWarning</code></li><li><code>kEventTypeError</code></li></ul></td>
</tr>
<tr>
<td><code>inEventTitle</code></td>
<td>Provide information about the event for the user.</td>
</tr>
<tr>
<td><code>inEventDescription</code></td>
<td></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="exporters-suites-palette-suite">Palette Suite<a class="headerlink" href="#exporters-suites-palette-suite" title="Permanent link">&para;</a></h2>
<p>A seldom-used suite for palettizing an image, for example, for GIFs. See PrSDKPaletteSuite.h.</p>
<hr />
<h2 id="exporters-suites-sequence-audio-suite">Sequence Audio Suite<a class="headerlink" href="#exporters-suites-sequence-audio-suite" title="Permanent link">&para;</a></h2>
<p>Get audio from the host.</p>
<h3 id="exporters-suites-makeaudiorenderer">MakeAudioRenderer<a class="headerlink" href="#exporters-suites-makeaudiorenderer" title="Permanent link">&para;</a></h3>
<p>Create an audio renderer, in preparation to get rendered audio from the host.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeAudioRenderer</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">        </span><span class="n">inPluginID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">              </span><span class="n">inStartTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrAudioChannelType</span><span class="w">  </span><span class="n">inChannelType</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrAudioSampleType</span><span class="w">   </span><span class="n">inSampleType</span><span class="p">,</span>
<span class="w">  </span><span class="kt">float</span><span class="w">               </span><span class="n">inSampleRate</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">       </span><span class="n">outAudioRenderID</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPluginID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inStartTime</code></td>
<td>Start time for the audio requests.</td>
</tr>
<tr>
<td><code>inChannelType</code></td>
<td><code>PrAudioChannelType</code> enum value for the channel type needed.</td>
</tr>
<tr>
<td><code>inSampleType</code></td>
<td>This should always be <code>kPrAudioSampleType_32BitFloat</code>. Other types are unsupported.</td>
</tr>
<tr>
<td><code>inSampleRate</code></td>
<td>Samples per second.</td>
</tr>
<tr>
<td><code>outAudioRenderID</code></td>
<td>This ID passed back is needed for subsequent calls to this suite.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-releaseaudiorenderer">ReleaseAudioRenderer<a class="headerlink" href="#exporters-suites-releaseaudiorenderer" title="Permanent link">&para;</a></h3>
<p>Release the audio renderer when the exporter is done requesting audio.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReleaseAudioRenderer</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inPluginID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inAudioRenderID</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPluginID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inAudioRenderID</code></td>
<td>The call will release the audio renderer with this ID.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-getaudio">GetAudio<a class="headerlink" href="#exporters-suites-getaudio" title="Permanent link">&para;</a></h3>
<p>Returns from the host the next contiguous requested number of audio sample frames, specified in inFrameCount, in inBuffer as arrays of uninterleaved floating point values.</p>
<p>Returns <code>suiteError_NoError</code> if no error.</p>
<p>The plugin must manage the memory allocation of inBuffer, which must point to n buffers of floating point values of length inFrameCount, where n is the number of channels.</p>
<p>When inClipAudio is non-zero, this parameter makes GetAudio clip the audio samples at +/- 1.0.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetAudio</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inAudioRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inFrameCount</span><span class="p">,</span>
<span class="w">  </span><span class="kt">float</span><span class="o">**</span><span class="w">       </span><span class="n">inBuffer</span><span class="p">,</span>
<span class="w">  </span><span class="kt">char</span><span class="w">          </span><span class="n">inClipAudio</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inAudioRenderID</code></td>
<td>Pass in the <code>outAudioRenderID</code> returned from <code>MakeAudioRenderer()</code>.<br/><br/>This gives the host the context of the audio render.</td>
</tr>
<tr>
<td><code>inFrameCount</code></td>
<td>The number of audio frames to return in inBuffer.<br/><br/>The next contiguous audio frames will always be returned, unless <code>ResetAudioToBeginning</code> has just been called.</td>
</tr>
<tr>
<td><code>inBuffer</code></td>
<td>An array of float arrays, allocated by the exporter.<br/><br/>The host returns the samples for each audio channel in a separate array.</td>
</tr>
<tr>
<td><code>inClipAudio</code></td>
<td>When true, <code>GetAudio</code> will return audio clipped at +/- 1.0. Otherwise, it will return unclipped audio.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-resetaudiotobeginning">ResetAudioToBeginning<a class="headerlink" href="#exporters-suites-resetaudiotobeginning" title="Permanent link">&para;</a></h3>
<p>This call will reset the position on the audio generation to time zero. This can be used for multipass encoding.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ResetAudioToBeginning</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inAudioRenderID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getmaxblip">GetMaxBlip<a class="headerlink" href="#exporters-suites-getmaxblip" title="Permanent link">&para;</a></h3>
<p>Returns the maximum number of audio sample frames that can be requested from one call to <code>GetAudio</code> in <code>maxBlipSize</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetMaxBlip</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inAudioRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inTicksPerFrame</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">maxBlipSize</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="exporters-suites-sequence-render-suite">Sequence Render Suite<a class="headerlink" href="#exporters-suites-sequence-render-suite" title="Permanent link">&para;</a></h2>
<p>Get rendered video from one of the renderers available to the host. This may use one of the host's built-in renderers, or a plugin renderer, if available For best performance, use the asynchronous render requests with the source media prefetching calls, although synchronous rendering is available too.</p>
<p>Version 4, new in CS5.5, adds <code>RenderVideoFrameAndConformToPixelFormat()</code>.</p>
<h3 id="exporters-suites-makevideorenderer">MakeVideoRenderer()<a class="headerlink" href="#exporters-suites-makevideorenderer" title="Permanent link">&para;</a></h3>
<p>Create a video renderer, in preparation to get rendered video.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeVideoRenderer</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">pluginID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">outVideoRenderID</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">inFrameRate</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pluginID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>outVideoRenderID</code></td>
<td>This ID passed back is needed for subsequent calls to this suite.</td>
</tr>
<tr>
<td><code>inFrameRate</code></td>
<td>Frame rate, in ticks.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-releasevideorenderer">ReleaseVideoRenderer()<a class="headerlink" href="#exporters-suites-releasevideorenderer" title="Permanent link">&para;</a></h3>
<p>Release the video renderer when the exporter is done requesting video.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReleaseVideoRenderer</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">pluginID</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inVideoRenderID</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pluginID</code></td>
<td>Pass in <code>exporterPluginID</code> from <code>exDoExportRec</code>.</td>
</tr>
<tr>
<td><code>inVideoRenderID</code></td>
<td>The call will release the video renderer with this ID.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-struct-sequencerender_paramsrec">struct SequenceRender_ParamsRec<a class="headerlink" href="#exporters-suites-struct-sequencerender_paramsrec" title="Permanent link">&para;</a></h3>
<p>Fill this structure in before calling <code>RenderVideoFrame()</code>, <code>QueueAsyncVideoFrameRender()</code>, or <code>PrefetchMediaWithRenderParameters()</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the frame aspect ratio of the request does not match that of the sequence, the frame will be letterboxed or pillarboxed, rather than stretched to fit the frame.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrPixelFormat</span><span class="o">*</span><span class="w">  </span><span class="n">inRequestedPixelFormatArray</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inRequestedPixelFormatArrayCount</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioNumerator</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioDenominator</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inRenderQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">           </span><span class="n">inFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inDeinterlace</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inDeinterlaceQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inCompositeOnBlack</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">SequenceRender_ParamsRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inRequestedPixelFormatArray</code></td>
<td>An array of PrPixelFormats that list your format preferences in order.</td>
</tr>
<tr>
<td><code>inRequestedPixelFormatArrayCount</code></td>
<td>Size of the pixel format array.</td>
</tr>
<tr>
<td><code>inWidth</code></td>
<td>Width to render at.</td>
</tr>
<tr>
<td><code>inHeight</code></td>
<td>Height to render at.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioNumerator</code></td>
<td>Numerator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioDenominator</code></td>
<td>Denominator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inRenderQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inFieldType</code></td>
<td>Use one of the prFieldType constants.</td>
</tr>
<tr>
<td><code>inDeinterlace</code></td>
<td>Set to non-zero, to force an explicit deinterlace. Otherwise, the renderer will use the output field setting to determine whether to automatically deinterlace any interlaced sources.</td>
</tr>
<tr>
<td><code>inDeinterlaceQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inCompositeOnBlack</code></td>
<td>Set to non-zero, to composite the render on black.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-struct-sequencerender_paramsrecext">struct SequenceRender_ParamsRecExt<a class="headerlink" href="#exporters-suites-struct-sequencerender_paramsrecext" title="Permanent link">&para;</a></h3>
<p>Fill this structure in before calling <code>RenderVideoFrame()</code>, <code>QueueAsyncVideoFrameRender()</code>, or <code>PrefetchMediaWithRenderParameters()</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the frame aspect ratio of the request does not match that of the sequence, the frame will be letterboxed or pillarboxed, rather than stretched to fit the frame.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrPixelFormat</span><span class="o">*</span><span class="w">  </span><span class="n">inRequestedPixelFormatArray</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inRequestedPixelFormatArrayCount</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioNumerator</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioDenominator</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inRenderQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">           </span><span class="n">inFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inDeinterlace</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inDeinterlaceQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inCompositeOnBlack</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKColorSpaceID</span><span class="w">       </span><span class="n">inPrSDKColorSpaceID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">SequenceRender_ParamsRecExt</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inRequestedPixelFormatArray</code></td>
<td>An array of PrPixelFormats that list your format preferences in order.</td>
</tr>
<tr>
<td><code>inRequestedPixelFormatArrayCount</code></td>
<td>Size of the pixel format array.</td>
</tr>
<tr>
<td><code>inWidth</code></td>
<td>Width to render at.</td>
</tr>
<tr>
<td><code>inHeight</code></td>
<td>Height to render at.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioNumerator</code></td>
<td>Numerator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioDenominator</code></td>
<td>Denominator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inRenderQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inFieldType</code></td>
<td>Use one of the prFieldType constants.</td>
</tr>
<tr>
<td><code>inDeinterlace</code></td>
<td>Set to non-zero, to force an explicit deinterlace. Otherwise, the renderer will use the output field setting to determine whether to automatically deinterlace any interlaced sources.</td>
</tr>
<tr>
<td><code>inDeinterlaceQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inCompositeOnBlack</code></td>
<td>Set to non-zero, to composite the render on black.</td>
</tr>
<tr>
<td><code>inPrSDKColorSpaceID</code></td>
<td>Identifies the color space being used.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-struct-sequencerender_paramsrecext2">struct SequenceRender_ParamsRecExt2<a class="headerlink" href="#exporters-suites-struct-sequencerender_paramsrecext2" title="Permanent link">&para;</a></h3>
<p>Fill this structure in before calling <code>RenderVideoFrame()</code>, <code>QueueAsyncVideoFrameRender()</code>, or <code>PrefetchMediaWithRenderParameters()</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the frame aspect ratio of the request does not match that of the sequence, the frame will be letterboxed or pillarboxed, rather than stretched to fit the frame.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrPixelFormat</span><span class="o">*</span><span class="w">  </span><span class="n">inRequestedPixelFormatArray</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inRequestedPixelFormatArrayCount</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioNumerator</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inPixelAspectRatioDenominator</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inRenderQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">           </span><span class="n">inFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inDeinterlace</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">       </span><span class="n">inDeinterlaceQuality</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">           </span><span class="n">inCompositeOnBlack</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKColorSpaceID</span><span class="w">       </span><span class="n">inPrSDKColorSpaceID</span><span class="p">;</span>
<span class="w">      </span><span class="n">PrSDKLUTID</span><span class="w">                      </span><span class="n">inPrSDKLUTID</span><span class="p">;</span><span class="w">                   </span><span class="c1">// Added to support export LUT</span>
<span class="p">}</span><span class="w"> </span><span class="n">SequenceRender_ParamsRecExt2</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inRequestedPixelFormatArray</code></td>
<td>An array of PrPixelFormats that list your format preferences in order.</td>
</tr>
<tr>
<td><code>inRequestedPixelFormatArrayCount</code></td>
<td>Size of the pixel format array.</td>
</tr>
<tr>
<td><code>inWidth</code></td>
<td>Width to render at.</td>
</tr>
<tr>
<td><code>inHeight</code></td>
<td>Height to render at.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioNumerator</code></td>
<td>Numerator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inPixelAspectRatioDenominator</code></td>
<td>Denominator of the pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inRenderQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inFieldType</code></td>
<td>Use one of the prFieldType constants.</td>
</tr>
<tr>
<td><code>inDeinterlace</code></td>
<td>Set to non-zero, to force an explicit deinterlace. Otherwise, the renderer will use the output field setting to determine whether to automatically deinterlace any interlaced sources.</td>
</tr>
<tr>
<td><code>inDeinterlaceQuality</code></td>
<td>Use one of the PrRenderQuality enumerated values.</td>
</tr>
<tr>
<td><code>inCompositeOnBlack</code></td>
<td>Set to non-zero, to composite the render on black.</td>
</tr>
<tr>
<td><code>inPrSDKColorSpaceID</code></td>
<td>New in 13.0. Identifies the color space being used.</td>
</tr>
<tr>
<td><code>inPrSDKLUTID</code></td>
<td>New in 14.4. Identifies the color space being used.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-struct-sequencerender_getframereturnrec">struct SequenceRender_GetFrameReturnRec<a class="headerlink" href="#exporters-suites-struct-sequencerender_getframereturnrec" title="Permanent link">&para;</a></h3>
<p>Returned from <code>RenderVideoFrame()</code> and passed by <code>PrSDKSequenceAsyncRenderCompletionProc()</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">        </span><span class="n">asyncCompletionData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">returnVal</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">repeatCount</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">onMarker</span><span class="p">;</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">     </span><span class="n">outFrame</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>asyncCompletionData</code></td>
<td>Passed to <code>PrSDKSequenceAsyncRenderCompletionProc()</code> from <code>QueueAsyncVideoFrameRender()</code>.<br/><br/>Not used by <code>RenderVideoFrame()</code>.</td>
</tr>
<tr>
<td><code>returnVal</code></td>
<td><code>ErrNone</code>, <code>Abort</code>, <code>Done</code>, or an error code.</td>
</tr>
<tr>
<td><code>repeatCount</code></td>
<td>The number of repeated frames from this frame forward.<br/><br/>In the output file, this could be writing NULL frames, changing the current frame's duration, or whatever is appropriate according to the codec.</td>
</tr>
<tr>
<td><code>onMarker</code></td>
<td>If non-zero, there is a marker on this frame.</td>
</tr>
<tr>
<td><code>outFrame</code></td>
<td>Returned from <code>RenderVideoFrame()</code>. Not returned from <code>PrSDKSequenceAsyncRenderCompletionProc()</code></td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-rendervideoframe">RenderVideoFrame()<a class="headerlink" href="#exporters-suites-rendervideoframe" title="Permanent link">&para;</a></h3>
<p>The basic, synchronous call to get a rendered frame from the host.</p>
<p>Returns:</p>
<ul>
<li><code>suiteError_NoError</code> if you can continue exporting,</li>
<li><code>exportReturn_Abort</code> if the user aborted the export,</li>
<li><code>exportReturn_Done</code> if the export has finished, or</li>
<li>an error code.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderVideoFrame</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                       </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                             </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_ParamsRec</span><span class="o">*</span><span class="w">          </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrRenderCacheType</span><span class="w">                  </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">  </span><span class="n">getFrameReturn</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inVideoRenderID</code></td>
<td>Pass in the <code>outVideoRenderID</code> returned from <code>MakeVideoRenderer()</code>.<br/><br/>This gives the host the context of the video render.</td>
</tr>
<tr>
<td><code>inTime</code></td>
<td>The frame time requested.</td>
</tr>
<tr>
<td><code>inRenderParams</code></td>
<td>The details of the render.</td>
</tr>
<tr>
<td><code>inCacheFlags</code></td>
<td>One or more cache flags.</td>
</tr>
<tr>
<td><code>getFrameReturn</code></td>
<td>Passes back a structure that contains info about the frame returned, and the rendered frame itself.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-getframeinfo">GetFrameInfo()<a class="headerlink" href="#exporters-suites-getframeinfo" title="Permanent link">&para;</a></h3>
<p>Gets information about a given frame.</p>
<p>Currently, <code>SequenceRender_FrameInfoRec</code> only contains <code>repeatCount</code>, which is the number of repeated frames from this frame forward.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetFrameInfo</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                 </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                       </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_FrameInfoRec</span><span class="o">*</span><span class="w">  </span><span class="n">outFrameInfo</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-setasyncrendercompletionproc">SetAsyncRenderCompletionProc()<a class="headerlink" href="#exporters-suites-setasyncrendercompletionproc" title="Permanent link">&para;</a></h3>
<p>Register a notification callback for getting asynchronously rendered frames when the render completes.</p>
<p><code>asyncGetFrameCallback</code> should have the signature described in <code>PrSDKSequenceAsyncRenderCompletionProc</code> below.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">SetAsyncRenderCompletionProc</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                            </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrSDKSequenceAsyncRenderCompletionProc</span><span class="w">  </span><span class="n">asyncGetFrameCallback</span><span class="p">,</span>
<span class="w">  </span><span class="kt">long</span><span class="w">                                    </span><span class="n">callbackRef</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inVideoRenderID</code></td>
<td>Pass in the <code>outVideoRenderID</code> returned from <code>MakeVideoRenderer()</code>.<br/><br/>This will be passed to <code>PrSDKSequenceAsyncRenderCompletionProc</code>.</td>
</tr>
<tr>
<td><code>asyncGetFrameCallback</code></td>
<td>The notification callback.</td>
</tr>
<tr>
<td><code>inCallbackRef</code></td>
<td>A pointer holding data private to the exporter.<br/><br/>This could be, for example, a pointer to an exporter instance. This will also be passed to <code>PrSDKSequenceAsyncRenderCompletionProc</code>.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-prsdksequenceasyncrendercompletionproc">PrSDKSequenceAsyncRenderCompletionProc()<a class="headerlink" href="#exporters-suites-prsdksequenceasyncrendercompletionproc" title="Permanent link">&para;</a></h3>
<p>Use this function signature for your callback used for async frame notification, passed to <code>SetAsyncRenderCompletionProc</code>.</p>
<p>Error status (error or abort) is returned in <code>inGetFrameReturn</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrSDKSequenceAsyncRenderCompletionProc</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                      </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                              </span><span class="n">inCallbackRef</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                            </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">                          </span><span class="n">inRenderedFrame</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="w">  </span><span class="o">*</span><span class="n">inGetFrameReturn</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inVideoRenderID</code></td>
<td>The outVideoRenderID that the exporter passed to <code>SetAsyncRenderCompletionProc</code> earlier.</td>
</tr>
<tr>
<td><code>inCallbackRef</code></td>
<td>A pointer that the exporter sets using <code>SetAsyncRenderCompletionProc()</code>.<br/><br/>This could be, for example, a pointer to an exporter instance.</td>
</tr>
<tr>
<td><code>inTime</code></td>
<td>The frame time requested.</td>
</tr>
<tr>
<td><code>inRenderedFrame</code></td>
<td>The rendered frame. The exporter is reponsible for <code>disposing</code> of this PPixHand using the <code>Dispose()</code> call in the <a href="#universals-sweetpea-suites-ppix-suite">PPix Suite</a>.</td>
</tr>
<tr>
<td><code>inGetFrameReturn</code></td>
<td>A structure that contains info about the frame returned, and it includes the <code>inAsyncCompletionData</code> originally passed to <code>QueueAsyncVideoFrameRender()</code>.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-queueasyncvideoframerender">QueueAsyncVideoFrameRender()<a class="headerlink" href="#exporters-suites-queueasyncvideoframerender" title="Permanent link">&para;</a></h3>
<p>Use this call rather than <code>RenderVideoFrame()</code> to queue up a request to render a specific frame asynchronously.</p>
<p>The rendering can happen on a separate thread or processor.</p>
<p>When the render is completed, the <code>PrSDKSequenceAsyncRenderCompletionProc</code> that was set using <code>SetAsyncRenderCompletionProc</code> will be called.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">QueueAsyncVideoFrameRender</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">               </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                     </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">              </span><span class="n">outRequestID</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_ParamsRec</span><span class="o">*</span><span class="w">  </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrRenderCacheType</span><span class="w">          </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                      </span><span class="n">inAsyncCompletionData</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inVideoRenderID</code></td>
<td>Pass in the <code>outVideoRenderID</code> returned from <code>MakeVideoRenderer()</code>.<br/><br/>This gives the host the context of the video render.</td>
</tr>
<tr>
<td><code>inTime</code></td>
<td>The frame time requested.</td>
</tr>
<tr>
<td><code>outRequestID</code></td>
<td>Passes back a request ID, which doesn't seem to have any use.</td>
</tr>
<tr>
<td><code>inRenderParams</code></td>
<td>The details of the render.</td>
</tr>
<tr>
<td><code>inCacheFlags</code></td>
<td>One or more cache flags.</td>
</tr>
<tr>
<td><code>inAsyncCompletionData</code></td>
<td>This data will be passed to the <code>PrSDKSequenceAsyncRenderCompletionProc</code> in <code>inGetFrameReturn.asyncCompletionData</code>.</td>
</tr>
</tbody>
</table>
<h3 id="exporters-suites-prefetchmedia">PrefetchMedia()<a class="headerlink" href="#exporters-suites-prefetchmedia" title="Permanent link">&para;</a></h3>
<p>Prefetch the media needed to render this frame. This is a hint to the importers to begin reading media needed to render this video frame.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchMedia</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-prefetchmediawithrenderparameters">PrefetchMediaWithRenderParameters()<a class="headerlink" href="#exporters-suites-prefetchmediawithrenderparameters" title="Permanent link">&para;</a></h3>
<p>Prefetch the media needed to render this frame, using all of the parameters used to render the frame.</p>
<p>This is a hint to the importers to begin reading media needed to render this video frame.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchMediaWithRenderParameters</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">               </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                     </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_ParamsRec</span><span class="o">*</span><span class="w">  </span><span class="n">inRenderParams</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-cancelalloutstandingmediaprefetches">CancelAllOutstandingMediaPrefetches()<a class="headerlink" href="#exporters-suites-cancelalloutstandingmediaprefetches" title="Permanent link">&para;</a></h3>
<p>Cancel all media prefetches that are still outstanding.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchMedia</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inVideoRenderID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-isprefetchedmediaready">IsPrefetchedMediaReady()<a class="headerlink" href="#exporters-suites-isprefetchedmediaready" title="Permanent link">&para;</a></h3>
<p>Check on the status of a prefetch request.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">IsPrefetchedMediaReady</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="o">*</span><span class="w">       </span><span class="n">outMediaReady</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-makevideorendererfortimeline">MakeVideoRendererForTimeline()<a class="headerlink" href="#exporters-suites-makevideorendererfortimeline" title="Permanent link">&para;</a></h3>
<p>Similar to MakeVideoRenderer, but for use by renderer plugins.</p>
<p>Creates a video renderer, in preparation to get rendered video from the host.</p>
<p>The <code>TimelineID</code> in question must refer to a top-level sequence.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeVideoRendererForTimeline</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">   </span><span class="n">inTimeline</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">outVideoRendererID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-makevideorendererfortimelinewithframerate">MakeVideoRendererForTimelineWithFrameRate()<a class="headerlink" href="#exporters-suites-makevideorendererfortimelinewithframerate" title="Permanent link">&para;</a></h3>
<p>Similar to MakeVideoRendererForTimeline, with an additional frame rate parameter.</p>
<p>This is useful for the case of a nested multicam sequence.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeVideoRendererForTimelineWithFrameRate</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">   </span><span class="n">inTimeline</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">inFrameRate</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">  </span><span class="n">outVideoRendererID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-releasevideorendererfortimeline">ReleaseVideoRendererForTimeline()<a class="headerlink" href="#exporters-suites-releasevideorendererfortimeline" title="Permanent link">&para;</a></h3>
<p>Similar to ReleaseVideoRenderer, but for use by renderer plugins. Release the video renderer when the renderer plugin is done requesting video.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">ReleaseVideoRendererForTimeline</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inVideoRendererID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-rendervideoframeandconformtopixelformat">RenderVideoFrameAndConformToPixelFormat()<a class="headerlink" href="#exporters-suites-rendervideoframeandconformtopixelformat" title="Permanent link">&para;</a></h3>
<p>New in CS5.5. Similar to RenderVideoFrame., but conforms the resulting frame to a specific pixel format.</p>
<p>Allows an exporter to request a frame in a specific pixel format.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderVideoFrameAndConformToPixelFormat</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">                       </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                             </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_ParamsRec</span><span class="o">*</span><span class="w">          </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrRenderCacheType</span><span class="w">                  </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">                      </span><span class="n">inConformToFormat</span><span class="p">,</span>
<span class="w">  </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">  </span><span class="n">getFrameReturn</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-makevideorendererfortimelinewithstreamlabel">MakeVideoRendererForTimelineWithStreamLabel()<a class="headerlink" href="#exporters-suites-makevideorendererfortimelinewithstreamlabel" title="Permanent link">&para;</a></h3>
<p>New in CS6. Similar to <code>MakeVideoRenderer</code>, but is stream label-aware.</p>
<p>Allows an exporter to request rendered frames from multiple video streams.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">MakeVideoRendererForTimelineWithStreamLabel</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">      </span><span class="n">inTimeline</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrSDKStreamLabel</span><span class="w">  </span><span class="n">inStreamLabel</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">     </span><span class="n">outVideoRendererID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-rendercolormanagedvideoframe">RenderColorManagedVideoFrame()<a class="headerlink" href="#exporters-suites-rendercolormanagedvideoframe" title="Permanent link">&para;</a></h3>
<p>Renders a frame of video, using the specified color management.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderColorManagedVideoFrame</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                                                  </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt</span><span class="o">*</span><span class="w">    </span><span class="n">inRenderParamsExt</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">                               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">       </span><span class="n">getFrameReturn</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-queueasynccolormanagedvideoframerender">QueueAsyncColorManagedVideoFrameRender()<a class="headerlink" href="#exporters-suites-queueasynccolormanagedvideoframerender" title="Permanent link">&para;</a></h3>
<p>Queues a render for a frame of video, using the specified color management.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">QueueAsyncColorManagedVideoFrameRender</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                                                  </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">                                   </span><span class="n">outRequestID</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt</span><span class="o">*</span><span class="w">    </span><span class="n">inRenderParamsExt</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">                               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="kt">void</span><span class="o">*</span><span class="w">                                                   </span><span class="n">inAsyncCompletionData</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-prefetchcolormanagedmedia">PrefetchColorManagedMedia()<a class="headerlink" href="#exporters-suites-prefetchcolormanagedmedia" title="Permanent link">&para;</a></h3>
<p>Pre-fetches a frame of color-managed media.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchColorManagedMedia</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">            </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                          </span><span class="n">inFrame</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrSDKColorSpaceID</span><span class="w"> </span><span class="n">inPrSDKColorSpaceID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-prefetchcolormanagedmediawithrenderparameters">PrefetchColorManagedMediaWithRenderParameters()<a class="headerlink" href="#exporters-suites-prefetchcolormanagedmediawithrenderparameters" title="Permanent link">&para;</a></h3>
<p>Pre-fetches a frame of color-managed media, using the specified render parameters.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchColorManagedMediaWithRenderParameters</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                                                  </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt</span><span class="o">*</span><span class="w">    </span><span class="n">inRenderParamsExt</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-rendercolormanagedvideoframeandconformtopixelformat">RenderColorManagedVideoFrameAndConformToPixelFormat()<a class="headerlink" href="#exporters-suites-rendercolormanagedvideoframeandconformtopixelformat" title="Permanent link">&para;</a></h3>
<p>Renders a frame of color-managed media, to the specified pixel format.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderColorManagedVideoFrameAndConformToPixelFormat</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                                                  </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt</span><span class="o">*</span><span class="w">    </span><span class="n">inRenderParamsExt</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">                               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrPixelFormat</span><span class="w">                                   </span><span class="n">inConformToFormat</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">       </span><span class="n">getFrameReturn</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-rendercolormanagedvideoframe2">RenderColorManagedVideoFrame2()<a class="headerlink" href="#exporters-suites-rendercolormanagedvideoframe2" title="Permanent link">&para;</a></h3>
<p>Renders a frame of color-managed media, to the specified pixel format, using settings specified in SequenceRender_ParamsRecExt2.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderColorManagedVideoFrame2</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                          </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt2</span><span class="o">*</span><span class="w">   </span><span class="n">inRenderParamsExt2</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">   </span><span class="n">outGetFrameReturn</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-queueasynccolormanagedvideoframerender2">QueueAsyncColorManagedVideoFrameRender2()<a class="headerlink" href="#exporters-suites-queueasynccolormanagedvideoframerender2" title="Permanent link">&para;</a></h3>
<p>Queues a request for a frame of color-managed media, to the specified pixel format, using settings specified in SequenceRender_ParamsRecExt2.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">QueueAsyncColorManagedVideoFrameRender2</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                          </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="o">*</span><span class="w">                   </span><span class="n">outRequestID</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt2</span><span class="o">*</span><span class="w">   </span><span class="n">inRenderParamsExt2</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="kt">void</span><span class="o">*</span><span class="w">                           </span><span class="n">inAsyncCompletionData</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-prefetchcolormanagedmediawithrenderparameters2">PrefetchColorManagedMediaWithRenderParameters2()<a class="headerlink" href="#exporters-suites-prefetchcolormanagedmediawithrenderparameters2" title="Permanent link">&para;</a></h3>
<p>Pre-fetches a request for a frame of color-managed media, to the specified pixel format, using settings specified in SequenceRender_ParamsRecExt2.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">PrefetchColorManagedMediaWithRenderParameters2</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                          </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt2</span><span class="o">*</span><span class="w">   </span><span class="n">inRenderParamsExt2</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-rendercolormanagedvideoframeandconformtopixelformat2">RenderColorManagedVideoFrameAndConformToPixelFormat2()<a class="headerlink" href="#exporters-suites-rendercolormanagedvideoframeandconformtopixelformat2" title="Permanent link">&para;</a></h3>
<p>Renders a frame of color-managed media, to the specified pixel format, using settings specified in SequenceRender_ParamsRecExt2.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">RenderColorManagedVideoFrameAndConformToPixelFormat2</span><span class="p">)(</span>
<span class="w">        </span><span class="n">csSDK_uint32</span><span class="w">                    </span><span class="n">inVideoRenderID</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrTime</span><span class="w">                          </span><span class="n">inTime</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_ParamsRecExt2</span><span class="o">*</span><span class="w">   </span><span class="n">inRenderParamsExt2</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrRenderCacheType</span><span class="w">               </span><span class="n">inCacheFlags</span><span class="p">,</span>
<span class="w">        </span><span class="n">PrPixelFormat</span><span class="w">                   </span><span class="n">inConformToFormat</span><span class="p">,</span>
<span class="w">        </span><span class="n">SequenceRender_GetFrameReturnRec</span><span class="o">*</span><span class="w">   </span><span class="n">outGetFrameReturn</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="exporters-suites-pf-utility-suite">PF Utility Suite<a class="headerlink" href="#exporters-suites-pf-utility-suite" title="Permanent link">&para;</a></h2>
<p>Utility functions for use by AE style effect plugins, running in Premiere Pro.</p>
<p>Version 11, new in 15.0, adds GetVideoResolutionString.</p>
<h3 id="exporters-suites-getfilterinstanceid">GetFilterInstanceID()<a class="headerlink" href="#exporters-suites-getfilterinstanceid" title="Permanent link">&para;</a></h3>
<p>Gets the filter ID for the current effect reference.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetFilterInstanceID</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">  </span><span class="n">A_long</span><span class="o">*</span><span class="w">       </span><span class="n">outFilterInstanceID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getmediatimecode">GetMediaTimecode()<a class="headerlink" href="#exporters-suites-getmediatimecode" title="Permanent link">&para;</a></h3>
<p>Retrieves formatted timecode, as well as the currently active video frame.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetMediaTimecode</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">  </span><span class="n">A_long</span><span class="o">*</span><span class="w">         </span><span class="n">outCurrentFrame</span><span class="p">,</span>
<span class="w">  </span><span class="n">PF_TimeDisplay</span><span class="o">*</span><span class="w"> </span><span class="n">outTimeDisplay</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getclipspeed">GetClipSpeed()<a class="headerlink" href="#exporters-suites-getclipspeed" title="Permanent link">&para;</a></h3>
<p>Retrieves the speed multiplier of the clip.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetClipSpeed</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">speed</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getclipduration">GetClipDuration()<a class="headerlink" href="#exporters-suites-getclipduration" title="Permanent link">&para;</a></h3>
<p>Retrieves the duration of the clip.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetClipDuration</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w"> </span><span class="n">frameDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getclipstart">GetClipStart()<a class="headerlink" href="#exporters-suites-getclipstart" title="Permanent link">&para;</a></h3>
<p>Retrieves the start time of the clip.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetClipStart</span><span class="p">)(</span>
<span class="w">        </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">        </span><span class="n">A_long</span><span class="o">*</span><span class="w"> </span><span class="n">frameDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getunscaledclipduration">GetUnscaledClipDuration()<a class="headerlink" href="#exporters-suites-getunscaledclipduration" title="Permanent link">&para;</a></h3>
<p>Retrieves the duration of the clip, unaffected by any speed or retiming changes.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetUnscaledClipDuration</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w"> </span><span class="n">frameDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getunscaledclipstart">GetUnscaledClipStart()<a class="headerlink" href="#exporters-suites-getunscaledclipstart" title="Permanent link">&para;</a></h3>
<p>Retrives the start time of the clip, unaffected by any speed or retiming changes.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetUnscaledClipStart</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w"> </span><span class="n">frameDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-gettrackitemstart">GetTrackItemStart()<a class="headerlink" href="#exporters-suites-gettrackitemstart" title="Permanent link">&para;</a></h3>
<p>Gets the start time of the track item.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetTrackItemStart</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w">       </span><span class="n">frameDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getmediafieldtype">GetMediaFieldType()<a class="headerlink" href="#exporters-suites-getmediafieldtype" title="Permanent link">&para;</a></h3>
<p>Retrieves the filed type in use with the media.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetMediaFieldType</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">prFieldType</span><span class="o">*</span><span class="w">  </span><span class="n">outFieldType</span><span class="p">);</span><span class="w"> </span><span class="c1">// prFieldsNone, prFieldsUpperFirst, prFieldsLowerFirst, prFieldsUnknown</span>
</code></pre></div>
<h3 id="exporters-suites-getmediaframerate">GetMediaFrameRate()<a class="headerlink" href="#exporters-suites-getmediaframerate" title="Permanent link">&para;</a></h3>
<p>Gets the number of ticks per frame, for the media.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetMediaFrameRate</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PF_ProgPtr</span><span class="w">  </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrTime</span><span class="o">*</span><span class="w">     </span><span class="n">outTicksPerFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getcontainingtimelineid">GetContainingTimelineID()<a class="headerlink" href="#exporters-suites-getcontainingtimelineid" title="Permanent link">&para;</a></h3>
<p>Gets the ID of the timeline containing the clip to which the effect is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetContainingTimelineID</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTimelineID</span><span class="o">*</span><span class="w"> </span><span class="n">outTimelineID</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getclipname">GetClipName()<a class="headerlink" href="#exporters-suites-getclipname" title="Permanent link">&para;</a></h3>
<p>Gets the name of the clip to which the effect is applied (or the master clip).</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetClipName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_Boolean</span><span class="w">     </span><span class="n">inGetMasterClipName</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-effectwantscheckedoutframestomatchrenderpixelformat">EffectWantsCheckedOutFramesToMatchRenderPixelFormat()<a class="headerlink" href="#exporters-suites-effectwantscheckedoutframestomatchrenderpixelformat" title="Permanent link">&para;</a></h3>
<p>Indicates that the effect wants to received checked out frames, in the same format used for destination rendering.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">EffectWantsCheckedOutFramesToMatchRenderPixelFormat</span><span class="p">)(</span>
<span class="w">        </span><span class="n">PF_ProgPtr</span><span class="w">  </span><span class="n">effect_ref</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-effectdependsonclipname">EffectDependsOnClipName()<a class="headerlink" href="#exporters-suites-effectdependsonclipname" title="Permanent link">&para;</a></h3>
<p>Indicates (based on second parameter) whether the effect depends on the name of the clip to which it is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">EffectDependsOnClipName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_Boolean</span><span class="w">     </span><span class="n">inDependsOnClipName</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-seteffectinstancename">SetEffectInstanceName()<a class="headerlink" href="#exporters-suites-seteffectinstancename" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">SetEffectInstanceName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w"> </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="k">const</span><span class="w"> </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w"> </span><span class="n">inSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getfilename">GetFileName()<a class="headerlink" href="#exporters-suites-getfilename" title="Permanent link">&para;</a></h3>
<p>Retrieves the name of the media file to which the effect instance is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetFileName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">    </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getoriginalclipframerate">GetOriginalClipFrameRate()<a class="headerlink" href="#exporters-suites-getoriginalclipframerate" title="Permanent link">&para;</a></h3>
<p>Retrieves the original (non-interpreted, un-re-timed) frame rate, of the media to which the effect instance is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetOriginalClipFrameRate</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">       </span><span class="n">outTicksPerFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackmediatimecode">GetSourceTrackMediaTimecode()<a class="headerlink" href="#exporters-suites-getsourcetrackmediatimecode" title="Permanent link">&para;</a></h3>
<p>Retrieves the source media timecode for the specified frame within the specified layer, with or without transforms and start time offsets applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackMediaTimecode</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inApplyTransform</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inAddStartTimeOffset</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w">         </span><span class="n">outCurrentFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackclipname">GetSourceTrackClipName()<a class="headerlink" href="#exporters-suites-getsourcetrackclipname" title="Permanent link">&para;</a></h3>
<p>Retrieves the name of the layer in use by the effect instance.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackClipName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_Boolean</span><span class="w">       </span><span class="n">inGetMasterClipName</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">    </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackfilename">GetSourceTrackFileName()<a class="headerlink" href="#exporters-suites-getsourcetrackfilename" title="Permanent link">&para;</a></h3>
<p>Retrieves the file name of the source track item for the specified layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackFileName</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">    </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-effectdependsonclipname2">EffectDependsOnClipName2()<a class="headerlink" href="#exporters-suites-effectdependsonclipname2" title="Permanent link">&para;</a></h3>
<p>Specifies whether the effect instance depends on the specified layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">EffectDependsOnClipName2</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_Boolean</span><span class="w">     </span><span class="n">inDependsOnClipName</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inLayerParamIndex</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getmediatimecode2">GetMediaTimecode2()<a class="headerlink" href="#exporters-suites-getmediatimecode2" title="Permanent link">&para;</a></h3>
<p>Retrieves formatted timecode and current frame number, with or without trims applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetMediaTimecode2</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inApplyTrim</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w">         </span><span class="n">outCurrentFrame</span><span class="p">,</span>
<span class="w">              </span><span class="n">PF_TimeDisplay</span><span class="o">*</span><span class="w"> </span><span class="n">outTimeDisplay</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackmediatimecode2">GetSourceTrackMediaTimecode2()<a class="headerlink" href="#exporters-suites-getsourcetrackmediatimecode2" title="Permanent link">&para;</a></h3>
<p>Given a specific sequence time, retrieves the source track media timecode for the specified layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackMediaTimecode2</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inApplyTransform</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inAddStartTimeOffset</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w">         </span><span class="n">outCurrentFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackclipname2">GetSourceTrackClipName2()<a class="headerlink" href="#exporters-suites-getsourcetrackclipname2" title="Permanent link">&para;</a></h3>
<p>Retrieves the clip name used by the specific layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackClipName2</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_Boolean</span><span class="w">       </span><span class="n">inGetMasterClipName</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">    </span><span class="n">outSDKString</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackfilename2">GetSourceTrackFileName2()<a class="headerlink" href="#exporters-suites-getsourcetrackfilename2" title="Permanent link">&para;</a></h3>
<p>Retreives the clip name in use by the specified layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackFileName2</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getcommentstring">GetCommentString()<a class="headerlink" href="#exporters-suites-getcommentstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the comment string associated with the specified source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetCommentString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getlognotestring">GetLogNoteString()<a class="headerlink" href="#exporters-suites-getlognotestring" title="Permanent link">&para;</a></h3>
<p>Retrieves the log note associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetLogNoteString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getcamerarollstring">GetCameraRollString()<a class="headerlink" href="#exporters-suites-getcamerarollstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the log note associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetCameraRollString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getclientmetadatastring">GetClientMetadataString()<a class="headerlink" href="#exporters-suites-getclientmetadatastring" title="Permanent link">&para;</a></h3>
<p>Retrieves the metadata string associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetClientMetadataString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getdailyrollstring">GetDailyRollString()<a class="headerlink" href="#exporters-suites-getdailyrollstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the daily roll string associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetDailyRollString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getdescriptionstring">GetDescriptionString()<a class="headerlink" href="#exporters-suites-getdescriptionstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the daily roll string associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetDescriptionString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getlabrollstring">GetLabRollString()<a class="headerlink" href="#exporters-suites-getlabrollstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the lab roll string associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetLabRollString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getscenestring">GetSceneString()<a class="headerlink" href="#exporters-suites-getscenestring" title="Permanent link">&para;</a></h3>
<p>Retrieves the scene string associated with the source track, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSceneString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getshotstring">GetShotString()<a class="headerlink" href="#exporters-suites-getshotstring" title="Permanent link">&para;</a></h3>
<p>Retrieves the shot string associated with the source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetShotString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-gettapenamestring">GetTapeNameString()<a class="headerlink" href="#exporters-suites-gettapenamestring" title="Permanent link">&para;</a></h3>
<p>Retrieves the tape name string associated with the source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetTapeNameString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getvideocodecstring">GetVideoCodecString()<a class="headerlink" href="#exporters-suites-getvideocodecstring" title="Permanent link">&para;</a></h3>
<p>Retrieves a string representing the video codec associated with the source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetVideoCodecString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getgoodmetadatastring">GetGoodMetadataString()<a class="headerlink" href="#exporters-suites-getgoodmetadatastring" title="Permanent link">&para;</a></h3>
<p>Retrieves a string representing the "good" state of the source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetGoodMetadataString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsoundrollstring">GetSoundRollString()<a class="headerlink" href="#exporters-suites-getsoundrollstring" title="Permanent link">&para;</a></h3>
<p>Retrieves a string representing the "sound roll" state of the source track item, at the specified time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSoundRollString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsequencetime">GetSequenceTime()<a class="headerlink" href="#exporters-suites-getsequencetime" title="Permanent link">&para;</a></h3>
<p>Retrieves the timebase of the sequence in which the effect is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSequenceTime</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">  </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">     </span><span class="n">outSequenceTime</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsoundtimecode">GetSoundTimecode()<a class="headerlink" href="#exporters-suites-getsoundtimecode" title="Permanent link">&para;</a></h3>
<p>Retrieves the frame of the specified source time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSoundTimecode</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">A_long</span><span class="o">*</span><span class="w">       </span><span class="n">outCurrentFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getoriginalclipframerateforsourcetrack">GetOriginalClipFrameRateForSourceTrack()<a class="headerlink" href="#exporters-suites-getoriginalclipframerateforsourcetrack" title="Permanent link">&para;</a></h3>
<p>Retrieves the original "ticks per frame" for the specified source track.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetOriginalClipFrameRateForSourceTrack</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">       </span><span class="n">outTicksPerFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getmediaframerateforsourcetrack">GetMediaFrameRateForSourceTrack()<a class="headerlink" href="#exporters-suites-getmediaframerateforsourcetrack" title="Permanent link">&para;</a></h3>
<p>Retrieves the media frame rate for the specified source track.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetMediaFrameRateForSourceTrack</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">       </span><span class="n">outTicksPerFrame</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackmediaactualstarttime">GetSourceTrackMediaActualStartTime()<a class="headerlink" href="#exporters-suites-getsourcetrackmediaactualstarttime" title="Permanent link">&para;</a></h3>
<p>Retrieves the start time of the specified layer parameter.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackMediaActualStartTime</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">         </span><span class="n">outClipActualStartTime</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-issourcetrackmediatrimmed">IsSourceTrackMediaTrimmed()<a class="headerlink" href="#exporters-suites-issourcetrackmediatrimmed" title="Permanent link">&para;</a></h3>
<p>Retrieves whether the source track item has been trimmed.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">IsSourceTrackMediaTrimmed</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="o">*</span><span class="w">           </span><span class="n">outTrimApplied</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-ismediatrimmed">IsMediaTrimmed()<a class="headerlink" href="#exporters-suites-ismediatrimmed" title="Permanent link">&para;</a></h3>
<p>Retrieves whether the track item has been trimmed.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">IsMediaTrimmed</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="o">*</span><span class="w">         </span><span class="n">outTrimApplied</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-istrackempty">IsTrackEmpty()<a class="headerlink" href="#exporters-suites-istrackempty" title="Permanent link">&para;</a></h3>
<p>Retrieves whether, for the specified layer parameter, the track is empty.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">IsTrackEmpty</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="o">*</span><span class="w">           </span><span class="n">outIsTrackEmpty</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-istrackitemeffectappliedtosynthetic">IsTrackItemEffectAppliedToSynthetic()<a class="headerlink" href="#exporters-suites-istrackitemeffectappliedtosynthetic" title="Permanent link">&para;</a></h3>
<p>Retrieves whether the effect is applied to a track item backed by a synthetic importer.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">IsTrackItemEffectAppliedToSynthetic</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="o">*</span><span class="w">         </span><span class="n">outIsTrackItemEffectAppliedToSynthetic</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackcurrentmediatimeinfo">GetSourceTrackCurrentMediaTimeInfo()<a class="headerlink" href="#exporters-suites-getsourcetrackcurrentmediatimeinfo" title="Permanent link">&para;</a></h3>
<p>Retrieves the current media time, including ticks per frame and a formatted string representing that time.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackCurrentMediaTimeInfo</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">      </span><span class="n">effect_ref</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="kt">bool</span><span class="w">            </span><span class="n">inUseSoundTimecodeAsStartTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">         </span><span class="n">outCurrentMediaTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">         </span><span class="n">outMediaTicksPerFrame</span><span class="p">,</span>
<span class="w">              </span><span class="n">PF_TimeDisplay</span><span class="o">*</span><span class="w"> </span><span class="n">outMediaTimeDisplay</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsequencezeropoint">GetSequenceZeroPoint()<a class="headerlink" href="#exporters-suites-getsequencezeropoint" title="Permanent link">&para;</a></h3>
<p>Retrieves the zero point (start time) of the sequence in which the effect is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSequenceZeroPoint</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">       </span><span class="n">outZeroPointTime</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsourcetrackcurrentclipduration">GetSourceTrackCurrentClipDuration()<a class="headerlink" href="#exporters-suites-getsourcetrackcurrentclipduration" title="Permanent link">&para;</a></h3>
<p>Retrieves the duration of the clip, at the specified layer index, at inSequenceTime.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSourceTrackCurrentClipDuration</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">        </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">csSDK_uint32</span><span class="w">      </span><span class="n">inLayerParamIndex</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">            </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">           </span><span class="n">outClipDuration</span><span class="p">);</span>
</code></pre></div>
<h3 id="exporters-suites-getsequenceduration">GetSequenceDuration()<a class="headerlink" href="#exporters-suites-getsequenceduration" title="Permanent link">&para;</a></h3>
<p>Retrieves the duration of the sequence in which the effect is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetSequenceDuration</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="o">*</span><span class="w">       </span><span class="n">outSequenceDuration</span><span class="p">);</span>

<span class="w">      </span><span class="cm">/*</span>
<span class="cm">      ** Get the video resolution string, formatted as a &#39;width x height&#39;,</span>
<span class="cm">      ** of the clip (ie, track item) at inSequenceTime on inSourceTrack.</span>
<span class="cm">      ** Set inSourceTrack to -1 to query the top-most clip at inSequenceTime</span>
<span class="cm">      ** (only if effect is on an adjustment layer)</span>
<span class="cm">      */</span>
</code></pre></div>
<h3 id="exporters-suites-getvideoresolutionstring">GetVideoResolutionString()<a class="headerlink" href="#exporters-suites-getvideoresolutionstring" title="Permanent link">&para;</a></h3>
<p>Retrieve a string representing the dimensions of the track item to which the effect is applied.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="p">(</span><span class="o">*</span><span class="n">GetVideoResolutionString</span><span class="p">)(</span>
<span class="w">              </span><span class="n">PF_ProgPtr</span><span class="w">    </span><span class="n">inEffectRef</span><span class="p">,</span>
<span class="w">              </span><span class="kt">int32_t</span><span class="w">       </span><span class="n">inSourceTrack</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrTime</span><span class="w">        </span><span class="n">inSequenceTime</span><span class="p">,</span>
<span class="w">              </span><span class="n">PrSDKString</span><span class="o">*</span><span class="w">  </span><span class="n">outSDKString</span><span class="p">);</span>
</code></pre></div></section><section class="print-page" id="exporters-additional-details"><h1 id="exporters-additional-details-additional-details">Additional Details<a class="headerlink" href="#exporters-additional-details-additional-details" title="Permanent link">&para;</a></h1>
<h2 id="exporters-additional-details-multiplexer-tab-ordering">Multiplexer Tab Ordering<a class="headerlink" href="#exporters-additional-details-multiplexer-tab-ordering" title="Permanent link">&para;</a></h2>
<p>If your exporter provides a Multiplexer tab like some of the built-in exporters do, you may find that it appears after the Video and Audio tab, rather than before those tabs as in the case of our exporters. The key is to use the following define as the parameter identifer for the multiplexer tab group:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#define ADBEMultiplexerTabGroup &quot;ADBEAudienceTabGroup&quot;</span>
</code></pre></div>
<hr />
<h2 id="exporters-additional-details-creating-a-non-editable-string-in-the-parameter-ui">Creating a Non-Editable String in the Parameter UI<a class="headerlink" href="#exporters-additional-details-creating-a-non-editable-string-in-the-parameter-ui" title="Permanent link">&para;</a></h2>
<p>During <code>exSelGenerateDefaultParams</code>, add a parameter with <code>exNewParamInfo.flags = exParamFlag_none</code>.</p>
<p>Then during <code>exSelPostProcessParams</code>, call <code>AddConstrainedValuePair()</code> in the <a href="#exporters-suites-export-param-suite">Export Param Suite</a>.</p>
<p>If you only add one value pair, then the parameter will be a non-editable string.</p>
<p>In the case of the SDK Exporter sample, it adds two, which appear as a pair of radio buttons side-by-side.</p>
<hr />
<h2 id="exporters-additional-details-guidelines-for-exporters-in-premiere-elements">Guidelines for Exporters in Premiere Elements<a class="headerlink" href="#exporters-additional-details-guidelines-for-exporters-in-premiere-elements" title="Permanent link">&para;</a></h2>
<p>First, make sure you are building the exporter using the right SDK. Premiere Elements 8 requires the Premiere Pro CS4 SDK. The next version of Premiere Elements will likely use the CS5 SDK.</p>
<h3 id="exporters-additional-details-exporter-preset">Exporter Preset<a class="headerlink" href="#exporters-additional-details-exporter-preset" title="Permanent link">&para;</a></h3>
<p>For an exporter to show up in the Premiere Elements UI, you'll need to create and install a preset in a specific location:</p>
<ol>
<li>Create a folder named "OTHERS" in [App installation folder]/sharingcenter/Presets/pc/</li>
<li>Create a sub-folder with your name (e.g. MyCompany) under OTHERS and place the preset file (.epr) in it. The final path of the preset file should be something like [App installation folder]/ sharingcenter/Presets/pc/OTHERS/MyCompany/MyPreset.epr</li>
<li>Relaunch Premiere Elements.</li>
<li>Add a clip to the timeline</li>
<li>Goto the "Share" tab</li>
<li>Under that choose "Personal Computer"</li>
<li>You should see the "Others - 3rd Party Plugins" in the list of formats. Select this.</li>
<li>Your preset should be seen in the drop-down.</li>
</ol>
<h3 id="exporters-additional-details-return-values">Return Values<a class="headerlink" href="#exporters-additional-details-return-values" title="Permanent link">&para;</a></h3>
<p>Premiere Elements 8 uses a slightly different definition of the return values. Use the following definition instead:</p>
<div class="highlight"><pre><span></span><code><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">exportReturn_ErrNone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_Abort</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_Done</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_InternalError</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_OutputFormatAccept</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_OutputFormatDecline</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_OutOfDiskSpace</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_BufferFull</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrOther</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrMemory</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrFileNotFound</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrTooManyOpenFiles</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrPermErr</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrOpenErr</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrInvalidDrive</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrDupFile</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrIo</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrInUse</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_IterateExporter</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_IterateExporterDone</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_InternalErrorSilent</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrCodecBadInput</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrLastErrorSet</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrLastWarningSet</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrLastInfoSet</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_ErrExceedsMaxFormatDuration</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_VideoCodecNeedsActivation</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_AudioCodecNeedsActivation</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_IncompatibleAudioChannelType</span><span class="p">,</span>
<span class="w">  </span><span class="n">exportReturn_Unsupported</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-100</span>
<span class="p">};</span>
</code></pre></div>
<p>The red values are unique to Premiere Elements 8, and shifted the subsequent return values 2 values higher than their definition in the Premiere Pro SDK.</p></section><h1 class='nav-section-title-end'>Ended: Exporters</h1>
                        <h1 class='nav-section-title' id='section-transmitters'>
                            Transmitters <a class='headerlink' href='#section-transmitters' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="transmitters-transmitters"><h1 id="transmitters-transmitters-transmitters">Transmitters<a class="headerlink" href="#transmitters-transmitters-transmitters" title="Permanent link">&para;</a></h1>
<p>This API provides support for pushing video, audio, and closed captions to external hardware. Transmitters can be specified by the user in Preferences &gt; Playback. Other plugins such as importers and effects with settings preview dialogs can send video out to the active transmitter, opening up new possibilities for hardware monitoring. Transmit plugins are supported in Premiere Pro, After Effects (starting in CC 2014), and Character Animator.</p>
<p>When a new transmitter instance is created, it is asked to describe the format(s) it wishes to receive the rendered video in. A transmitter plugin can request different formats depending on the source clip or timeline format. The host application will handle all the conversions to the desired video format. As an example, a transmitter instance may specify that it can only handle a fixed width and height, but any pixel format. Besides video conversions, the host handles scheduling for prefetching the media and asynchronous rendering.</p>
<p>A transmitter may leave the audio to be played by the host, through the system's sound drivers (ASIO or CoreAudio). Or, if a transmitter wants to handle the audio itself to send it to the external hardware, it can request audio using GetNextAudioBuffer in the <a href="#transmitters-suites-playmod-audio-suite">Playmod Audio Suite</a>.</p>
<p>On playback, the host provides the transmitter with a clock callback, which the transmitter must call to update the host with the new time every frame. This allows the transmitter to orchestrate the audio/video sync.</p>
<p>Transmitters can use the <a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a> to get any closed captions for the sequence.</p>
<p>Transmitters do not need to call the Playmod Device Controller suite to handle Export to Tape. This is handled at the player level.</p>
<hr />
<h2 id="transmitters-transmitters-whats-new-in-premiere-pro-240">What's New in Premiere Pro 24.0?<a class="headerlink" href="#transmitters-transmitters-whats-new-in-premiere-pro-240" title="Permanent link">&para;</a></h2>
<p>Support for additional audio output devices has been added.</p>
<hr />
<h2 id="transmitters-transmitters-whats-new-in-premiere-pro-cs602">What's New in Premiere Pro CS6.0.2?<a class="headerlink" href="#transmitters-transmitters-whats-new-in-premiere-pro-cs602" title="Permanent link">&para;</a></h2>
<p>A transmitter can now provide strings to label its audio channels, in <code>tmAudioMode.outOutputAudioNames</code>. These strings will be used for the Audio Output Mapping preferences, rather than the default strings.</p></section><section class="print-page" id="transmitters-transmitter-basics"><h1 id="transmitters-transmitter-basics-transmitter-basics">Transmitter Basics<a class="headerlink" href="#transmitters-transmitter-basics-transmitter-basics" title="Permanent link">&para;</a></h1>
<h2 id="transmitters-transmitter-basics-basic-organization">Basic Organization<a class="headerlink" href="#transmitters-transmitter-basics-basic-organization" title="Permanent link">&para;</a></h2>
<p>A transmitter module can define multiple plugins. Each plugin can appear in the Playback Preferences as an option for video playback and/or audio playback. Only one transmitter can be used for audio, since the transmitter used for audio drives the clock. Multiple transmitters may be selected for video simultaneously.</p>
<p>When active, multiple instances of a single plugin can be created. An instance is created to display a clip or sequence. Hardware access is regulated through ActivateDeactivate. Only an active instance should access the hardware.</p>
<hr />
<h2 id="transmitters-transmitter-basics-video-formats">Video Formats<a class="headerlink" href="#transmitters-transmitter-basics-video-formats" title="Permanent link">&para;</a></h2>
<p>Specify which video format(s) you wish to receive during QueryVideoMode. To simplify your plugin, be as specific as possible, and allow the host to perform the conversion asynchronously ahead of time. Packed and compressed formats are also supported. If multiple formats are specified, the closest will be selected at render time. If your transmitter would benefit from on-GPU frames, please let us know.</p>
<p>When sent QueryVideoMode, the transmitter is informed about the clip/sequence video attributes by being passed a tmInstance pointer. So, for example, if the transmitter instance is constructed to support a 1920x1080 timeline, it can report that same size back to the host application, so that it will not have to handle any scaling. If, for example, it does handle scaling, and it is constructed to handle a 1440x1080 timeline, it can report 1440x1080 and handle the scaling itself. In this way you can choose a single fixed size depending on the timeline.</p>
<p>When video frames are pushed to the transmitter, properties like pixel format may change on a segment-by-segment basis depending on the source footage. Other properties like size may change based on the current fractional resolution, which may differ between scrubbing and stopped.</p>
<hr />
<h2 id="transmitters-transmitter-basics-fractional-resolution">Fractional Resolution<a class="headerlink" href="#transmitters-transmitter-basics-fractional-resolution" title="Permanent link">&para;</a></h2>
<p>In the Premiere Pro Source and Program Monitors, the user can choose independent resolutions for rendering during playback and paused modes. For example, it is common to have the playback resolution set to half, and paused resolution set to full.</p>
<p>If an output card has a hardware scaler, the transmit plugin can declare support for fractional resolutions. For example, for a 1920x1080 instance, it could declare support for not only</p>
<p>1920x1080, but also 960x540, 480x270, etc. This will allow the renderer to skip the step of rescaling back up to full resolution after rendering at a fractional resolution. If however, the plugin only declares support for full resolution, the renderer will scale the video back up before pushing it to the transmitter.</p>
<hr />
<h2 id="transmitters-transmitter-basics-audio-format">Audio Format<a class="headerlink" href="#transmitters-transmitter-basics-audio-format" title="Permanent link">&para;</a></h2>
<p>During QueryAudioMode, a transmitter will be told how many channels the instance has. The transmitter should change that value based on what it can support and then make sure the buffers it provides match that. Although Premiere Pro can support 32 channels of audio, transmitters can only support up to 16 channels of audio.</p>
<p>As of CS6, sequences will currently always report audio available in CreateInstance, even if empty. An example of somewhere that a transmitter will be called with no audio is for video output from the RED settings dialog, which is video only.</p>
<p>A transmitter should call GetNextAudioBuffer only when inAudioActive is passed as true to ActivateDeactivate.</p>
<hr />
<h2 id="transmitters-transmitter-basics-frame-rate">Frame Rate<a class="headerlink" href="#transmitters-transmitter-basics-frame-rate" title="Permanent link">&para;</a></h2>
<p>For framerate, video will be pushed to you at the rate of the timeline. This was chosen because of the wide variety in conversion policies, including pulldown, frame duplication, etc.</p>
<hr />
<h2 id="transmitters-transmitter-basics-dropped-frames">Dropped Frames<a class="headerlink" href="#transmitters-transmitter-basics-dropped-frames" title="Permanent link">&para;</a></h2>
<p>If the host cannot keep up rendering, it will send duplicate frames with PushVideo. If you receive a frame that cannot be sent out to hardware on time, notify the host using inDroppedFrame Callback in tmPlaybackClock. In Premiere Pro, the user can turn on the Dropped Frame Indicator to see the total number of frames that were dropped either because the host couldn't keep up, or the hardware couldn't keep up.</p>
<hr />
<h2 id="transmitters-transmitter-basics-sync-between-application-ui-and-hardware-output">Sync Between Application UI and Hardware Output<a class="headerlink" href="#transmitters-transmitter-basics-sync-between-application-ui-and-hardware-output" title="Permanent link">&para;</a></h2>
<p>Naturally there is some latency between the time the host sends frames to be displayed on the output, and the time it can actually be displayed. Use tmVideoMode.outLatency to specify the latency. For example, if a transmitter specifies 5 frames of latency, when the user starts playback, the host will send 5 frames of video to the transmitter before sending StartPlaybackClock. This allows time for the transmitter to send frames to the hardware output in advance, so that the hardware output will be in sync with the monitor in the host application UI.</p>
<p>When the user is scrubbing in the timeline, send the video frames as fast as possible to the output. The host application UI will not wait for the hardware output to catch up, and currently as of</p>
<p>6.0.1 there may be a noticable latency. To reduce the scrubbing latency as much as possible, when scrubbing or stopped the transmitter should cancel any frames it has pending to immediately display the new one.</p>
<hr />
<h2 id="transmitters-transmitter-basics-dog-ears">Dog Ears<a class="headerlink" href="#transmitters-transmitter-basics-dog-ears" title="Permanent link">&para;</a></h2>
<p>Turn on dog ears to view statistics about the frames being sent to the transmitter. This is useful to view information such as pixel formats and much more.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This mode may result in duplicate PushVideo calls made for a single frame.</p>
</div>
<hr />
<h2 id="transmitters-transmitter-basics-closed-captioning">Closed Captioning<a class="headerlink" href="#transmitters-transmitter-basics-closed-captioning" title="Permanent link">&para;</a></h2>
<p>This captioning data is attached to a sequence by the user via menu items in the Sequence menu. In the Program Monitor, the Closed Captioning Display options in the fly-out menu give the user control over the display. The hardware should always transmit any Closed Captioning data, and the user can go through the hardware monitor's on-screen display menu to choose which caption track to view. The closed captioning data is accessible using the new <a href="#universals-sweetpea-suites-captioning-suite">Captioning Suite</a>. Use this data for the hardware output.</p>
<hr />
<h2 id="transmitters-transmitter-basics-driving-transmitters-from-other-plugins">Driving Transmitters from Other Plugins<a class="headerlink" href="#transmitters-transmitter-basics-driving-transmitters-from-other-plugins" title="Permanent link">&para;</a></h2>
<p>Transmitters can be driven by many areas of the Premiere Pro interface. Currently, they are called to show frames from the Program Monitor and Source Monitor. But other types of plugins can use the <a href="#transmitters-suites-transmit-invocation-suite">Transmit Invocation Suite</a> to push frames to transmitters. For example, an effect or titler with a modal setup dialog could push frames to the output.</p>
<hr />
<h2 id="transmitters-transmitter-basics-entry-point">Entry Point<a class="headerlink" href="#transmitters-transmitter-basics-entry-point" title="Permanent link">&para;</a></h2>
<p>This entry point function will be called once on load, and once on unload.</p>
<div class="highlight"><pre><span></span><code><span class="n">tmResult</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">tmEntryFunc</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">inInterfaceVersion</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">       </span><span class="n">inLoadModule</span><span class="p">,</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">  </span><span class="n">piSuites</span><span class="p">,</span>
<span class="w">  </span><span class="n">tmModule</span><span class="o">*</span><span class="w">    </span><span class="n">outModule</span><span class="p">)</span>
</code></pre></div>
<p>A tmModule is a structure of function pointers, which the transmitter implements.</p></section><section class="print-page" id="transmitters-tmmodule-functions"><h1 id="transmitters-tmmodule-functions-tmmodule-functions">tmModule Functions<a class="headerlink" href="#transmitters-tmmodule-functions-tmmodule-functions" title="Permanent link">&para;</a></h1>
<p>Fill in <code>0</code> for any unsupported calls. Thread safety is defined per-module, only a single thread will enter a module at a time.</p>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Startup</code></td>
<td>Initialize a transmitter, fill in basic plugin info, allocate memory to hold user settings and other data.<br/><pre>tmResult (*Startup)(<br/>tmStdParms* ioStdParms,<br/>tmPluginInfo* outPluginInfo);</pre><code>tmResult_ContinueIterate</code> may be returned to support multiple transmit plugins within the same module.</pre><code>ioPrivatePluginData</code>, <code>ioSerializedPluginData</code> &amp; <code>ioSerializedPluginDataSize</code> may be written from Startup.</td>
</tr>
<tr>
<td><code>Shutdown</code></td>
<td>Terminate a transmitter.<br/><pre>tmResult (*Shutdown)(<br/>tmStdParms* ioStdParms);</pre>Dispose of <code>ioPrivatePluginData</code> if previously allocated in <code>Startup</code>.</td>
</tr>
<tr>
<td><code>QueryAudioMode</code></td>
<td>Describe the audio modes supported by the transmitter, one at a time.<br/><pre>tmResult (*QueryAudioMode)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>csSDK_int32 inQueryIterationIndex,<br/>tmAudioMode* outAudioMode);</pre>Note that currently one audio mode is currently supported. You can convert between audio formats using the <a href="#universals-sweetpea-suites-audio-suite">Audio Suite</a>.</td>
</tr>
<tr>
<td><code>QueryVideoMode</code></td>
<td>Describe the video modes supported by the transmitter, one at a time.<br/><pre>tmResult (*QueryVideoMode)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>csSDK_int32 inQueryIterationIndex,<br/>tmVideoMode* outVideoMode);</pre>The video sent later in <code>PushVideo</code> will be one of the formats specified here.</td>
</tr>
<tr>
<td><code>SetupDialog</code></td>
<td>Display your own modal settings dialog.<br/><pre>tmResult (*SetupDialog)(<br/>tmStdParms* ioStdParms,<br/>prParentWnd inParent);</pre>Will only be called if the plugin returned <code>outHasSetup</code>.</pre>Save any settings to <code>ioSerializedPluginData</code> and if needed update <code>ioSerializedPluginDataSize</code>.</pre><code>NeedsReset</code> will be invoked after this call, to allow your transmitter a chance to reset all open plugins and startup with the new settings.</td>
</tr>
<tr>
<td><code>NeedsReset</code></td>
<td>Will be called regularly on the first plugin of a module to allow rebuilding on state changes.<br/><pre>tmResult (*NeedsReset)(<br/>const tmStdParms* inStdParms,<br/>prBool* outResetModule);</pre>If the passed in settings differ enough from the created settings, or if the settings on the hardware itself have changed, the transmitter should specify a reset is needed.</pre>If <code>outResetModule</code> is set to true, all open plugins will be shutdown and started up again.</td>
</tr>
<tr>
<td><code>CreateInstance</code></td>
<td>Creates an instance of a transmitter.<br/><pre>tmResult (*CreateInstance)(<br/>const tmStdParms* inStdParms,<br/>tmInstance* ioInstance);</pre><code>inPlayID</code> and <code>inTimelineID</code> may be 0 if not driven by a player.</pre>Multiple instances may be created at the same time.</pre>Allocate <code>ioPrivateInstanceData</code>.</td>
</tr>
<tr>
<td><code>DisposeInstance</code></td>
<td>Dispose an instance of a transmitter.<br/><pre>tmResult (*DisposeInstance)(<br/>const tmStdParms* inStdParms,<br/>tmInstance* ioInstance);</pre>Any <code>ioPrivateInstanceData</code> should be disposed.</td>
</tr>
<tr>
<td><code>ActivateDeactivate</code></td>
<td>Activate or deactivate a transmitter instance, for example during application suspend or switching between monitors.<br/><pre>tmResult (*ActivateDeactivate)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>PrActivationEvent inActivationEvent,<br/>prBool inAudioActive,<br/>prBool inVideoActive);</pre>Transmitters should manage hardware access with these calls, not <code>Startup</code>/<code>Shutdown</code>, since it is valid for multiple plugins to be simultaneously active for the same device.</pre>Audio and video may be independently activated.</td>
</tr>
<tr>
<td><code>StartPlaybackClock</code></td>
<td>Start a clock for playback.<br/><pre>tmResult (*StartPlaybackClock)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>const tmPlaybackClock* inClock);</pre>This will be sent not only when starting playback, but also for scrubbing.</pre>Will only be called if the transmitter returned <code>outHasClock</code>.</pre>The provided callback must be called each time the time changes, for example once for each frame in response to <code>PushVideo</code>.</pre>Start may be called multiple times without a stop in between to update playback parameters, for example if the speed changes during playback.</pre>Invoke the callback immediately during <code>StartPlaybackClock</code> with a negative number for preroll but do not use this to wait for frames.</pre>If video latency is specified, up to the latency's amount of frame marked as <code>playmode_Playing</code> will be sent before <code>StartPlaybackClock</code> is called.</td>
</tr>
<tr>
<td><code>StopPlaybackClock</code></td>
<td>Stop a clock for playback.<br/><pre>tmResult (*StopPlaybackClock)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance);</td>
</tr>
<tr>
<td><code>PushVideo</code></td>
<td>Asynchronously pushes a video frame to a transmitter instance.<br/><pre>tmResult (*PushVideo)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>const tmPushVideo* inPushVideo);</pre>Will only be called if the transmitter returned <code>outHasVideo</code>.</pre>The list of video frames passed to the transmitter will be negotiated based on the properties returned from <code>QueryVideoMode</code>.</pre>The transmitter is responsible for disposing of all passed in <code>PPixes</code>.</pre>The instance will be created with the properties of the creating video segments which may differ from the actual frames that will be sent to the transmitter.</pre>For example, if a sequence is being played at 1/2 resolution, the instance will be created with the dimensions of the sequence, but the frames rendered and sent to the transmitter will be at 1/2.</pre>These properties may change by segment, for example if your transmitter supports multiple pixel formats, different segments may render to different pixel formats.</td>
</tr>
<tr>
<td><code>StartPushAudio</code></td>
<td>Asynchronously pushes audio samples to a transmitter instance.<br/><pre>tmResult (*StartPushAudio)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>PrTime inStartTime,<br/>PrTime inOutTime,<br/>prBool inLoop,<br/>prBool inScrubbing,<br/>csSDK_int32* outSamplesPerFrame);</pre>Initializes the device for subsequent PushAudio() calls. Will only be called if the transmitter returned <code>outPushAudioAvailable</code>.<br/>Device will be enabled for a "secondary" mode where audio from the "primary" or "clock" device, is pushed to a secondary device; very useful for remote devices.<br/>Unlick StartPlaybackClock(), StartPushAudio() is only called once, until StopPushAudio() is called.</td>
</tr>
<tr>
<td><code>PushAudio</code></td>
<td>Asynchronously pushes audio samples to a transmitter instance.  Note: PushAudio() may be called even if another API is called at the same time.<br/><pre>tmResult (*PushAudio)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance,<br/>const tmPushAudio* inPushAudio);</td>
</tr>
<tr>
<td><code>StopPushAudio</code></td>
<td>StopPushAudio() is called when playback via PushAudio() ends.<br/><pre>tmResult (*StopPushAudio)(<br/>const tmStdParms* inStdParms,<br/>const tmInstance* inInstance);</td>
</tr>
<tr>
<td><code>SetStreamingStateChangedCallback</code></td>
<td>Set the host callback for notification streaming state changes, i.e. when the plug-in becomes active or inactive due to changes connections   or enablement from the host.<br/><pre>tmResult (*SetStreamingStateChangedCallback)(<br/>const tmStdParms* inStdParms,<br/>void* inContext,<br/>tmStreamingStateChangedCallback inCallback);</td>
</tr>
<tr>
<td><code>EnableStreaming</code></td>
<td>Enable/disable streaming to connected clients without loading or unloading the plug-in.<br/><pre>tmResult (*EnableStreaming)(<br/>const tmStdParms* inStdParms,<br/>prBool            inEnabled);</td>
</tr>
<tr>
<td><code>IsStreamingEnabled</code></td>
<td>Returns whether streaming is enabled.<br/><pre>tmResult (*IsStreamingEnabled)(<br/>const tmStdParms* inStdParms,<br/>prBool*           outEnabled);</td>
</tr>
<tr>
<td><code>IsStreamingActive</code></td>
<td>Returns whether the plug-in is actively streaming, i.e. streaming is enabled and the plug-in has active connections.<br/><pre>tmResult (*IsStreamingActive)(<br/>const tmStdParms* inStdParms,<br/>prBool*           outActive);</td>
</tr>
<tr>
<td><code>Shutdown</code></td>
<td>Terminate a transmitter.<br/><pre>tmResult (*Shutdown)(<br />tmStdParms* ioStdParms);</pre>Dispose of <code>ioPrivatePluginData</code> if previously allocated in <code>Startup</code>.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="transmitters-tmmodule-structures"><h1 id="transmitters-tmmodule-structures-tmmodule-structures">tmModule Structures<a class="headerlink" href="#transmitters-tmmodule-structures-tmmodule-structures" title="Permanent link">&para;</a></h1>
<h2 id="transmitters-tmmodule-structures-tmstdparms">tmStdParms<a class="headerlink" href="#transmitters-tmmodule-structures-tmstdparms" title="Permanent link">&para;</a></h2>
<p>This is passed to all calls. Most of it is allocated and filled in by the transmitter on Startup, and may be modified during SetupDialog.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inPluginIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrMemoryPtr</span><span class="w">   </span><span class="n">ioSerializedPluginData</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">  </span><span class="n">ioSerializedPluginDataSize</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">ioPrivatePluginData</span><span class="p">;</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">   </span><span class="n">piSuites</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmStdParms</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inPluginIndex</code></td>
<td>If the plugin has defined multiple transmitters in the same module, this index value tells them apart.</td>
</tr>
<tr>
<td><code>ioSerializedPluginData</code></td>
<td>This data should contain user-selectable settings for the transmitter, that would be shown in the transmitter settings dialog, and need to persist so they can be saved and restored from one session to another.<br/><br/>When allocating this for the first time during Startup, this must be allocated using <code>NewPtr</code> so it can be disposed by the host on shutdown.<br/><br/>This must be flat memory that can be serialized by by the host and will be already filled in when Startup is called if previously available.</td>
</tr>
<tr>
<td><code>ioSerializedPluginDataSize</code></td>
<td>Size of the data above. Set this during Startup, if not already set.</td>
</tr>
<tr>
<td><code>ioPrivatePluginData</code></td>
<td>This data should contain any memory needed for use across calls to the transmitter, except the settings data stored in <code>ioSerializedPluginData</code>.<br/><br/>Allocate this during Startup. Unlike <code>ioSerializedPluginData</code>, it does not need to be flat, and must be disposed of by the plugin on Shutdown.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmplugininfo">tmPluginInfo<a class="headerlink" href="#transmitters-tmmodule-structures-tmplugininfo" title="Permanent link">&para;</a></h2>
<p>This is to be filled in by the transmitter on Startup.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">prPluginID</span><span class="w">    </span><span class="n">outIdentifier</span><span class="p">;</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w">  </span><span class="n">outPriority</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outAudioAvailable</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outAudioDefaultEnabled</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outClockAvailable</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outVideoAvailable</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outVideoDefaultEnabled</span><span class="p">;</span>
<span class="w">  </span><span class="n">prUTF16Char</span><span class="w">   </span><span class="n">outDisplayName</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outHideInUI</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outHasSetup</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">outInterfaceVersion</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmPluginInfo</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>outIdentifier</code></td>
<td>Persistent plugin identifier.</td>
</tr>
<tr>
<td><code>outPriority</code></td>
<td><code>0</code> is default, higher priority wins.</td>
</tr>
<tr>
<td><code>outAudioAvailable</code></td>
<td>Set this to <code>kPrTrue</code> if the transmitter supports audio.</td>
</tr>
<tr>
<td><code>outAudioDefaultEnabled</code></td>
<td>Set this to <code>kPrTrue</code> if you want to be turned on to handle audio by default.</td>
</tr>
<tr>
<td><code>outClockAvailable</code><br/><br/><br/><br/><br/><br/></td>
<td>Set this to <code>kPrTrue</code> if providing plugin based audio.<br/><br/>Currently, even if using host-based audio, a transmitter must provide a clock - please let us know if you would like to use host-based audio only, and we will log a bug on this.<br/><br/></td>
</tr>
<tr>
<td><code>outVideoAvailable</code></td>
<td>Set this to <code>kPrTrue</code> if the transmitter supports video.</td>
</tr>
<tr>
<td><code>outVideoDefaultEnabled</code></td>
<td>Set this to <code>kPrTrue</code> if you want to be turned on to handle video by default.</td>
</tr>
<tr>
<td><code>outDisplayName[256]</code></td>
<td>Set the display name of the transmitter, up 256 UTF-16 characters, including NULL terminator.</td>
</tr>
<tr>
<td><code>outHideInUI</code></td>
<td>Set this to <code>kPrTrue</code> if you don't want this to show up as a user-selectable option in the transmitter choices.</td>
</tr>
<tr>
<td><code>outHasSetup</code></td>
<td>Set this to <code>kPrTrue</code> if providing a setup dialog.</td>
</tr>
<tr>
<td><code>outInterfaceVersion</code></td>
<td>Set this to the <code>tmInterfaceVersion</code> that the transmitter is being compiled for.</td>
</tr>
<tr>
<td><code>outPushAudioAvailable</code></td>
<td>New in 24.0. Set this to <code>kPrTrue</code> if the transmitter supports push audio functionality. The device will be enabled for a 'secondary' mode where audio from the 'primary' or 'clock' device is pushed to this one.</td>
</tr>
<tr>
<td><code>outHasStreaming</code></td>
<td>New in 24.0. Set this to <code>kPrTrue</code> if the transmitter streams audio or video (over a network).</td>
</tr>
</tbody>
</table>
<div class="admonition bug">
<p class="admonition-title">Bug</p>
<p>The following text block was present here, though seems to be misplaced.
todo!</p>
<p>The device will be enabled for a "secondary" mode where audio from the "primary" or "clock" device is pushed to this one. This is especially useful for remote devices. PushAudio APIs will only be used in this "mirror" case. StartPushAudio() initializes the device for subsequent PushAudio() calls. Unlike StartPlaybackClock, StartPushAudio() is only called once until StopPushAudio() is called. PushAudio() is called whenever the desired buffer size is</p>
</div>
<hr />
<h2 id="transmitters-tmmodule-structures-tminstance">tmInstance<a class="headerlink" href="#transmitters-tmmodule-structures-tminstance" title="Permanent link">&para;</a></h2>
<p>This structure contains information for the transmitter to use for initializing an instance.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">          </span><span class="n">inInstanceID</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">         </span><span class="n">inTimelineID</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPlayID</span><span class="w">             </span><span class="n">inPlayID</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">               </span><span class="n">inHasAudio</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">         </span><span class="n">inNumChannels</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioChannelLabel</span><span class="w">  </span><span class="n">inChannelLabels</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="w">  </span><span class="n">PrAudioSampleType</span><span class="w">    </span><span class="n">inAudioSampleType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">                </span><span class="n">inAudioSampleRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">               </span><span class="n">inHasVideo</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">          </span><span class="n">inVideoWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">          </span><span class="n">inVideoHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">          </span><span class="n">inVideoPARNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">          </span><span class="n">inVideoPARDen</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">               </span><span class="n">inVideoFrameRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">          </span><span class="n">inVideoFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                </span><span class="n">ioPrivateInstanceData</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmInstance</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inInstanceID</code></td>
<td>Instance identifier.</td>
</tr>
<tr>
<td><code>inTimelineID</code></td>
<td><code>TimelineID</code>, for use with various suite functions. May be 0.</td>
</tr>
<tr>
<td><code>inPlayID</code></td>
<td><code>PlayID</code>, for use with various suite functions. May be 0.</td>
</tr>
<tr>
<td><code>inHasAudio</code></td>
<td>True if the instance is handling a sequence with audio.</td>
</tr>
<tr>
<td><code>inNumChannels</code></td>
<td>The number of audio channels.</td>
</tr>
<tr>
<td><code>inChannelLabels[16]</code></td>
<td>The identifiers for each audio channel.</td>
</tr>
<tr>
<td><code>inAudioSampleType</code></td>
<td>The format of the audio data.</td>
</tr>
<tr>
<td><code>inAudioSampleRate</code></td>
<td>The sample rate of the audio data.</td>
</tr>
<tr>
<td><code>inHasVideo</code></td>
<td>True if the instance is handling a sequence with video.</td>
</tr>
<tr>
<td><code>inVideoWidth</code></td>
<td>The video resolution.</td>
</tr>
<tr>
<td><code>inVideoHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>inVideoPARNum</code></td>
<td>The numerator and denominator of the video pixel aspect ratio.</td>
</tr>
<tr>
<td><code>inVideoPARDen</code></td>
<td></td>
</tr>
<tr>
<td><code>inVideoFrameRate</code></td>
<td>The frame rate of the video.</td>
</tr>
<tr>
<td><code>inVideoFieldType</code></td>
<td>The field dominance of the video.</td>
</tr>
<tr>
<td><code>ioPrivateInstanceData</code></td>
<td>May be written by plugin in <code>CreateInstance</code>, and disposed of by <code>DisposeInstance</code>. Need not be serializable by the host.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmaudiomode">tmAudioMode<a class="headerlink" href="#transmitters-tmmodule-structures-tmaudiomode" title="Permanent link">&para;</a></h2>
<p>A full description of an audio mode that the transmitter will support.</p>
<p>The transmitter should fill in this information during <code>QueryAudioMode</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">float</span><span class="w">                </span><span class="n">outAudioSampleRate</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">         </span><span class="n">outMaxBufferSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">         </span><span class="n">outNumChannels</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrAudioChannelLabel</span><span class="w">  </span><span class="n">outChannelLabels</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">               </span><span class="n">outLatency</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">          </span><span class="n">outAudioOutputNames</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmAudioMode</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>outAudioSampleRate</code></td>
<td>The preferred audio sample rate.</td>
</tr>
<tr>
<td><code>outMaxBufferSize</code></td>
<td>The maximum audio buffer size needed if the transmitter uses plugin-based audio to request audio buffers using the <a href="#transmitters-suites-playmod-audio-suite">Playmod Audio Suite</a>.</td>
</tr>
<tr>
<td><code>outNumChannels</code></td>
<td>The maximum number of audio channels supported.</td>
</tr>
<tr>
<td><code>outChannelLabels[16]</code></td>
<td>Set the audio channel configuration for the output hardware using the appropriate identifiers for each audio channel.</td>
</tr>
<tr>
<td><code>outLatency</code></td>
<td>This value is only used for playback, not when scrubbing.<br/><br/>It specifies how early to send frames in advance when audio-only playback starts, and how many frames that will be sent prior to a <code>StartPlaybackClock</code> call. Use this value to get playback in sync between the Source/Program Monitors and external hardware output.<br/><br/>All modes must have the same latency.<br/><br/>Take care to not set this value any higher than necessary, since playback start will delayed by this amount. A value equivalent to 5 video frames or less is recommended.</td>
</tr>
<tr>
<td><code>outAudioOutputNames[16]</code></td>
<td>New in CS6.0.2. These must be displayable names of physical audio outputs like "XYZ HD Speaker 1"<br/><br/>The audio output names in tmAudioMode should be allocated by the plugin using the <a href="#universals-sweetpea-suites-string-suite">String Suite</a> and NOT disposed by the plugin. The host will take care of disposing these strings.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmvideomode">tmVideoMode<a class="headerlink" href="#transmitters-tmmodule-structures-tmvideomode" title="Permanent link">&para;</a></h2>
<p>A full description of a video mode that the transmitter will support.</p>
<p>Transmitter should fill in this information during <code>QueryVideoMode</code>.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outPARNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">    </span><span class="n">outPARDen</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">    </span><span class="n">outFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">outPixelFormat</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">    </span><span class="n">outStreamLabel</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">         </span><span class="n">outLatency</span><span class="p">;</span>
<span class="w">  </span><span class="n">ColorSpaceRec</span><span class="w">  </span><span class="n">outColorSpaceRec</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmVideoMode</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>outWidth</code></td>
<td>The preferred video resolution.<br/><br/>Set to 0 if any resolution is supported.</td>
</tr>
<tr>
<td><code>outHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>outPARNum</code></td>
<td>The preferred video pixel aspect ratio.<br/><br/>Set to 0 if any pixel aspect ratio is supported.</td>
</tr>
<tr>
<td><code>outPARDen</code></td>
<td></td>
</tr>
<tr>
<td><code>outFieldType</code></td>
<td>The supported video field type.<br/><br/>Set to prFieldsAny if any field dominance is supported.</td>
</tr>
<tr>
<td><code>outPixelFormat</code></td>
<td>The preferred video pixel format.<br/><br/>Set to <code>PrPixelFormat_Any</code> if any format is acceptable.<br/><br/>If your transmitter would benefit from on-GPU frames, please let us know.</td>
</tr>
<tr>
<td><code>outStreamLabel</code></td>
<td>Leave this as 0 for now. Stream labels are not yet supported by transmitters (bug group BG127571)</td>
</tr>
<tr>
<td><code>outLatency</code></td>
<td>This value is only used for playback, not when scrubbing.<br/><br/>It specifies how early to send frames in advance when playback starts, and how many frames that will be sent prior to a <code>StartPlaybackClock</code> call.<br/><br/>Use this value to get playback in sync between the Source/Program Monitors and external hardware output.<br/><br/>All modes must have the same latency.<br/><br/>Take care to not set this value any higher than necessary, since playback start will delayed by this amount. A value equivalent to 5 frames or less is recommended.</td>
</tr>
<tr>
<td><code>outColorSpaceRec</code></td>
<td>New in 14.x. Definition of the colorspace in use; defaults to BT 709 full range 32f.<br/><br/>Transmitter can request host application to send frame in specific colorspace. See to <code>ColorSpaceRec</code> for detailed description.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmplaybackclock">tmPlaybackClock<a class="headerlink" href="#transmitters-tmmodule-structures-tmplaybackclock" title="Permanent link">&para;</a></h2>
<p>This structure is filled out by the host and sent to the transmitter to describe the playback clock to be managed by the transmitter.</p>
<p>The transmitter uses the callback here to update the host at regular intervals.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">tmClockCallback</span><span class="w">         </span><span class="n">inClockCallback</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                   </span><span class="n">inCallbackContext</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                  </span><span class="n">inStartTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">pmPlayMode</span><span class="w">              </span><span class="n">inPlayMode</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">                   </span><span class="n">inSpeed</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                  </span><span class="n">inInTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                  </span><span class="n">inOutTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">                  </span><span class="n">inLoop</span><span class="p">;</span>
<span class="w">  </span><span class="n">tmDroppedFrameCallback</span><span class="w">  </span><span class="n">inDroppedFrameCallback</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmPlaybackClock</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>tmClockCallback</code></td>
<td>A pointer to a call with the following signature:<br/><pre>void (<em>tmClockCallback)(<br/>  void</em>   inContext,<br/>  PrTime  inRelativeTimeAdjustment);</pre>Call this function when the time changes with a non-speed adjusted amount to increment the clock by.<br/><br/>This can be called once per frame in response to PushVideo.<br/><br/>Using a negative time should only be used to wait for device, not to achieve sync.<br/><br/>The transmitter will not receive any frames while using a negative time.<br/><br/>After the first positive valued clock callback, the time will be in <code>StartTime + inRelativeTimeAdjustment * inSpeed</code>.</td>
</tr>
<tr>
<td><code>inCallbackContext</code></td>
<td>Pass this into the clock callback above.</td>
</tr>
<tr>
<td><code>inStartTime</code></td>
<td>Start the clock at this time.</td>
</tr>
<tr>
<td><code>inPlayMode</code></td>
<td>Specifies whether the <code>StartPlaybackClock</code> was set for playback or scrubbing.</td>
</tr>
<tr>
<td><code>inSpeed</code></td>
<td>1.0 is normal speed, -2.0 is double speed backwards.<br/><br/>Informational only.<br/><br/>This is useful for the built-in DV transmitter, which only writes DV captions if playing at regular speed.</td>
</tr>
<tr>
<td><code>inInTime</code></td>
<td>Informational only and will be handled by the host.</td>
</tr>
<tr>
<td><code>inOutTime</code></td>
<td></td>
</tr>
<tr>
<td><code>inLoop</code></td>
<td></td>
</tr>
<tr>
<td><code>inDroppedFrameCallback</code></td>
<td>A pointer to a call with the following signature:<br/><pre>void (<em>tmDroppedFrameCallback)(<br/>  void</em>        inContext,<br/>  csSDK_int64  inNewDroppedFrames);</pre>Use this call to report frames pushed to the transmit plugin on PushVideo but not delivered to the device.<br/><br/>If every frame pushed to the transmitter is sent out to hardware on time, then this should never need to be called as the host will count frames not pushed to the plugin.<br/><br/><code>inNewDroppedFrames</code> should be the number of additional dropped frames since the last time <code>tmDroppedFrameCall</code> back was called.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmpushvideo">tmPushVideo<a class="headerlink" href="#transmitters-tmmodule-structures-tmpushvideo" title="Permanent link">&para;</a></h2>
<p>Describes a frame of video to be transmitted.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">                 </span><span class="n">inTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">pmPlayMode</span><span class="w">             </span><span class="n">inPlayMode</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">        </span><span class="n">inQuality</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">tmLabeledFrame</span><span class="o">*</span><span class="w">  </span><span class="n">inFrames</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">           </span><span class="n">inFrameCount</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmPushVideo</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inTime</code></td>
<td>Describes which frame of the video is being passed in.<br/><br/>A negative value means the frame should be displayed immediately.<br/><br/>Use this value to determine the corresponding timecode for the frame being pushed.</td>
</tr>
<tr>
<td><code>inPlayMode</code></td>
<td>Pass this into the clock callback above.</td>
</tr>
<tr>
<td><code>inQuality</code></td>
<td>The quality of the render.</td>
</tr>
<tr>
<td><code>inFrames</code></td>
<td>The frame or set of frames to transmit. As of CS6, this will always be a single frame.<br/><br/><code>tmLabeledFrame</code> is defined as:<br/><pre>typedef struct {<br/>  PPixHand          inFrame;<br/>  PrSDKStreamLabel  inStreamLabel;<br/>} tmLabeledFrame;</pre><br/>The frame(s) must be disposed of by the transmitter when done.</td>
</tr>
<tr>
<td><code>inFrameCount</code></td>
<td>The number of frames in inFrames.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmpushaudio">tmPushAudio<a class="headerlink" href="#transmitters-tmmodule-structures-tmpushaudio" title="Permanent link">&para;</a></h2>
<p>Describes audio samples to be transmitted.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inTime</span><span class="p">;</span>
<span class="w">      </span><span class="kt">float</span><span class="o">**</span><span class="w">         </span><span class="n">inBuffers</span><span class="p">;</span>
<span class="w">      </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inNumSamples</span><span class="p">;</span>
<span class="w">      </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inNumChannels</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmPushAudio</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inTime</code></td>
<td>Describes which frame of the video is being passed in.<br/><br/>A negative value means the frame should be displayed immediately.<br/><br/>Use this value to determine the corresponding timecode for the frame being pushed.</td>
</tr>
<tr>
<td><code>inBuffers</code></td>
<td>The audio date to be transmitted.</td>
</tr>
<tr>
<td><code>inNumSamples</code></td>
<td>Number of samples to process.</td>
</tr>
<tr>
<td><code>inNumChannels</code></td>
<td>Number of channels to output.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-tmmodule-structures-tmstoppushaudio">tmStopPushAudio<a class="headerlink" href="#transmitters-tmmodule-structures-tmstoppushaudio" title="Permanent link">&para;</a></h2>
<p>Sent when playback via PushAudio() ends.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inTime</span><span class="p">;</span>
<span class="w">      </span><span class="kt">float</span><span class="o">**</span><span class="w">         </span><span class="n">inBuffers</span><span class="p">;</span>
<span class="w">      </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inNumSamples</span><span class="p">;</span>
<span class="w">      </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inNumChannels</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">tmPushAudio</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inTime</code></td>
<td>Describes which frame of the video is being passed in.<br/><br/>A negative value means the frame should be displayed immediately.<br/><br/>Use this value to determine the corresponding timecode for the frame being pushed.</td>
</tr>
<tr>
<td><code>inBuffers</code></td>
<td>The audio date to be transmitted.</td>
</tr>
<tr>
<td><code>inNumSamples</code></td>
<td>Number of samples to process.</td>
</tr>
<tr>
<td><code>inNumChannels</code></td>
<td>Number of channels to output.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="transmitters-suites"><h1 id="transmitters-suites-suites">Suites<a class="headerlink" href="#transmitters-suites-suites" title="Permanent link">&para;</a></h1>
<p>For information on how to acquire and manage suites, as well as information on more suites that are available to other plugin types beyond just transmitters, see <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<hr />
<h2 id="transmitters-suites-playmod-audio-suite">Playmod Audio Suite<a class="headerlink" href="#transmitters-suites-playmod-audio-suite" title="Permanent link">&para;</a></h2>
<p>This suite is used to play audio during playback. There are many more functions that were used by players, still documented in the players chapter. Here we will only consider the single call in the suite that is relevant to transmitters.</p>
<h3 id="transmitters-suites-host-based-or-plug-in-based-audio">Host-Based, or Plug-in Based Audio?<a class="headerlink" href="#transmitters-suites-host-based-or-plug-in-based-audio" title="Permanent link">&para;</a></h3>
<p>A transmitter has two choices for playing audio: it can ask the host to play the audio through the audio device selected by the user, or it can get audio buffers from the host and handle its own playback of audio.</p>
<h3 id="transmitters-suites-getnextaudiobuffer">GetNextAudioBuffer<a class="headerlink" href="#transmitters-suites-getnextaudiobuffer" title="Permanent link">&para;</a></h3>
<p>Retrieves from the host the next contiguous requested number of audio sample frames, specified in <code>inNumSampleFrames</code>, in <code>inInBuffers</code> as arrays of uninterleaved floats.</p>
<p>The plugin must manage the memory allocation of <code>inInBuffers</code>, which must point to n buffers of floating point values of length <code>inNumSampleFrames</code>, where n is the number of channels. This call is only available if <code>InitPluginAudio</code> was used.</p>
<p>Returns:</p>
<ul>
<li><code>suiteError_NoError</code>,</li>
<li><code>suiteError_PlayModuleAudioNotInitialized</code>, or</li>
<li><code>suiteError_PlayModuleAudioNotStarted</code></li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetNextAudioBuffer</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inPlayID</span><span class="p">,</span>
<span class="w">  </span><span class="kt">float</span><span class="o">**</span><span class="w">       </span><span class="n">inInBuffers</span><span class="p">,</span>
<span class="w">  </span><span class="kt">float</span><span class="o">**</span><span class="w">       </span><span class="n">outOutBuffers</span><span class="p">,</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w">  </span><span class="n">inNumSampleFrames</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inInBuffers</code></td>
<td>Currently unused in CS6.<br/><br/>A pointer to an array of buffers holding <code>inNumSampleFrames</code> input audio in each buffer, corresponding to the total number of available input channels.</td>
</tr>
<tr>
<td><code>outOutBuffers</code></td>
<td>A pointer to an array of buffers <code>inNumSampleFrames</code> long into which the host will write the output audio.<br/><br/>There must be N buffers, where N is the number of output channels for the output channel type specified in <code>InitPluginAudio</code>.</td>
</tr>
<tr>
<td><code>inNumSampleFrames</code></td>
<td>The size of each of the buffers in the array in both <code>inInBuffers</code> and <code>outOutBuffers</code>.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="transmitters-suites-transmit-invocation-suite">Transmit Invocation Suite<a class="headerlink" href="#transmitters-suites-transmit-invocation-suite" title="Permanent link">&para;</a></h2>
<p>This suite can be used by other types of plugins to push frames to transmitters.</p>
<p>For example, an effect or titler with a modal setup dialog could push frames to the output.</p></section><h1 class='nav-section-title-end'>Ended: Transmitters</h1>
                        <h1 class='nav-section-title' id='section-video-filters'>
                            Video Filters <a class='headerlink' href='#section-video-filters' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="video-filters-video-filters"><h1 id="video-filters-video-filters-video-filters">Video Filters<a class="headerlink" href="#video-filters-video-filters-video-filters" title="Permanent link">&para;</a></h1>
<p>We strongly recommend using the <strong>After Effects SDK</strong> to develop effects plugins.</p>
<p>Almost all of the effects included in Premiere Pro are After Effects plugins, and future development will be based on the After Effects API.</p>
<p>Video filters process a video frame into a destination frame. Filter parameters can vary with time.</p>
<p>Premiere provides basic user interface in the Effect Controls panel, drawing sliders, color pickers, angle dials, and checkboxes based on the parameter definitions in the PiPL resource. Video filters can have their own custom modal setup dialog for additional settings.</p>
<p>If you've never developed a video filter before, you can skip <a href="#video-filters-whats-new">Whats New</a>, and go directly to <a href="#video-filters-getting-started">Getting Started</a>.</p></section><section class="print-page" id="video-filters-whats-new"><h1 id="video-filters-whats-new-whats-new">Whats New<a class="headerlink" href="#video-filters-whats-new-whats-new" title="Permanent link">&para;</a></h1>
<h2 id="video-filters-whats-new-whats-new-in-premiere-pro-cs5">What's New in Premiere Pro CS5?<a class="headerlink" href="#video-filters-whats-new-whats-new-in-premiere-pro-cs5" title="Permanent link">&para;</a></h2>
<p>In the Effects panel, video filters now appear with badges to advertise if they support YUV, 32- bit, and accelerated rendering.</p>
<p>The user can filter the list of effects to show only the effects that support those rendering modes. Video filters will automatically receive YUV and 32-bit badges if they advertise support using the existing <code>fsGetPixelFormatsSupported</code>.</p>
<p>Custom badges can also be created. See Effect Badging for more information.</p>
<hr />
<h2 id="video-filters-whats-new-whats-new-in-premiere-pro-cs3">What's New in Premiere Pro CS3?<a class="headerlink" href="#video-filters-whats-new-whats-new-in-premiere-pro-cs3" title="Permanent link">&para;</a></h2>
<p>Checkbox controls are now supported directly in the Effect Controls panel.</p>
<p>Filters can specify whether or not they want a setup button in the Effect Controls panel during <code>fsHasSetupDialog</code>, by returning <code>fsHasNoSetupDialog</code> or <code>fsNoErr</code>.</p>
<p>Previously, this was set in the PiPL resource.</p></section><section class="print-page" id="video-filters-getting-started"><h1 id="video-filters-getting-started-getting-started">Getting Started<a class="headerlink" href="#video-filters-getting-started-getting-started" title="Permanent link">&para;</a></h1>
<p>Begin with one of the two video filter sample projects, progressively replacing its functionality with your own.</p>
<hr />
<h2 id="video-filters-getting-started-resources">Resources<a class="headerlink" href="#video-filters-getting-started-resources" title="Permanent link">&para;</a></h2>
<p>Filter plugins can use PiPL resources to define their behaviors and supported properties.</p>
<p>To provide any parameters in the Effect Controls panel, they must be defined in the PiPL in ANIM_ParamAtom sections, as demonstrated in the example below.</p>
<p>The 'no UI' UI type is for non-keyframeable parameters. After making changes to the PiPL, rebuild the plugin each time, so that the PiPL will be recompiled.</p>
<h3 id="video-filters-getting-started-a-filter-pipl-example">A Filter PiPL Example<a class="headerlink" href="#video-filters-getting-started-a-filter-pipl-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;PrSDKPiPLVer.h&quot;</span>
<span class="cp">#ifndef PRWIN_ENV</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;PrSDKPiPL.r&quot;</span>
<span class="cp">#endif</span>

<span class="c1">// The following two strings should be localized</span>
<span class="cp">#define plugInName &quot;Cool Video Filter&quot;</span>
<span class="cp">#define plugInCategory &quot;SDK Filters&quot;</span>

<span class="c1">// This name should not be localized or updated</span>
<span class="cp">#define plugInMatchName &quot;SDK Cool Filter&quot;</span>

<span class="n">resource</span><span class="w"> </span><span class="err">&#39;</span><span class="n">PiPL</span><span class="err">&#39;</span><span class="w"> </span><span class="p">(</span><span class="mi">16000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// The plugin type</span>
<span class="w">    </span><span class="n">Kind</span><span class="w"> </span><span class="p">{</span><span class="n">PrEffect</span><span class="p">},</span>

<span class="w">    </span><span class="c1">// The plugin name as it will appear to the user</span>
<span class="w">    </span><span class="n">Name</span><span class="w"> </span><span class="p">{</span><span class="n">plugInName</span><span class="p">},</span>

<span class="w">    </span><span class="c1">// The internal name of this plugin</span>
<span class="w">    </span><span class="n">AE_Effect_Match_Name</span><span class="w"> </span><span class="p">{</span><span class="n">plugInMatchName</span><span class="p">},</span>

<span class="w">    </span><span class="c1">// The folder containing the plugin in the Effects Panel</span>
<span class="w">    </span><span class="n">Category</span><span class="w"> </span><span class="p">{</span><span class="n">plugInCategory</span><span class="p">},</span>

<span class="w">    </span><span class="c1">// The version of the PiPL resource definition</span>
<span class="w">    </span><span class="n">AE_PiPL_Version</span><span class="w"> </span><span class="p">{</span><span class="n">PiPLVerMajor</span><span class="p">,</span><span class="w"> </span><span class="n">PiPLVerMinor</span><span class="p">},</span>

<span class="w">    </span><span class="c1">// The ANIM properties describe the filter parameters, and also how the data is stored in the project file. There is one ANIM_FilterInfo property followed by n ANIM_ParamAtoms</span>
<span class="w">    </span><span class="n">ANIM_FilterInfo</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="cp">#ifdef PiPLVer2p3</span>

<span class="w">      </span><span class="c1">// Non-square pixel aspect ratio supported</span>
<span class="w">      </span><span class="n">notUnityPixelAspectRatio</span><span class="p">,</span>
<span class="w">      </span><span class="n">anyPixelAspectRatio</span><span class="p">,</span>
<span class="w">      </span><span class="n">reserved4False</span><span class="p">,</span>
<span class="w">      </span><span class="n">reserved3False</span><span class="p">,</span>
<span class="w">      </span><span class="n">reserved2False</span><span class="p">,</span>

<span class="w">      </span><span class="cp">#endif</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="n">reserved1False</span><span class="p">,</span><span class="w"> </span><span class="c1">// These flags are for use by After Effects</span>
<span class="w">    </span><span class="n">reserved0False</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">driveMe</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">needsDialog</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">paramsNotPointer</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">paramsNotHandle</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">paramsNotMacHandle</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">dialogNotInRender</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">paramsNotInGlobals</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">bgAnimatable</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">fgAnimatable</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">geometric</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">noRandomness</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>

<span class="w">    </span><span class="c1">// Put the number of parameters here</span>
<span class="w">    </span><span class="mi">2</span><span class="p">,</span>

<span class="w">    </span><span class="n">plugInMatchName</span>

<span class="w">    </span><span class="c1">// There is one ANIM_ParamAtom for each parameter</span>
<span class="w">    </span><span class="n">ANIM_ParamAtom</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// This is the first property - Zero based count</span>
<span class="w">      </span><span class="mi">0</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// The name to appear for the control</span>
<span class="w">      </span><span class="s">&quot;Level&quot;</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// Parameter number goes here - One based count</span>
<span class="w">      </span><span class="mi">1</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// Put the data type here</span>
<span class="w">      </span><span class="n">ANIM_DT_SHORT</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// UI control type</span>
<span class="w">      </span><span class="n">ANIM_UI_SLIDER</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span><span class="w"> </span><span class="c1">// valid_min (0.0)</span>
<span class="w">      </span><span class="mh">0x405fc000</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span><span class="w"> </span><span class="c1">// valid_max (127.0)</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span><span class="w"> </span><span class="c1">// ui_min (0.0)</span>
<span class="w">      </span><span class="mh">0x40590000</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span><span class="w"> </span><span class="c1">// ui_max (100.0)</span>

<span class="w">      </span><span class="cp">#if PiPLVer2p3</span>
<span class="w">      </span><span class="c1">// New - Scale/dontScale UI Range if user modifies</span>
<span class="w">      </span><span class="n">dontScaleUIRange</span><span class="p">,</span>
<span class="w">      </span><span class="cp">#endif</span>
<span class="w">    </span><span class="p">},</span>

<span class="w">    </span><span class="c1">// Set/don&#39;t set this if the param should be animated</span>
<span class="w">    </span><span class="n">animateParam</span><span class="p">,</span>
<span class="w">    </span><span class="n">dontRestrictBounds</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">spaceIsAbsolute</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>
<span class="w">    </span><span class="n">resIndependent</span><span class="p">,</span><span class="w"> </span><span class="c1">// Not used by Premiere</span>

<span class="w">    </span><span class="c1">// Bytes size of the param data</span>
<span class="w">    </span><span class="mi">2</span>

<span class="w">    </span><span class="n">ANIM_ParamAtom</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="s">&quot;Target Color&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// Put the data type here</span>
<span class="w">      </span><span class="n">ANIM_DT_COLOR_RGB</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// UI control type</span>
<span class="w">      </span><span class="n">ANIM_UI_COLOR_RGB</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>
<span class="w">      </span><span class="mh">0x0</span><span class="p">,</span>

<span class="w">      </span><span class="cp">#ifdef PiPLVer2p3</span>
<span class="w">      </span><span class="n">dontScaleUIRange</span><span class="p">,</span>
<span class="w">      </span><span class="cp">#endif</span>

<span class="w">      </span><span class="c1">// Set/don&#39;t set this if the param should be animated</span>
<span class="w">      </span><span class="n">animateParam</span><span class="p">,</span>
<span class="w">      </span><span class="n">dontRestrictBounds</span><span class="p">,</span>
<span class="w">      </span><span class="n">spaceIsAbsolute</span><span class="p">,</span>
<span class="w">      </span><span class="n">resIndependent</span><span class="p">,</span>

<span class="w">      </span><span class="c1">// Bytes size of the param data</span>
<span class="w">      </span><span class="mi">4</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<hr />
<h2 id="video-filters-getting-started-entry-point">Entry Point<a class="headerlink" href="#video-filters-getting-started-entry-point" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="kt">short</span><span class="w"> </span><span class="n">xFilter</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="kt">short</span><span class="w">        </span><span class="n">selector</span><span class="p">,</span>
<span class="w">  </span><span class="n">VideoHandle</span><span class="w">  </span><span class="n">theData</span><span class="p">)</span>
</code></pre></div>
<ul>
<li><code>selector</code> is the action Premiere wants the video filter to perform.</li>
<li><code>EffectHandle</code> provides source and destination buffers, and other useful information.</li>
</ul>
<p>Return <code>fsNoErr</code> if successful, or an appropriate return code.</p></section><section class="print-page" id="video-filters-selector-table"><h1 id="video-filters-selector-table-selector-table">Selector Table<a class="headerlink" href="#video-filters-selector-table-selector-table" title="Permanent link">&para;</a></h1>
<p>This table summarizes the various selector commands a video filter can receive.</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>Optional?</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#video-filters-selector-descriptions-fsinitspec">fsInitSpec</a></td>
<td>Yes</td>
<td>Allocate and initialize your parameters with default values without popping a modal setup dialog.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fshassetupdialog">fsHasSetupDialog</a></td>
<td>Yes</td>
<td>New for Premiere Pro CS3. Specify whether or not the filter has a setup dialog.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fssetup">fsSetup</a></td>
<td>Yes</td>
<td>Allocate memory for your parameters if necessary.<br/><br/>Display your modal setup dialog with default parameter values or previously stored values.<br/><br/>Save the new values to <code>specsHandle</code>.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fsexecute">fsExecute</a></td>
<td>No</td>
<td>Filter the video using the stored parameters from <code>specsHandle</code>.<br/><br/>Be aware of interlaced video, and don't overlook the alpha channel!</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fsdisposedata">fsDisposeData</a></td>
<td>Yes</td>
<td>Dispose of any instance data created during <code>fsExecute</code>.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fscanhandlepar">fsCanHandlePAR</a></td>
<td>Yes</td>
<td>Tell Premiere how your effect handles pixel aspect ratio.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fsgetpixelformatssupported">fsGetPixelFormatsSupported</a></td>
<td>Yes</td>
<td>Gets pixel formats supported. Called iteratively until all formats have been given.</td>
</tr>
<tr>
<td><a href="#video-filters-selector-descriptions-fscacheonload">fsCacheOnLoad</a></td>
<td>Yes</td>
<td>Return fsDoNotCacheOnLoad to disable plugin caching for this filter.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="video-filters-selector-descriptions"><h1 id="video-filters-selector-descriptions-selector-descriptions">Selector Descriptions<a class="headerlink" href="#video-filters-selector-descriptions-selector-descriptions" title="Permanent link">&para;</a></h1>
<h2 id="video-filters-selector-descriptions-fsinitspec">fsInitSpec<a class="headerlink" href="#video-filters-selector-descriptions-fsinitspec" title="Permanent link">&para;</a></h2>
<p>Responding to this selector is optional. This selector is sent when the filter is applied to a clip and the plugin is called for the first time. This call can be used to initialize the plugin parameters with default values in order to achieve an initial "silent setup", in which <code>fsSetup</code> is skipped when the filter is applied to a clip, to avoid popping the modal dialog that may be needed in <code>fsSetup</code>.</p>
<p>Allocate and pass back a handle to a structure containing the parameter values in specsHandle. The filter is given the total duration (in samples), and number of the first sample in the source buffer.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fshassetupdialog">fsHasSetupDialog<a class="headerlink" href="#video-filters-selector-descriptions-fshassetupdialog" title="Permanent link">&para;</a></h2>
<p>New for Premiere Pro CS3. Optional. Specify whether or not the filter has a setup dialog, by <code>returning</code> <code>fsHasNoSetupDialog</code> or <code>fsNoErr</code>.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fssetup">fsSetup<a class="headerlink" href="#video-filters-selector-descriptions-fssetup" title="Permanent link">&para;</a></h2>
<p>Optional. Sent when the filter is applied, if <code>fsInitSpec</code> doesn't allocate a valid specsHandle. Also sent when the user clicks on the setup link in the Effect Controls Panel. The filter can optionally display a (platform-dependent) modal dialog to get new parameter values from the user. First, check <code>VideoHandle.specsHandle</code>. If NULL, the plugin is being called for the first time.</p>
<p>Initialize the parameters to their default values. If non-NULL, load the parameter values from specsHandle. Now use the parameter values to display a modal setup dialog to get new values. Return a handle to a structure containing the parameter values in specsHandle.</p>
<p>In order to properly store parameter values between calls to the plugin, describe the structure of your specsHandle data in your PiPL's ANIM properties. Premiere interpolates animatable parameter values as appropriate before sending <code>fsExecute</code>.</p>
<p>The filter is given the total duration in samples and the sample number of the first sample in the source buffer.</p>
<p>During <code>fsSetup</code>, the frames passed to <code>VideoRecord.source</code> will almost always be 320x240. The exception is if the plugin is receiving the <code>fsSetup</code> selector when the effect is initially applied, in which case it will receive a full height frame, with the width adjusted to make the frame square pixel aspect ratio. For example, a filter applied in a 1440x1080 HDV sequence will receive a full 1920x1080 buffer. The frame is the layer the filter is applied to at the current time indicator. If the CTI is not on the clip the filter is applied to, the frame is transparent black.</p>
<p>If the filter has a setup dialog, the VFilterCallbackProcPtr should be used to get source frames for previews. <code>getPreviewFrameEx</code> can be used to get rendered frames, although if this call is used, the video filter should be ready to be called reentrantly with <code>fsExecute</code>.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fsexecute">fsExecute<a class="headerlink" href="#video-filters-selector-descriptions-fsexecute" title="Permanent link">&para;</a></h2>
<p>This is really the only required selector for a video filter, and it's where the rendering happens. Take the input frame in <code>VideoHandle.source</code>, render the effect and return the frame to Premiere in <code>VideoHandle.destination</code>. The specsHandle contains your parameter settings (already interpolated if animatable). You can store a handle to any additional non-parameter data in <code>VideoHandle.InstanceData</code>. If you do so, deallocate the handle in response to <code>fsDisposeData</code>, or your plugin will leak memory.</p>
<p>The video your filter receives may be interlaced, in the field order determined by the project settings. If interlaced, your plugin will be called twice for each frame of video, and each PPix will be half the frame height.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fsdisposedata">fsDisposeData<a class="headerlink" href="#video-filters-selector-descriptions-fsdisposedata" title="Permanent link">&para;</a></h2>
<p>Optional. Called when the project closes. Dispose of any instance data created during <code>fsExecute</code>. See <code>VideoHandle-&gt;InstanceData</code>.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fscanhandlepar">fsCanHandlePAR<a class="headerlink" href="#video-filters-selector-descriptions-fscanhandlepar" title="Permanent link">&para;</a></h2>
<p>Optional. Indicate how your filter wants to handle pixel aspect ratio by returning a combination of the following flags.</p>
<p>This selector is only sent if several conditions are met.</p>
<p>The pixel aspect ratio of the clip to which the filter is applied must be known, and not be square (1.0).</p>
<p>The clip must not be a solid color.</p>
<p>The PiPL bits <code>anyPixelAspectRatio</code> and <code>unityPixelAspectRatio</code> must not be set.</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>prEffectCanHandlePAR</code></td>
<td>Premiere should not make any adjustment to the source image to compensate for PAR</td>
</tr>
<tr>
<td><code>prEffectUnityPARSetup</code></td>
<td>Premiere should render the source image to square pixels during <code>fsSetup</code></td>
</tr>
<tr>
<td><code>prEffectUnityPARExecute</code></td>
<td>Premiere should render the source image to square pixels during <code>fsExecute</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="video-filters-selector-descriptions-fsgetpixelformatssupported">fsGetPixelFormatsSupported<a class="headerlink" href="#video-filters-selector-descriptions-fsgetpixelformatssupported" title="Permanent link">&para;</a></h2>
<p>Optional.</p>
<p>Gets pixel formats supported.</p>
<p>Called iteratively until all formats have been given.</p>
<p>Set <code>(*theData)-&gt;pixelFormatSupported</code> to a supported pixel format, and return <code>fsNoErr</code>.</p>
<p>When all formats have been described, return <code>fsBadFormatIndex</code>.</p>
<p>See the field-aware video filter sample for an example.</p>
<hr />
<h2 id="video-filters-selector-descriptions-fscacheonload">fsCacheOnLoad<a class="headerlink" href="#video-filters-selector-descriptions-fscacheonload" title="Permanent link">&para;</a></h2>
<p>Optional. Return <code>fsDoNotCacheOnLoad</code> to disable plugin caching for this filter.</p></section><section class="print-page" id="video-filters-return-codes"><h1 id="video-filters-return-codes-return-codes">Return Codes<a class="headerlink" href="#video-filters-return-codes-return-codes" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Return Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fsNoErr</code></td>
<td>Operation has completed without error.</td>
</tr>
<tr>
<td><code>fsBadFormatIndex</code></td>
<td>Return from <code>fsGetPixelFormatsSupported</code> when all pixel formats have been enumerated.</td>
</tr>
<tr>
<td><code>fsDoNotCacheOnLoad</code></td>
<td>Return from <code>fsCacheOnLoad</code> to disable plugin caching for this filter.</td>
</tr>
<tr>
<td><code>fsHasNoSetupDialog</code></td>
<td>Return from <code>fsHasSetupDialog</code> to disable setup button in Effect Controls panel</td>
</tr>
<tr>
<td><code>fsUnsupported</code></td>
<td>The selector is not recognized, or unsupported.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="video-filters-videorecord"><h1 id="video-filters-videorecord-videorecord">VideoRecord<a class="headerlink" href="#video-filters-videorecord-videorecord" title="Permanent link">&para;</a></h1>
<p>A video filter is passed a handle to a VideoRecord with almost every selector.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PrMemoryHandle</span><span class="w">          </span><span class="n">specsHandle</span><span class="p">;</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">                </span><span class="n">source</span><span class="p">;</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">                </span><span class="n">destination</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">part</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">total</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">                    </span><span class="n">previewing</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">                   </span><span class="n">privateData</span><span class="p">;</span>
<span class="w">  </span><span class="n">VFilterCallBackProcPtr</span><span class="w">  </span><span class="n">callBack</span><span class="p">;</span>
<span class="w">  </span><span class="n">BottleRec</span><span class="o">*</span><span class="w">              </span><span class="n">bottleNecks</span><span class="p">;</span>
<span class="w">  </span><span class="kt">short</span><span class="w">                   </span><span class="n">version</span><span class="p">;</span>
<span class="w">  </span><span class="kt">short</span><span class="w">                   </span><span class="n">sizeFlags</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">flags</span><span class="p">;</span>
<span class="w">  </span><span class="n">TDB_TimeRecord</span><span class="o">*</span><span class="w">         </span><span class="n">tdb</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrMemoryHandle</span><span class="w">          </span><span class="n">instanceData</span><span class="p">;</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">             </span><span class="n">piSuites</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">            </span><span class="n">timelineData</span><span class="p">;</span>
<span class="w">  </span><span class="kt">char</span><span class="w">                    </span><span class="n">altName</span><span class="p">[</span><span class="n">MAX_FXALIAS</span><span class="p">];</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">           </span><span class="n">pixelFormatSupported</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">pixelFormatIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">            </span><span class="n">instanceID</span><span class="p">;</span>
<span class="w">  </span><span class="n">TDB_TimeRecord</span><span class="w">          </span><span class="n">tdbTimelineLocation</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">             </span><span class="n">sessionPluginID</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">VideoRecord</span><span class="p">,</span><span class="w"> </span><span class="o">**</span><span class="n">VideoHandle</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>specsHandle</code></td>
<td>Instance settings, persistent across Premiere sessions.<br/><br/>Create this handle during <code>fsInitSpec</code> or <code>fsSetup</code>.<br/><br/>Populated by Premiere if the filter's parameters can be manipulated in the Effect Controls Panel.<br/><br/>Use Premiere's memory allocation callbacks to allocate memory for the <code>specsHandle</code>.</td>
</tr>
<tr>
<td><code>source</code></td>
<td><code>PPixHand</code> for the source video frame.</td>
</tr>
<tr>
<td><code>destination</code></td>
<td><code>PPixHand</code> for the destination video frame, always the same size as source.<br/><br/>Store the output frame here during <code>fsExecute</code>.</td>
</tr>
<tr>
<td><code>part</code></td>
<td>How far into the effect you are.<br/><br/><code>part</code> varies from 0 to total, inclusive.</td>
</tr>
<tr>
<td><code>total</code></td>
<td>Total length of the video filter.<br/><br/>Divide part by total to calculate the percentage of the time-variant filter for a given <code>fsExecute</code>.<br/><br/>This value doesn't necessarily correspond to frames or fields.</td>
</tr>
<tr>
<td><code>previewing</code></td>
<td>Unsupported</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Data private to Premiere.<br/><br/>Pass to the frame-retrieval callback when requesting a frame.</td>
</tr>
<tr>
<td><code>callBack</code></td>
<td>Pointer to <code>VFilterCallbackProcPtr</code>, used for retrieving frames (or fields, for interlaced video) from source clips.</td>
</tr>
<tr>
<td><code>bottleNecks</code></td>
<td>Pointer to Premiere's bottleRec functions.</td>
</tr>
<tr>
<td><code>version</code></td>
<td>Version of this structure (<code>kVideoFilterVersion</code>).<ul><li>Premiere Pro CS5 = <code>VIDEO_FILTER_VERSION_11</code></li><li>Premiere Pro CS3 = <code>VIDEO_FILTER_VERSION_10</code></li></ul></td>
</tr>
<tr>
<td><code>sizeFlags</code></td>
<td>Field-rendering information.</td>
</tr>
<tr>
<td><code>flags</code></td>
<td>If doing a lower-quality render, Premiere will pass in <code>kEffectFlags_DraftQuality</code> during <code>fsExecute</code>.<br/><br/>The filter can then optionally render a faster, lower-quality image for previewing.</td>
</tr>
<tr>
<td><code>tdb</code></td>
<td>Pointer to a time database record describing the sequence timebase.</td>
</tr>
<tr>
<td><code>instanceData</code></td>
<td>Handle to private instance data that persists across invocations.<br/><br/>Allocate the memory for this during <code>fsExecute</code> and deallocate during <code>fsDisposeData</code>.<br/><br/>Do not use this field during fsSetup.</td>
</tr>
<tr>
<td><code>piSuites</code></td>
<td>Pointer to callback <a href="#universals-legacy-callback-suites-pisuites">piSuites</a>.</td>
</tr>
<tr>
<td><code>timelineData</code></td>
<td>Only available during <code>fsInitSpec</code> and <code>fsSetup</code>.<br/><br/>This opaque handle to the timeline database is required by <code>timelineFuncs</code> callbacks available in <a href="#universals-legacy-callback-suites-pisuites">piSuites</a>.<br/><br/>This handle is useful in order to have a preview in a modal setup dialog during <code>fsSetup</code>.</td>
</tr>
<tr>
<td><code>altName</code></td>
<td>Unused.</td>
</tr>
<tr>
<td><code>pixelFormatSupported</code></td>
<td>Only valid during <code>fsGetPixelFormatsSupported</code>.<br/><br/>Return pixel type supported.</td>
</tr>
<tr>
<td><code>pixelFormatIndex</code></td>
<td>Only valid during <code>fsGetPixelFormatsSupported</code>.<br/><br/>Index of fourCC of pixel type supported.</td>
</tr>
<tr>
<td><code>instanceID</code></td>
<td>The runtime instance ID uniquely identifies filters during a session.<br/><br/>This is the same ID that is passed to players in <code>prtFilterRec</code>.</td>
</tr>
<tr>
<td><code>tdbTimelineLocation</code></td>
<td>A time database record describing the location of the filter in sequence.<br/><br/>Only valid during <code>fsInitSpec</code> and <code>fsSetup</code>.</td>
</tr>
<tr>
<td><code>sessionPluginID</code></td>
<td>This ID should be used in the <a href="#universals-sweetpea-suites-file-registration-suite">File Registration Suite</a> for registering external files (such as textures, logos, etc) that are used by a plugin instance but do not appear as footage in the Project Panel.<br/><br/>Registered files will be taken into account when trimming or copying a project using the Project Manager.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="video-filters-videorecord-vfiltercallbackprocptr">VFilterCallBackProcPtr<a class="headerlink" href="#video-filters-videorecord-vfiltercallbackprocptr" title="Permanent link">&para;</a></h2>
<p>Pointer to a callback for retrieving frames (or fields, for interlaced video) from the source clip.</p>
<p>Do not expect real-time performance from this callback.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="kt">short</span><span class="w"> </span><span class="p">(</span><span class="n">CALLBACK</span><span class="w"> </span><span class="o">*</span><span class="n">VFilterCallBackProcPtr</span><span class="p">)(</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">frame</span><span class="p">;</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">     </span><span class="n">thePort</span><span class="p">;</span>
<span class="w">  </span><span class="n">RECT</span><span class="o">*</span><span class="w">        </span><span class="n">theBox</span><span class="p">;</span>
<span class="w">  </span><span class="n">Handle</span><span class="w">       </span><span class="n">privateData</span><span class="p">);</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>frame</code></td>
<td>Frame requested. The frame value passed in should be frame * samplesize.<br/><br/>The callback will always return the current field (upper or lower) during field rendering.</td>
</tr>
<tr>
<td><code>thePort</code></td>
<td><code>PPixHand</code> where Premiere will store the frame</td>
</tr>
<tr>
<td><code>theBox</code></td>
<td>Bounds of the frame you want Premiere to retrieve.</td>
</tr>
<tr>
<td><code>privateData</code></td>
<td>Handle provided by Premiere in <code>VideoRecord.privateData</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="video-filters-videorecord-sizeflags">sizeFlags<a class="headerlink" href="#video-filters-videorecord-sizeflags" title="Permanent link">&para;</a></h2>
<p>For sizeFlags, the following bit flags are of interest:</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gvFieldsEven</code></td>
<td>The video filter should render upper-field dominance</td>
</tr>
<tr>
<td><code>gvFieldsOdd</code></td>
<td>The video filter should render lower-field dominance</td>
</tr>
<tr>
<td><code>gvFieldsFirst</code></td>
<td>The video filter is currently rendering the dominant field</td>
</tr>
</tbody>
</table></section><section class="print-page" id="video-filters-additional-details"><h1 id="video-filters-additional-details-additional-details">Additional Details<a class="headerlink" href="#video-filters-additional-details-additional-details" title="Permanent link">&para;</a></h1>
<h2 id="video-filters-additional-details-fields-and-field-processing">Fields and Field Processing<a class="headerlink" href="#video-filters-additional-details-fields-and-field-processing" title="Permanent link">&para;</a></h2>
<p>In an interlaced project, Premiere calls your video filter once per field.</p>
<p>This allows video filters to have interlaced motion. <code>(*theData)-&gt;total</code> will be twice as large, each frame will be half-height, and rowbytes will double.</p>
<p>Respect the value of rowbytes when traversing data or the output will be incorrect.</p>
<hr />
<h2 id="video-filters-additional-details-frame-caching">Frame Caching<a class="headerlink" href="#video-filters-additional-details-frame-caching" title="Permanent link">&para;</a></h2>
<p>The rendered output of video filters is stored in the host media cache. For example, when the user scrubs over a frame with a filter on it, the filter will be called to render its effect on the frame and return the buffer to Premiere. Premiere caches the returned frame, so when the user scrubs over the same frame, Premiere will return the cached frame without having to call the filter again. If the user has modified the filter settings, the clip settings, the preview quality, etc, Premiere will call the filter to render with the new settings, but will keep the previously cache frame for a while. So if the changes are reversed, Premiere may still have the cached frame to return when appropriate.</p>
<p>If the filter should generate random, non-deterministic output, or if it changes over time without keyframes, the randomness bit must be set in the <code>ANIM_FilterInfo</code> section in the PiPL (.r file).</p>
<p>If you set the bit to noRandomness, Premiere will only render one frame of a still image.</p>
<hr />
<h2 id="video-filters-additional-details-creating-effect-presets">Creating Effect Presets<a class="headerlink" href="#video-filters-additional-details-creating-effect-presets" title="Permanent link">&para;</a></h2>
<p>Effect presets appear in the Presets bin in the Effects panel, and can be applied just like Effects with specific parameter settings and keyframes. Effect presets can be created as follows:</p>
<ol>
<li>Apply a filter to a clip</li>
<li>Set the parameters of the filter, adding keyframes if desired</li>
<li>Right-click on the filter name in the Effect Controls panel, and select "Save Preset"</li>
<li>Create preset bins if desired by right-clicking in the Effects panel and choosing "New Presets Bin"</li>
<li>Organize the presets in the preset folders</li>
<li>Select the bins and/or presets you wish to export, right-click, and choose "Export Preset"</li>
</ol>
<p>On Windows, newly created presets are saved in the hidden Application Data folder of the user's Documents and Settings (e.g. <code>C:/Documents and Settings/[user]/Application Data/Adobe Premiere Pro/[version]/Effect Presets and Custom Items.prfpset</code>). On Mac OS, they are in the user folder, at <code>~/Library/Application Support/Adobe/Premiere Pro/[version]/Effect Presets and Custom Items.prfpset.</code></p>
<p>Effect Presets should be installed as described in the section, "Plug-in Installation". Once they are installed in that folder, they will be read-only, and the user will not be able to move them to a different folder or change their names. User-created presets will be modifiable.</p>
<hr />
<h2 id="video-filters-additional-details-effect-badging">Effect Badging<a class="headerlink" href="#video-filters-additional-details-effect-badging" title="Permanent link">&para;</a></h2>
<p>Starting in CS5, video filters now appear with badges in the Effects panel to advertise if they support YUV, 32-bit, and/or accelerated rendering. The user can filter the list of effects to show only the effects that support those rendering modes. Video filters will automatically receive YUV and 32-bit badges if they advertise support using the existing <em>fsGetPixelFormatsSupported</em>. Custom badges can also be created.</p>
<p>To add your own effect badge, go to the following folder:</p>
<p>On Windows: <code>[App installation path]\Settings\BadgeIcons\\</code></p>
<p>On Mac OS: <code>Adobe Premiere Pro CS5.app/Contents/Settings/BadgeIcons/</code></p>
<p>In that folder are the PNG graphics that are loaded at runtime for various badges, and an additional set of <code>'Sample-*.png'</code> and <code>'Sample.xml'</code> files.</p>
<ol>
<li>Make copies of the Sample- <em>.png files, replacing the "Sample" prefix with the prefix that matches whatever you want to call the new badge (like 'NewBadge-</em>.png'). Edit the PNG as you'd like, but don't change the image dimensions.</li>
<li>Copy the Sample.xml file to a new name that matches whatever you want to call the new badge (like 'NewBadge.xml'). Edit the list of match names that you want to be decorated with your badge. Change the <code>&lt;Name&gt;</code> tag to the name you chose in step 1 (like 'NewBadge'). You can also add your tooltip text as the <code>&lt;DescriptionItem&gt;</code> tags. These tags act as a localization map with the langid as the key. If a language isn't found, 'en_US' is used by default. Provide your own GUID in the <code>&lt;Guid&gt;</code> tag.</li>
<li>Relaunch the application. You'll get a badge filter icon next to the others and a badge icons next to each effect that was listed in the XML file.</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>'Sample' is a special case that is intentionally excluded. Any other set of  <em>.xml/</em>.png files will be used.</p>
</div>
<hr />
<h2 id="video-filters-additional-details-premiere-elements-and-effect-thumbnail-previews">Premiere Elements and Effect Thumbnail Previews<a class="headerlink" href="#video-filters-additional-details-premiere-elements-and-effect-thumbnail-previews" title="Permanent link">&para;</a></h2>
<p>Premiere Elements (but not Premiere Pro) displays visual icons for each effect. You will need to provide icons for your effects, or else an empty black icon will be shown for your effects, or even worse behavior in Premiere Elements 8. The icons are 60x45 PNG files, and are placed here:</p>
<p><code>/[Program Files]/Adobe/Adobe Premiere Elements [version]/Plug-ins/Common/Effect/Previews/</code></p>
<p>The filename should be the match name of the effect, which you specify in the PiPL, prefixed with "PR." So if the match name was "MatchName", then the filename should be "PR.MatchName.png"</p></section><h1 class='nav-section-title-end'>Ended: Video Filters</h1>
                        <h1 class='nav-section-title' id='section-gpu-effects-transitions'>
                            GPU Effects & Transitions <a class='headerlink' href='#section-gpu-effects-transitions' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="gpu-effects-transitions-gpu-effects-transitions"><h1 id="gpu-effects-transitions-gpu-effects-transitions-gpu-effects-transitions">GPU Effects &amp; Transitions<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-gpu-effects-transitions" title="Permanent link">&para;</a></h1>
<p>This chapter describes the additional capabilities available to effects and transitions for GPU interoperability with Premiere Pro. The GPU extensions allow these plugins to have full access to GPU-resident frames without readback to system memory, when using the Mercury Playback Engine in a GPU-accelerated mode. Effects and transitions can also optionally tell the host that they support real-time processing, so that they will not be flagged as non-realtime.</p>
<p>The GPU extensions work on top of effects and transitions built using the After Effects SDK. The extensions are designed to supplement a regular software effect or transition, which defines the software rendering path, parameters, custom UI drawing, and other standard interaction. The GPU effect exists as a new entry point for rendering using the GPU if possible. The software render path will be used otherwise.</p>
<hr />
<h2 id="gpu-effects-transitions-gpu-effects-transitions-system-requirements">System Requirements<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-system-requirements" title="Permanent link">&para;</a></h2>
<p>The system requirements for developing GPU effects &amp; transitions are higher than developing other plugins. You'll need a video card that supports Mercury Playback Engine GPU acceleration. Make sure your video card supports the type of video acceleration you are developing, on the platform you are developing on. See this page for the latest supported video cards: <a href="https://helpx.adobe.com/premiere-pro/system-requirements.html">https://helpx.adobe.com/premiere-pro/system-requirements.html</a></p>
<p>The CUDA SDK is also needed for CUDA rendering development.</p>
<hr />
<h2 id="gpu-effects-transitions-gpu-effects-transitions-compilation-notes">Compilation notes<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-compilation-notes" title="Permanent link">&para;</a></h2>
<h3 id="gpu-effects-transitions-gpu-effects-transitions-cuda">CUDA<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-cuda" title="Permanent link">&para;</a></h3>
<p>To compile GPU effects in Premiere SDK, we highly recommend using CUDA SDK 11.8.</p>
<p>Caution: GPU Effects built using CUDA SDK 11.8 will not work with NVIDIA Kepler generation cards. The minimum CUDA Compute Capability has been increased to sm_50.</p>
<h3 id="gpu-effects-transitions-gpu-effects-transitions-cuda-runtime-api-vs-driver-api">CUDA Runtime API vs. Driver API<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-cuda-runtime-api-vs-driver-api" title="Permanent link">&para;</a></h3>
<ol>
<li>Utilize CUDA Driver API</li>
<li>For best compatibility, we highly recommend utilizing CUDA Driver API only. Unlike the runtime API, the driver API is directly backwards compatible with future drivers. Please note that the CUDA Runtime API is built to handle/automate some of the housekeeping that is exposed and needs to be handled in the Driver APIs, so there might be some new steps/code you would need to learn and implement for migrating from Runtime API to Driver API.</li>
<li>Statically Link to CUDA Runtime</li>
<li>If you must stick to CUDA Runtime API, we recommend you statically link to the CUDA Runtime. That's an alternative way for leveraging the backwards compatibility of the driver into the future. This can be done by linking cudart_static.lib.</li>
<li>Dynamically Link to CUDA Runtime</li>
<li>This also works but would be prone to compatibility issues. A compatible CUDA Runtime DLL needs to be available on users' systems so that driver can understand and be backward compatible. Currently Premiere Pro ships a copy of CUDA Runtime DLL of our recommended CUDA SDK version. This may change in future. If you must dynamically link to CUDA Runtime, we recommend you ship a copy of the CUDA Runtime DLL with your plugin and leverage dlopen/LoadLibrary to explicitly load the desired runtimes. For more details, see the CUDA Compatibility section of NVIDIA's GPU Management and Deployment guide: <a href="https://docs.nvidia.com/deploy/cuda-compatibility/">https://docs.nvidia.com/deploy/cuda-compatibility/</a></li>
</ol>
<hr />
<h2 id="gpu-effects-transitions-gpu-effects-transitions-directx">DirectX<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-directx" title="Permanent link">&para;</a></h2>
<p>We would like to announce that we have been working on introducing support for DirectX 12 in our rendering pipeline. We will soon be sharing unlock instructions to enable DirectX in your application.</p>
<h3 id="gpu-effects-transitions-gpu-effects-transitions-why">Why?<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-why" title="Permanent link">&para;</a></h3>
<ul>
<li>Performance - DirectX 12 is a thin wrapper over the hardware which would provide us with more control than OpenCL/CUDA over the execution of our shaders. This translates to a higher ceiling for performance</li>
<li>Stability/Error Handling - DirectX 12 supports TDR detection and recovery which can help us recover from hardware problems. It is actively supported by Microsoft i.e., proactive fixes for bugs in drivers</li>
<li>Interoperability - Seamless interoperability with our display module which already uses DirectX12</li>
</ul>
<h3 id="gpu-effects-transitions-gpu-effects-transitions-direction">Direction<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-direction" title="Permanent link">&para;</a></h3>
<p>Adding a new rendering engine to Premiere is a massive undertaking. Although we have made significant progress, it is still under development and will have an update for you soon.</p>
<h3 id="gpu-effects-transitions-gpu-effects-transitions-feedback-support">Feedback &amp; Support<a class="headerlink" href="#gpu-effects-transitions-gpu-effects-transitions-feedback-support" title="Permanent link">&para;</a></h3>
<p>We will be happy to receive any thoughts regarding DirectX or answer any questions. I am reachable at, <a href="mailto:pusingha@adobe.com">pusingha@adobe.com</a> or you can post them on <a href="mailto:ae_api_nda@adobe.com">ae_api_nda@adobe.com</a></p></section><section class="print-page" id="gpu-effects-transitions-getting-started"><h1 id="gpu-effects-transitions-getting-started-getting-started">Getting Started<a class="headerlink" href="#gpu-effects-transitions-getting-started-getting-started" title="Permanent link">&para;</a></h1>
<h2 id="gpu-effects-transitions-getting-started-setting-up-the-sample-projects">Setting up the Sample Projects<a class="headerlink" href="#gpu-effects-transitions-getting-started-setting-up-the-sample-projects" title="Permanent link">&para;</a></h2>
<p>If you are developing an effect, begin with one of the two GPU effect sample projects, progressively replacing its functionality with your own. Refer to <a href="#.">Introduction</a> for general instructions on how to build the SDK projects.</p>
<p>In addition to those general instructions, the sample project is also dependent on the After Effects plugin SDK. On Windows, create an environment variable pointing to it named AE_SDK_BASE_PATH, so that the compiler will find the AE headers that the project includes. On macOS, in <em>Xcode &gt; Preferences &gt; Locations &gt; Custom Paths</em>, specify AE_SDK_BASE_PATH to be the root folder of the AE plugin SDK you have downloaded and unzipped.</p>
<p>The samples also use Boost, which may be downloaded at boost.org. Download that, and create a variable named BOOST_BASE_PATH just as you did with AE_SDK_BASE_PATH above.</p>
<p>Finally, install Python (version 3.6 or greater), if you do not have it already. It may be downloaded at python.org. The sample projects use this as part of the custom build steps.</p>
<p>Depending on whether your effect will use CUDA, you'll need to download the CUDA SDK. On Windows, create an environment variable pointing to it named CUDA_SDK_BASE_PATH, so that the linker will find the right libraries.</p>
<hr />
<h2 id="gpu-effects-transitions-getting-started-querying-for-parameters-and-other-attributes-of-a-effect-or-transition">Querying for Parameters and other Attributes of a Effect or Transition<a class="headerlink" href="#gpu-effects-transitions-getting-started-querying-for-parameters-and-other-attributes-of-a-effect-or-transition" title="Permanent link">&para;</a></h2>
<p>You'll notice that PrGPUFilterRenderParams has some attributes about an effect or transition, but many things, such as the parameters or duration of the clip to which the plugin is applied, are not found in that structure. These attributes will need to be queried using the GetParam() and GetProperty() helper functions in PrGPUFilterModule.h. For example:</p>
<div class="highlight"><pre><span></span><code><span class="n">GetProperty</span><span class="p">(</span><span class="n">kVideoSegmentProperty_Effect_EffectDuration</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">);</span>
<span class="n">GetProperty</span><span class="p">(</span><span class="n">kVideoSegmentProperty_Transition_TransitionDuration</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span><span class="p">);</span>
</code></pre></div>
<hr />
<h2 id="gpu-effects-transitions-getting-started-lifetime-of-a-gpu-effect-transition">Lifetime of a GPU Effect / Transition<a class="headerlink" href="#gpu-effects-transitions-getting-started-lifetime-of-a-gpu-effect-transition" title="Permanent link">&para;</a></h2>
<p>A new GPU effect instance is created when an effect/transition is applied in the timeline, or when an effect parameter is changed. When rendering a series of frames it won't needlessly be recreated. The <a href="#gpu-effects-transitions-suites-opaque-effect-data-suite">Opaque Effect Data Suite</a> should be used to share unflattened sequence data between instances of the same effect on a track item.</p>
<hr />
<h2 id="gpu-effects-transitions-getting-started-fallback-to-software-rendering">Fallback to Software Rendering<a class="headerlink" href="#gpu-effects-transitions-getting-started-fallback-to-software-rendering" title="Permanent link">&para;</a></h2>
<p>When a new GPU effect instance is created, the instance has the option of opting-in or out of providing GPU rendering. The GPU effect should be reasonably sure it has sufficient resources to complete the render if it opts-in, because there is no API support to fall back to software rendering in the middle of a render.</p>
<p>Calling GetDeviceInfo() in the <a href="#gpu-effects-transitions-suites-gpu-device-suite">GPU Device Suite</a>, and checking <code>outDeviceInfo.outMeetsMinimumRequirementsForAcceleration</code>, you can see if supports the minimum system requirements for acceleration. Do not proceed with</p>
<p>AcquireExclusiveDeviceAccess(), if the minimum requirements are not met.</p>
<p>In emergency situations, when there is not enough GPU memory available to complete a render, an effect may call PurgeDeviceMemory in the <a href="#gpu-effects-transitions-suites-gpu-device-suite">GPU Device Suite</a> to free up memory not initially available. This will impact performance, and should be used only if absolutely necessary.</p>
<hr />
<h2 id="gpu-effects-transitions-getting-started-opengl-interoperability">OpenGL Interoperability<a class="headerlink" href="#gpu-effects-transitions-getting-started-opengl-interoperability" title="Permanent link">&para;</a></h2>
<p>If you want, you have the ability to transfer frames from CUDA to OpenGL (though not always efficiently).</p>
<p>For CUDA interoperability with OpenGL:</p>
<h3 id="gpu-effects-transitions-getting-started-cuda-opengl">CUDA -&gt; OpenGL<a class="headerlink" href="#gpu-effects-transitions-getting-started-cuda-opengl" title="Permanent link">&para;</a></h3>
<ul>
<li>Create an OpenGL buffer</li>
<li>map it into CUDA with <code>cuGraphicsMapResources</code></li>
<li>get the mapped address with <code>cuGraphicsResourceGetMappedPointer</code></li>
<li>copy from the CUDA address to the mapped address with <code>cuMemcpyDtoDAsync</code></li>
<li>unmap with <code>cuGraphicsUnmapResources</code></li>
</ul>
<h3 id="gpu-effects-transitions-getting-started-opengl-cuda">OpenGL -&gt; CUDA<a class="headerlink" href="#gpu-effects-transitions-getting-started-opengl-cuda" title="Permanent link">&para;</a></h3>
<ul>
<li>Map the OpenGL buffer into CUDA with <code>cuGraphicsMapResources</code></li>
<li>get the mapped address with <code>cuGraphicsResourceGetMappedPointer</code></li>
<li>copy from the mapped address to CUDA with <code>cuMemcpyDtoDAsync</code></li>
<li>unmap with <code>cuGraphicsUnmapResources</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On the Mac there is no real OpenGL/CUDA interoperability, and these calls will go through system memory.</p>
</div>
<hr />
<h2 id="gpu-effects-transitions-getting-started-entry-point">Entry Point<a class="headerlink" href="#gpu-effects-transitions-getting-started-entry-point" title="Permanent link">&para;</a></h2>
<p>The GPU entry point function will only be called if the current project is using GPU acceleration. Otherwise, the normal entry point function will be called as described in the After Effects SDK, or <a href="#gpu-effects-transitions-gpu-effects-transitions">GPU Effects &amp; Transitions</a> or <a href="#video-filters-video-filters">Video Filters</a> in this SDK Guide.</p>
<p>Make sure GPU acceleration is activated in File &gt; Project Settings &gt; General &gt; Video Rendering and Playback &gt; Renderer. If a GPU option is not available, then you will need to install a suitable video card in your system.</p>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="n">xGPUFilterEntry</span><span class="w"> </span><span class="p">(</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">      </span><span class="n">inHostInterfaceVersion</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="o">*</span><span class="w">      </span><span class="n">ioIndex</span><span class="p">,</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">            </span><span class="n">inStartup</span><span class="p">,</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">       </span><span class="n">piSuites</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrGPUFilter</span><span class="o">*</span><span class="w">      </span><span class="n">outFilter</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrGPUFilterInfo</span><span class="o">*</span><span class="w">  </span><span class="n">outFilterInfo</span><span class="p">)</span>
</code></pre></div>
<p>If <code>inStartup</code> is non-zero, the effect/transition should startup and initialize the functions needed to implement PrGPUFilter, as well as the info in PrGPUFilterInfo.</p>
<p>If <code>inStartup</code> is false, then the effect/transition should shutdown, unloading any resources it loaded on startup.</p>
<p>As of CC, inHostInterfaceVersion is <code>PrSDKGPUFilterInterfaceVersion1 == 1</code></p>
<p>If a single plugin supports multiple effects, increment ioIndex to the next value before returning, in order to be called again to describe the next effect.</p></section><section class="print-page" id="gpu-effects-transitions-cuda-opencl-metal-opengl"><h1 id="gpu-effects-transitions-cuda-opencl-metal-opengl-cuda-opencl-metal-or-opengl">CUDA, OpenCL, Metal, or OpenGL?<a class="headerlink" href="#gpu-effects-transitions-cuda-opencl-metal-opengl-cuda-opencl-metal-or-opengl" title="Permanent link">&para;</a></h1>
<p>As of Summer 2021, Premiere Pro will no longer support OpenCL. The GPU architecture of Premiere Pro is entirely CUDA/Metal, and this is what is exposed through the GPU extensions to the effect/transition APIs.</p>
<p>Premiere Pro plugins have the ability to transfer frames from CUDA to OpenGL (though not always efficiently). Read more about that here.</p></section><section class="print-page" id="gpu-effects-transitions-whats-new-in-ppro-12"><h1 id="gpu-effects-transitions-whats-new-in-ppro-12-whats-new-in-premiere-pro-120">What's New in Premiere Pro 12.0?<a class="headerlink" href="#gpu-effects-transitions-whats-new-in-ppro-12-whats-new-in-premiere-pro-120" title="Permanent link">&para;</a></h1>
<p>GPU effects and transitions built using this SDK can now be compatible with After Effects 15.0 and later. The sample GPU effect projects have been updated so that they load in both Premiere Pro and After Effects.</p>
<p>The newly provided PrGPU SDK macros and device functions allow you to write kernels that will compile on multiple GPU compute languages - OpenCL, CUDA, and Metal.</p></section><section class="print-page" id="gpu-effects-transitions-whats-new-in-ppro-cc2015"><h1 id="gpu-effects-transitions-whats-new-in-ppro-cc2015-whats-new-in-premiere-pro-cc-20154">What's New in Premiere Pro CC 2015.4?<a class="headerlink" href="#gpu-effects-transitions-whats-new-in-ppro-cc2015-whats-new-in-premiere-pro-cc-20154" title="Permanent link">&para;</a></h1>
<p>GPU-accelerated rendering using Metal is now supported for third-party effects and transitions. <code>PrGPUDeviceFramework_Metal</code> has been added as one of the enum values in <code>PrGPUDeviceFramework</code>.</p></section><section class="print-page" id="gpu-effects-transitions-whats-new-in-ppro-cc2014"><h1 id="gpu-effects-transitions-whats-new-in-ppro-cc2014-whats-new-in-premiere-pro-cc-2014">What's New in Premiere Pro CC 2014?<a class="headerlink" href="#gpu-effects-transitions-whats-new-in-ppro-cc2014-whats-new-in-premiere-pro-cc-2014" title="Permanent link">&para;</a></h1>
<p>OpenCL rendering now also uses the half-precision 16-bit floating point pixel format for rendering. GPU-accelerated effects and transitions should implement both 16f and 32f rendering.</p></section><section class="print-page" id="gpu-effects-transitions-prgpufilter-function-table"><h1 id="gpu-effects-transitions-prgpufilter-function-table-prgpufilter-function-table">PrGPUFilter Function Table<a class="headerlink" href="#gpu-effects-transitions-prgpufilter-function-table-prgpufilter-function-table" title="Permanent link">&para;</a></h1>
<p>PrGPUFilter is a structure consisting of the following functions that a effect/transition can implement.</p>
<table>
<thead>
<tr>
<th>Selector</th>
<th>Optional</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#gpu-effects-transitions-function-descriptions-createinstance">CreateInstance</a></td>
<td>No</td>
<td>Allocate and initialize any GPU resources.</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-function-descriptions-disposeinstance">DisposeInstance</a></td>
<td>No</td>
<td>Release GPU resources.</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-function-descriptions-getframedependencies">GetFrameDependencies</a></td>
<td>Yes</td>
<td>If the rendered result of the effect/transition depends on frames other than the input frame, specify these here.</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-function-descriptions-precompute">PreCompute</a></td>
<td>Yes</td>
<td>Precompute.</td>
</tr>
<tr>
<td><a href="#gpu-effects-transitions-function-descriptions-render">Render</a></td>
<td>No</td>
<td>Render.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="gpu-effects-transitions-function-descriptions"><h1 id="gpu-effects-transitions-function-descriptions-function-descriptions">Function Descriptions<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-function-descriptions" title="Permanent link">&para;</a></h1>
<h2 id="gpu-effects-transitions-function-descriptions-createinstance">CreateInstance<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-createinstance" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">CreateInstance</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrGPUFilterInstance</span><span class="o">*</span><span class="w">  </span><span class="n">ioInstanceData</span><span class="p">);</span>
</code></pre></div>
<p>Creates a GPU filter instance representing an effect or transition on a track item.</p>
<p>Returning an error from CreateInstance will cause this node to be rendered in software for the current set of parameters.</p>
<p>Unlike software instances of effects and transitions, GPU instances are created and disposed whenever an effect parameter changes.</p>
<p>This allows an effect have more flexibility about opting-in for GPU rendering, depending on the parameters. Separate instances may be called concurrently.</p>
<hr />
<h2 id="gpu-effects-transitions-function-descriptions-disposeinstance">DisposeInstance<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-disposeinstance" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">DisposeInstance</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrGPUFilterInstance</span><span class="o">*</span><span class="w">  </span><span class="n">ioInstanceData</span><span class="p">);</span>
</code></pre></div>
<p>Cleanup any resources allocated during CreateInstance.</p>
<hr />
<h2 id="gpu-effects-transitions-function-descriptions-getframedependencies">GetFrameDependencies<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-getframedependencies" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">GetFrameDependencies</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrGPUFilterInstance</span><span class="o">*</span><span class="w">            </span><span class="n">inInstanceData</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrGPUFilterRenderParams</span><span class="o">*</span><span class="w">  </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="o">*</span><span class="w">                    </span><span class="n">ioQueryIndex</span><span class="p">,</span>
<span class="w">  </span><span class="n">PrGPUFilterFrameDependency</span><span class="o">*</span><span class="w">     </span><span class="n">outFrameDependencies</span><span class="p">);</span>
</code></pre></div>
<p>Return dependency information about a render, or nothing if only the current frame is required.</p>
<p>Increment <code>ioQueryIndex</code> for additional dependencies.</p>
<hr />
<h2 id="gpu-effects-transitions-function-descriptions-precompute">PreCompute<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-precompute" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">Precompute</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrGPUFilterInstance</span><span class="o">*</span><span class="w">            </span><span class="n">inInstanceData</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrGPUFilterRenderParams</span><span class="o">*</span><span class="w">  </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">                     </span><span class="n">inIndex</span><span class="p">,</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="w">                        </span><span class="n">inFrame</span><span class="p">);</span>
</code></pre></div>
<p>Precompute a result into preallocated uninitialized host (pinned) memory.</p>
<p>Will only be called if <code>PrGPUDependency_Precompute</code> was returned from <code>GetFrameDependencies</code>.</p>
<p>Precomputation may be called ahead of render time.</p>
<p>Results will be uploaded to the GPU by the host.</p>
<p>If <code>outPrecomputePixelFormat</code> is not custom, frames will be converted to the GPU pixel format.</p>
<hr />
<h2 id="gpu-effects-transitions-function-descriptions-render">Render<a class="headerlink" href="#gpu-effects-transitions-function-descriptions-render" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">prSuiteError</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">Render</span><span class="p">)(</span>
<span class="w">  </span><span class="n">PrGPUFilterInstance</span><span class="o">*</span><span class="w">            </span><span class="n">inInstanceData</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PrGPUFilterRenderParams</span><span class="o">*</span><span class="w">  </span><span class="n">inRenderParams</span><span class="p">,</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="n">PPixHand</span><span class="o">*</span><span class="w">                 </span><span class="n">inFrames</span><span class="p">,</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">                    </span><span class="n">inFrameCount</span><span class="p">,</span>
<span class="w">  </span><span class="n">PPixHand</span><span class="o">*</span><span class="w">                       </span><span class="n">outFrame</span><span class="p">);</span>
</code></pre></div>
<p>Render into an allocated outFrame allocated with <code>PrSDKGPUDeviceSuite</code> or operate in place.</p>
<p>Result must be in the same pixel format as the input. If the effect grows or shrinks the output area (e.g. rendering a drop shadow), it is allowable for the effect to allocate and return a different sized outFrame.</p>
<p>For effects, <code>inFrames[0]</code> will always be the frame at the current time, other input frames will be in the same order as returned from <code>GetFrameDependencies</code>. For transitions <code>inFrames[0]</code> will be the incoming frame and <code>inFrames[1]</code> the outgoing frame. Transitions may not have other frame dependencies.</p>
<p>Use the utility function <code>GetParam</code> to retrieve the parameter values at the current time.</p></section><section class="print-page" id="gpu-effects-transitions-return-codes"><h1 id="gpu-effects-transitions-return-codes-return-codes">Return Codes<a class="headerlink" href="#gpu-effects-transitions-return-codes-return-codes" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Return Code</th>
<th>Reason</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>malNoError</code></td>
<td>No error.</td>
</tr>
<tr>
<td><code>malUnknownError</code></td>
<td>Error.</td>
</tr>
</tbody>
</table></section><section class="print-page" id="gpu-effects-transitions-structure-descriptions"><h1 id="gpu-effects-transitions-structure-descriptions-structure-descriptions">Structure Descriptions<a class="headerlink" href="#gpu-effects-transitions-structure-descriptions-structure-descriptions" title="Permanent link">&para;</a></h1>
<h2 id="gpu-effects-transitions-structure-descriptions-prgpufilterinfo">PrGPUFilterInfo<a class="headerlink" href="#gpu-effects-transitions-structure-descriptions-prgpufilterinfo" title="Permanent link">&para;</a></h2>
<p>This structure contains some basic info about a GPU filter. It provides access to various suites, and access to private data where the instance can allocate memory and store data which will be passed to subsequent functions.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">outInterfaceVersion</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrSDKString</span><span class="w">   </span><span class="n">outMatchName</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">PrGPUFilterInfo</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>outInterfaceVersion</code></td>
<td>Set to the GPU API version corresponding to the version defined in the SDK you are using.</td>
</tr>
<tr>
<td><code>outMatchName</code></td>
<td>outMatchName must be equal to a registered software filter, if NULL will default to the module's PiPL.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="gpu-effects-transitions-structure-descriptions-prgpufilterinstance">PrGPUFilterInstance<a class="headerlink" href="#gpu-effects-transitions-structure-descriptions-prgpufilterinstance" title="Permanent link">&para;</a></h2>
<p>This structure contains some basic info about a GPU filter. It provides access to various suites, and access to private data where the instance can allocate memory and store data which will be passed to subsequent functions.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">piSuitesPtr</span><span class="w">   </span><span class="n">piSuites</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">  </span><span class="n">inDeviceIndex</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTimelineID</span><span class="w">  </span><span class="n">inTimelineID</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">   </span><span class="n">inNodeID</span><span class="p">;</span>
<span class="w">  </span><span class="kt">void</span><span class="o">*</span><span class="w">         </span><span class="n">ioPrivatePluginData</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">        </span><span class="n">outIsRealtime</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">PrGPUFilterInstance</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>piSuites</code></td>
<td>Standard suites.</td>
</tr>
<tr>
<td><code>inDeviceIndex</code></td>
<td>For use with <code>PrSDKGPUDeviceSuite</code>.</td>
</tr>
<tr>
<td><code>inTimelineID</code></td>
<td>For use with <code>PrSDKVideoSegmentSuite</code>.</td>
</tr>
<tr>
<td><code>inNodeID</code></td>
<td>For use with <code>PrSDKVideoSegmentSuite</code>.</td>
</tr>
<tr>
<td><code>ioPrivatePluginData</code></td>
<td>Used by a plugin to store instance data, never touched by the host.</td>
</tr>
<tr>
<td><code>outIsRealtime</code></td>
<td>Specify if the plugin is likely to play in real-time, used to determine whether the segment is red, yellow, or unmarked in the timeline.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="gpu-effects-transitions-structure-descriptions-prgpufilterrenderparams">PrGPUFilterRenderParams<a class="headerlink" href="#gpu-effects-transitions-structure-descriptions-prgpufilterrenderparams" title="Permanent link">&para;</a></h2>
<p>This structure describes the current render request.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">  </span><span class="n">inClipTime</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">  </span><span class="n">inSequenceTime</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Render properties</span>
<span class="w">  </span><span class="n">PrRenderQuality</span><span class="w">  </span><span class="n">inQuality</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">            </span><span class="n">inDownsampleFactorX</span><span class="p">;</span>
<span class="w">  </span><span class="kt">float</span><span class="w">            </span><span class="n">inDownsampleFactorY</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Frame properties</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inRenderWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inRenderHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inRenderPARNum</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">    </span><span class="n">inRenderPARDen</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">     </span><span class="n">inRenderFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">          </span><span class="n">inRenderTicksPerFrame</span><span class="p">;</span>
<span class="w">  </span><span class="n">pmFieldDisplay</span><span class="w">  </span><span class="n">inRenderField</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">PrGPUFilterRenderParams</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>inClipTime</code></td>
<td>The time of the current render, relative to clip start</td>
</tr>
<tr>
<td><code>inSequenceTime</code></td>
<td>The time of the current render, relative to sequence start</td>
</tr>
<tr>
<td><code>inQuality</code></td>
<td>Render quality; one of the PrRenderQuality enum values</td>
</tr>
<tr>
<td><code>inDownsampleFactorX</code></td>
<td>Horizontal downsample factor</td>
</tr>
<tr>
<td><code>inDownsampleFactorY</code></td>
<td>Vertical downsample factor</td>
</tr>
<tr>
<td><code>inRenderWidth</code></td>
<td>Video resolution</td>
</tr>
<tr>
<td><code>inRenderHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>inRenderPARNum</code></td>
<td>Video pixel aspect ratio, described as a fractional number with separate values for numerator and denominator.</td>
</tr>
<tr>
<td><code>inRenderPARDen</code></td>
<td></td>
</tr>
<tr>
<td><code>inRenderFieldType</code></td>
<td>Render field type</td>
</tr>
<tr>
<td><code>inRenderTicksPerFrame</code></td>
<td>Video frame rate</td>
</tr>
<tr>
<td><code>inRenderField</code></td>
<td>GPU rendering is always done on full-height progressive frames unless <code>PrGPUFilterFrameDependency.outNeedsFieldSeparation</code> is false.<br/><br/><code>inRenderField</code> indicates which field is being rendered.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="gpu-effects-transitions-structure-descriptions-prgpufilterframedependency">PrGPUFilterFrameDependency<a class="headerlink" href="#gpu-effects-transitions-structure-descriptions-prgpufilterframedependency" title="Permanent link">&para;</a></h2>
<p>This structure describes any dependencies for a rendered frame.</p>
<div class="highlight"><pre><span></span><code><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">PrGPUFilterFrameDependencyType</span><span class="w">  </span><span class="n">outDependencyType</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Dependence on other frame times</span>
<span class="w">  </span><span class="n">csSDK_int32</span><span class="w">  </span><span class="n">outTrackID</span><span class="p">;</span>
<span class="w">  </span><span class="n">PrTime</span><span class="w">       </span><span class="n">outSequenceTime</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Dependence on precomputation phase</span>
<span class="w">  </span><span class="n">PrPixelFormat</span><span class="w">  </span><span class="n">outPrecomputePixelFormat</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">outPrecomputeFrameWidth</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">outPrecomputeFrameHeight</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">outPrecomputeFramePARNumerator</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_uint32</span><span class="w">   </span><span class="n">outPrecomputeFramePARDenominator</span><span class="p">;</span>
<span class="w">  </span><span class="n">prFieldType</span><span class="w">    </span><span class="n">outPrecomputeFrameFieldType</span><span class="p">;</span>
<span class="w">  </span><span class="n">csSDK_size_t</span><span class="w">   </span><span class="n">outPrecomputeCustomDataSize</span><span class="p">;</span>
<span class="w">  </span><span class="n">prBool</span><span class="w">         </span><span class="n">outNeedsFieldSeparation</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">PrGPUFilterFrameDependency</span><span class="p">;</span>
</code></pre></div>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>outDependencyType</code></td>
<td>The dependency type.<br/><br/>Could be either:<ul><li><code>PrGPUDependency_InputFrame</code></li><li><code>PrGPUDependency_Precompute</code></li><li><code>PrGPUDependency_FieldSeparation</code></li></ul></td>
</tr>
<tr>
<td><code>outTrackID</code></td>
<td>Specify which track is a dependency. Set to 0 for the current track</td>
</tr>
<tr>
<td><code>outSequenceTime</code></td>
<td>Set the sequence time which is a dependency.</td>
</tr>
<tr>
<td><code>outPrecomputePixelFormat</code></td>
<td>Dependence on precomputation phase</td>
</tr>
<tr>
<td><code>outPrecomputeFrameWidth</code></td>
<td></td>
</tr>
<tr>
<td><code>outPrecomputeFrameHeight</code></td>
<td></td>
</tr>
<tr>
<td><code>outPrecomputeFramePARNumerator</code></td>
<td></td>
</tr>
<tr>
<td><code>outPrecomputeFramePARDenominator</code></td>
<td></td>
</tr>
<tr>
<td><code>outPrecomputeFrameFieldType</code></td>
<td></td>
</tr>
<tr>
<td><code>outPrecomputeCustomDataSize</code></td>
<td>Only needed if <code>outPrecomputePixelFormat</code> is custom</td>
</tr>
<tr>
<td><code>outNeedsFieldSeparation</code></td>
<td>Indicates the plugin may operate on both fields simultaneously (eg non-spatial and non-time varying)</td>
</tr>
</tbody>
</table></section><section class="print-page" id="gpu-effects-transitions-prgpu-sdk-macros"><h1 id="gpu-effects-transitions-prgpu-sdk-macros-prgpu-sdk-macros">PrGPU SDK Macros<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-prgpu-sdk-macros" title="Permanent link">&para;</a></h1>
<p>The PrGPU SDK macros and device functions allow you to write kernels that will compile on multiple GPU compute languages - CUDA, OpenCL, and Metal. These languages have an enormous overlap - a C98 language subset, and by using the porting macros and functions to abstract out the differences, you can write portable code. You can still access API specific features not covered by the porting set but you'll need to include an alternate code path for the other APIs.</p>
<p>Currently the SDK does not provide host side code to compile or launch arbitrary kernels, but there are SDK examples that show how to do this for the different APIs.</p>
<p>The macros are not part of the plugin API - they are provided as a utility if you would like to used them. This gives you broad latitude to fork them and make any changes you see fit without breaking plugin compatibility. On the Adobe end, we may expand and modify the SDK kernel porting set in future releases to cover other compute APIs or other enhancements.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-external-dependencies">External Dependencies<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-external-dependencies" title="Permanent link">&para;</a></h2>
<p>The macros do add one external source dependency - Boost (boost.org). We use the Boost preprocessor package to manipulate kernel definitions.</p>
<p>Depending on how you choose to compile and deploy your kernels, we also provide a small python script that may be useful (See "Preprocessing as a Separate Step")</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-include-paths">Include Paths<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-include-paths" title="Permanent link">&para;</a></h2>
<p>You need to add some include paths to your kernel compilation environment:</p>
<ul>
<li>the path to PrGPU/KernelSupport/ (found in the SDK at Examples/Projects/GPUVideoFilter/ Utils/)</li>
<li>the path to the Boost library</li>
</ul>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-defines">Defines<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-defines" title="Permanent link">&para;</a></h2>
<p>You will also need to define a symbol to tell the header file what API to process when compiling the kernel:</p>
<ul>
<li>Metal:<ul>
<li><code>DGF_DEVICE_TARGET_METAL=1</code></li>
</ul>
</li>
<li>OpenCL:<ul>
<li><code>DGF_DEVICE_TARGET_OPENCL=1</code></li>
<li><code>DGF_OPENCL_SUPPORTS_16F=1</code> or <code>0</code>, depending on whether you will support half (16-bit float) access for this device. Some older cards are quite slow at half support, or just don't support it.</li>
</ul>
</li>
<li>CUDA:<ul>
<li>the KernelCore.h header will automatically sense the cuda compiler and will <code>#define GF_DEVICE_TARGET_CUDA 1</code> for you.</li>
</ul>
</li>
</ul>
<p>Only one device target flag will be active in any given compilation. The header the define the device target macros to 0 for the inactive APIs. Feel free to use these macros in your code for any API specializations. Outside of the header, we don't need to do this much.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-header-files">Header Files<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-header-files" title="Permanent link">&para;</a></h2>
<ul>
<li>KernelCore.h - basic header macros. You'll certainly want these</li>
<li>KernelMemory.h - global device memory access abstractions for float and half</li>
<li>FloatingPoint.h - common floating point routines. These mostly hide naming differences across APIs.</li>
</ul>
<p>You'll want to include them like this in your kernel:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;PrGPU/KernelSupport/KernelCore.h&quot;</span>
</code></pre></div>
<p>The folder contains additional files used by the above files.</p>
<p>One thing to watch out for is whether your projects are tracking header dependencies properly. If not, you'll need to manually recompile kernels when include files change. This is true whether or not you use the SDK porting set, so you've likely already sorted this out.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-top-level-kernel-files">Top Level Kernel Files<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-top-level-kernel-files" title="Permanent link">&para;</a></h2>
<p>You can organize your code and projects as you like, but we find it convenient to have separate top level kernel files for each API (.cl, .cu, and .metal) that just include shared code and are otherwise nearly empty. This makes build rules much easier.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-preprocessing-as-a-separate-step">Preprocessing as a Separate Step<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-preprocessing-as-a-separate-step" title="Permanent link">&para;</a></h2>
<p>If you compile the kernel source on the customer machine, you may wish to preprocess the kernel at plugin compile time, and store the kernel source in your plugin. A python script (Python version 3 or greater required) is provided that will convert preprocessed source to a character array. The script is in Examples/Projects/GPUVideoFilter/Utils/CreateCString.py. See the ProcAmp example for usage.</p>
<p>You can also compile kernels (which is always the case for CUDA) at plugin compile time, in which case you don't need the python script, or a separate preprocessing run. You will need to package the compiled kernel in your plugin if you go this route.</p>
<p>The ProcAmp example uses a preprocessing step for OpenCL.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-declaring-kernels">Declaring Kernels<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-declaring-kernels" title="Permanent link">&para;</a></h2>
<p>Metal kernels require syntax that is quite different than CUDA, and the PrGPU macros use the Boost preprocessing package to express parameters. This is by far the most complicated part of the package, so grab a fresh cup of coffee and sit back for a read.</p>
<p>The GF_KERNEL_FUNCTION macro is used to pass values as parameters (CUDA) or in a struct (metal). The macro will create an API-specific kernel entry point which will call a</p>
<p>function that it defines, leaving you to fill in the body. The macro uses Boost preprocessor sequences to express a type/name pair:</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="kt">float</span><span class="p">)(</span><span class="n">inValue</span><span class="p">)</span>
</code></pre></div>
<p>These pairs are then nested into a sequence of parameters:</p>
<div class="highlight"><pre><span></span><code><span class="p">((</span><span class="kt">float</span><span class="p">)(</span><span class="n">inAge</span><span class="p">))((</span><span class="kt">int</span><span class="p">)(</span><span class="n">inMarbles</span><span class="p">))</span>
</code></pre></div>
<p>There are different categories of parameters, such as buffers, values, and kernel position. Each category sequence is a separate macro parameter. Example usage:</p>
<div class="highlight"><pre><span></span><code><span class="n">GF_KERNEL_FUNCTION</span><span class="p">(</span><span class="n">RemoveFlicker</span><span class="p">,</span>

<span class="c1">//kernel name, then comma, ((GF_PTR(float4))(inSrc))</span>

<span class="c1">//all buffers and textures go after the first comma</span>
<span class="p">((</span><span class="n">GF_PTR</span><span class="p">(</span><span class="n">float4</span><span class="p">))(</span><span class="n">outDest</span><span class="p">)),</span>
<span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">inDestPitch</span><span class="p">))</span>

<span class="c1">//After the second comma, all values to be passed ((DevicePixelFormat)(inDeviceFormat))</span>
<span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">inWidth</span><span class="p">))</span>
<span class="p">((</span><span class="kt">int</span><span class="p">)(</span><span class="n">inHeight</span><span class="p">)),</span>
<span class="p">((</span><span class="n">uint2</span><span class="p">)(</span><span class="n">inXY</span><span class="p">)(</span><span class="n">KERNEL_XY</span><span class="p">))</span>

<span class="c1">//After the third comma, the position arguments.</span>
<span class="p">((</span><span class="n">uint2</span><span class="p">)(</span><span class="n">inBlockID</span><span class="p">)(</span><span class="n">BLOCK_ID</span><span class="p">)))</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// &lt;do something interesting here&gt;</span>
<span class="p">}</span>
</code></pre></div>
<p>In the example above, the host does not pass the position values when invoking the kernel.</p>
<p>Position values are filled in automatically by the unmarshalling code generated by the GF_KERNEL_FUNCTION macro. The code you write will actually end up in a device function that the unmarshalling code will call. See the ProcAmp example plugin for usage.</p>
<p>Kernels that use statically sized shared memory use a different macro, <code>GF_KERNEL_FUNCTION_SHARED</code>. Please see the header for details.</p>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-declaring-device-functions">Declaring Device Functions<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-declaring-device-functions" title="Permanent link">&para;</a></h2>
<p>By comparison, device functions are a snap to write:</p>
<div class="highlight"><pre><span></span><code><span class="n">GF_DEVICE_FUNCTION</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">Average</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{...</span>
</code></pre></div>
<hr />
<h2 id="gpu-effects-transitions-prgpu-sdk-macros-other-macros-and-functions">Other Macros and Functions<a class="headerlink" href="#gpu-effects-transitions-prgpu-sdk-macros-other-macros-and-functions" title="Permanent link">&para;</a></h2>
<p>There's a variety of other macros and functions in the KernelSupport headers. Please see the Headers and examples for details.</p></section><section class="print-page" id="gpu-effects-transitions-suites"><h1 id="gpu-effects-transitions-suites-suites">Suites<a class="headerlink" href="#gpu-effects-transitions-suites-suites" title="Permanent link">&para;</a></h1>
<p>For information on how to acquire and manage suites, see <a href="#universals-sweetpea-suites">SweetPea Suites</a>.</p>
<hr />
<h2 id="gpu-effects-transitions-suites-gpu-device-suite">GPU Device Suite<a class="headerlink" href="#gpu-effects-transitions-suites-gpu-device-suite" title="Permanent link">&para;</a></h2>
<p>This suite provides info on any GPU devices available. For example, GetDeviceInfo() allows an effect/transition to see if the device supports OpenCL or CUDA.</p>
<p>Use this suite to get exclusive access to a device using AcquireExclusiveDeviceAccess and ReleaseExclusiveDeviceAccess. If needed, you can reconcile devices using the outDeviceHandle passed back from GetDeviceInfo().</p>
<p>Device memory should ideally be allocated through this suite. In some cases you may find it more efficient to use a texture / image object as the source. With CUDA, you can bind a texture reference to an existing linear buffer. With OpenCL, you can create an image object from an existing 2D buffer object using image_2d_from_buffer. Temporary allocations are also fine but may be rather slow.</p>
<hr />
<h2 id="gpu-effects-transitions-suites-opaque-effect-data-suite">Opaque Effect Data Suite<a class="headerlink" href="#gpu-effects-transitions-suites-opaque-effect-data-suite" title="Permanent link">&para;</a></h2>
<p>This suite provides effects a way to share unflattened sequence data between instances of the same effect on a track item. The data is opaque to the host and effects are responsible for maintaining thread safety of the shared data. The host provides reference-counting that the effect can use to manage the lifetime of the shared data. Here's an overview of how this suite should be used:</p>
<p>When the effect is applied, in <code>PF_Cmd_SEQUENCE_SETUP</code>, the effect plugin allocates and initializes the sequence data in PF_OutData-&gt;out_data. Then it calls</p>
<p>AcquireOpaqueEffectData(). The opaque effect data does not yet exist, so the plugin allocates it, and calls RegisterOpaqueEffectData, and then copies over the data from the sequence data. So both sequence data and opaque effect data are allocated.</p>
<p>Then <code>PF_Cmd_SEQUENCE_RESETUP</code> is called (multiple times) for clones of the effect used for rendering. The effect instance knows it's a clone because the PF_InData-&gt;sequence_data is NULL (there is a special case if the effect has Opaque Effect Data - in that case, its render clones will receive <code>PF_Cmd_SEQUENCE_RESETUP</code> with a NULL sequence_data pointer). It then calls AcquireOpaqueEffectData(). As a render clone, it relies on this opaque effect data, rather than sequence data, and does not try to copy the sequence data to opaque effect data.</p>
<p>When, on the other hand, <code>SEQUENCE_RESETUP</code> is called with valid sequence_data in PF_InData, this is not a render clone. The plugin unflattens this sequence data. It then calls AcquireOpaqueEffectData(), and if the opaque effect data does not yet exist (i.e. when reopening a saved project), the plugin allocates it, and calls RegisterOpaqueEffectData. It then copies the sequence data to opaque effect data.</p>
<p>On <code>SEQUENCE_FLATTEN</code>, the plugin takes the unflattened data, flattens it, and disposes of the un-flat data.</p>
<p>When <code>SEQUENCE_SETDOWN</code> is called (it may be called multiple times to dispose of render clones), ReleaseOpaqueEffectData() is called.</p>
<h3 id="gpu-effects-transitions-suites-instanceid">instanceID<a class="headerlink" href="#gpu-effects-transitions-suites-instanceid" title="Permanent link">&para;</a></h3>
<p>The <a href="#gpu-effects-transitions-suites-opaque-effect-data-suite">Opaque Effect Data Suite</a> functions need the instanceID of the effect. For the software entry point, you can obtain this using GetFilterInstanceID() in PF_UtilitySuite, defined in PrSDKAESupport.h. For the GPU Render entry point, you can use the following code: csSDK_uint32 instanceID;</p>
<div class="highlight"><pre><span></span><code><span class="n">GetProperty</span><span class="p">(</span><span class="w"> </span><span class="n">kVideoSegmentProperty_Effect_RuntimeInstanceID</span><span class="p">,</span><span class="w"> </span><span class="n">instanceID</span><span class="p">);</span>
</code></pre></div>
<p>where GetProperty() is defined in PrGPUFilterModule.h, and the <code>kVideoSegmentProperty_</code> IDs are defined in PrSDKVideoSegmentProperties.h.</p></section><h1 class='nav-section-title-end'>Ended: GPU Effects & Transitions</h1>
                        <h1 class='nav-section-title' id='section-ae-transition-extensions'>
                            AE Transition Extensions <a class='headerlink' href='#section-ae-transition-extensions' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="ae-transition-extensions-getting-started"><h1 id="ae-transition-extensions-getting-started-getting-started">Getting Started<a class="headerlink" href="#ae-transition-extensions-getting-started-getting-started" title="Permanent link">&para;</a></h1>
<h2 id="ae-transition-extensions-getting-started-setting-up-the-sample-project">Setting up the Sample Project<a class="headerlink" href="#ae-transition-extensions-getting-started-setting-up-the-sample-project" title="Permanent link">&para;</a></h2>
<p>If you are developing an transition, begin with the SDK_CrossDissolve sample project, progressively replacing its functionality with your own. Refer to <a href="#.">Introduction</a> for general instructions on how to build sample projects.</p>
<p>In addition to those general instructions, the sample project is also dependent on the After Effects SDK. Download it here. On Windows, create an environment variable pointing to it named "AE_SDK_BASE_PATH", so that the compiler will find the AE headers that the project includes. On</p>
<p>MacOS, in XCode &gt; Preferences &gt; Locations &gt; Custom Paths, specify AE_SDK_BASE_PATH to be the root folder of the AE SDK you have downloaded and unzipped.</p>
<p>As of version 15.4, Premiere Pro no longer supports OpenCL.</p>
<p>If your transition uses CUDA, you'll need to download the CUDA SDK. On Windows, create an environment variable pointing to it named "CUDA_SDK_BASE_PATH", so that the linker will find the right libraries.</p>
<hr />
<h2 id="ae-transition-extensions-getting-started-compatibility-considerations">Compatibility Considerations<a class="headerlink" href="#ae-transition-extensions-getting-started-compatibility-considerations" title="Permanent link">&para;</a></h2>
<p>For compatibility with plugin hosts that doesn't support the AE Transition Extensions, a plugin should check first for the existence of the PF_TransitionSuite suite. If it isn't available, the plugin should act as a normal effect. This is demonstrated in the SDK_CrossDissolve sample project.</p></section><section class="print-page" id="ae-transition-extensions-ae-transition-extensions"><h1 id="ae-transition-extensions-ae-transition-extensions-ae-transition-extensions">AE Transition Extensions<a class="headerlink" href="#ae-transition-extensions-ae-transition-extensions-ae-transition-extensions" title="Permanent link">&para;</a></h1>
<p>This chapter describes how to build native transitions in Premiere Pro based on the After Effects API. From a user-perspective, plugins built this way can show their parameters directly in the Effect Controls panel, even providing custom parameter UI in that panel or in the Sequence Monitor. Such plugins can run not only in Premiere Pro, but also in After Effects, although they will appear as effects rather than transitions.</p>
<p>The transition extensions work on top of effects built using the After Effects SDK. Since AE effects only have a single input, the second input is a layer parameter defined by the plugin.</p></section><section class="print-page" id="ae-transition-extensions-pf_transitionsuite"><h1 id="ae-transition-extensions-pf_transitionsuite-pf_transitionsuite">PF_TransitionSuite<a class="headerlink" href="#ae-transition-extensions-pf_transitionsuite-pf_transitionsuite" title="Permanent link">&para;</a></h1>
<p>In PrSDKAESupport.h, we've added <code>PF_TransitionSuite::RegisterTransitionInputParam()</code>.</p>
<p>This call must be made before the <code>PF_ADD_PARAM()</code> call during <code>PF_Cmd_PARAM_SETUP</code>.</p>
<p>Pass in the param to be used as the input layer for the other side of the transition.</p>
<p>This enables your effect to be applied between two clips in the timeline just like our native transitions, but it will show up in the Effect Controls panel with full keyframable parameters similar to existing AE effects.</p></section><h1 class='nav-section-title-end'>Ended: AE Transition Extensions</h1>
                        <h1 class='nav-section-title' id='section-control-surfaces'>
                            Control Surfaces <a class='headerlink' href='#section-control-surfaces' title='Permanent link'></a>
                        </h1>
                        <section class="print-page" id="control-surfaces-control-surfaces"><h1 id="control-surfaces-control-surfaces-control-surfaces">Control Surfaces<a class="headerlink" href="#control-surfaces-control-surfaces-control-surfaces" title="Permanent link">&para;</a></h1>
<p>Starting in Premiere Pro CC 2014, a control surface plugin can interface with a hardware control surface. This is the API that provides built-in support for EUCON and Mackie devices to control audio mixing and basic transport controls. The API supports two-way communication with Premiere Pro, so that hardware faders, VU meters, etc are in sync with the application.</p>
<p>Compile the sample plugin into a subfolder of the main application folder: <code>Plugins\\ ControlSurface\\</code></p>
<p>You should see the plugin in the PPro UI in Preferences &gt; Control Surface, when you hit the Add button, as one of the options in the Device Class drop-down next to Mackie and EUCON (currently shows as "SDK Control Surface Sample").</p>
<p>You'll want to implement handlers for any relevant functions defined in the plugin suites here: <code>adobesdk\controlsurface\plugin</code></p>
<p>And to do that, you can use any APIs to call into the host defined in the host suites here: <code>adobesdk\controlsurface\host</code></p>
<hr />
<h2 id="control-surfaces-control-surfaces-calling-sequence">Calling Sequence<a class="headerlink" href="#control-surfaces-control-surfaces-calling-sequence" title="Permanent link">&para;</a></h2>
<p>When the application is launched, the control surface plugins are loaded, and the entry point is called. The host ID and API version is passed in, and the plugin passes back ADOBESDK_ControlSurfacePluginFuncs, an array of function pointers.</p>
<p>Next, the Startup() function is called, where the plugin registers a suite of functions as defined in ControlSurfacePluginSuite.h. For each base class it will inherit from (defined in adobesdkcontrolsurfacepluginwrapper), it calls RegisterSuite(). These suites are the way for the host application to call the control surface plugin later on. There are separate base classes for the transport controls, audio mixer, Lumetri Color controls, and more.</p>
<p>Then, CreatePluginInstance() is called. When a project is opened, Connect() is called. Here the plugin instantiates a ControlSurface object, which inherits from any of the previously mentioned base classes. It acquire any host suites it needs, and then it passes back a reference to the ControlSurface object.</p>
<hr />
<h2 id="control-surfaces-control-surfaces-getting-started">Getting Started<a class="headerlink" href="#control-surfaces-control-surfaces-getting-started" title="Permanent link">&para;</a></h2>
<p>Please write us if you would like further guidance.</p></section><h1 class='nav-section-title-end'>Ended: Control Surfaces</h1></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      All content is copyright Adobe Systems Incorporated.
    </div>
  
  
    Made with
    <a
      href="https://squidfunk.github.io/mkdocs-material/"
      target="_blank" rel="noopener"
    >
      Material for MkDocs
    </a>
  
</div>

<!-- Print button -->
<div class="md-copyright">
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "/", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "search.highlight", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.f1b6f286.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../_static/extra.js"></script>
      
        <script src="../docs/_global/js/global.js"></script>
      
    
  </body>
</html>